"use strict";var navSteps,mainSteps,prevBtn,nextBtn,step1Inputs,step1Warnings,step2Inputs,step2Switch,step3Checkboxes,step4Summary,planPricesMo=["$9/mo","$12/mo","$15/mo"],planPricesYr=["$90/yr","$120/yr","$150/yr"],addonPricesMo=["$1/mo","$2/mo","$2/mo"],addonPricesYr=["$10/yr","$20/yr","$20/yr"],selections={},main=function(){prepareDOMElements(),prepareDOMEvents()},prepareDOMElements=function(){navSteps=document.querySelectorAll("nav .step button"),mainSteps=[document.querySelector("main .step-1"),document.querySelector("main .step-2"),document.querySelector("main .step-3"),document.querySelector("main .step-4")],prevBtn=document.querySelector(".prev-step"),nextBtn=document.querySelector(".next-step"),step1Inputs=document.querySelectorAll(".step-1 input"),step1Warnings=document.querySelectorAll(".step-1 div.warning"),step2Inputs=document.querySelectorAll(".step-2 .input-plan"),step2Switch=document.querySelector(".step-2 .period-switch"),step3Checkboxes=document.querySelectorAll(".step-3 input"),step4Summary=document.querySelector(".step-4 .summary")},prepareDOMEvents=function(){navSteps.forEach(function(e){return e.addEventListener("click",navStepSelect)}),nextBtn.addEventListener("click",stepNext),prevBtn.addEventListener("click",stepPrev),step2Inputs.forEach(function(e){return e.addEventListener("click",planSelect)}),step2Switch.querySelector("input").addEventListener("click",periodSelect),step3Checkboxes.forEach(function(e){return e.addEventListener("click",addOnSelect)})},test=function(){},currentStep=function(){for(var e=0;e<navSteps.length;e++)if(navSteps[e].classList.contains("active"))return e},activateStep=function(e){navSteps.forEach(function(e){return e.classList.remove("active")}),navSteps[e].classList.add("active"),mainSteps.forEach(function(e){return e.classList.add("innactive")}),mainSteps[e].classList.remove("innactive"),0!=e?prevBtn.classList.remove("blank"):prevBtn.classList.add("blank"),3==e?(nextBtn.textContent="Confirm",nextBtn.style.backgroundColor="hsl(228, 100%, 84%)"):(nextBtn.textContent="Next step",nextBtn.style.backgroundColor="hsl(213, 96%, 18%)")},stepNext=function(){0==ifCorrect1()&&0==currentStep()?console.log("warunek 1 niespelniony"):0==ifCorrect2()&&1==currentStep()?console.log("warunek 2 niespelniony"):0==ifCorrect3()&&2==currentStep()?console.log("warunek 3 niespelniony"):(sumUp(),activateStep(currentStep()+1))},stepPrev=function(){0<currentStep()&&activateStep(currentStep()-1)},navStepSelect=function(e){activateStep(e.target.textContent-1)},wipeout=function(){step2Switch.querySelector("input").checked=!1,selections.period="Monthly",step3Checkboxes.forEach(function(e){return e.checked=!1}),delete selections.addon1,delete selections.addon2,delete selections.addon3},addActive=function(e){e.classList.add("active")},removeActive=function(e){e.classList.remove("active")},ifCorrect1=function(){for(var e=0,t=0;t<step1Inputs.length;t++)0==step1Inputs[t].value.trim().length?(step1Warnings[t].classList.remove("innactive"),step1Inputs[t].classList.add("warning"),e++):(step1Warnings[t].classList.add("innactive"),step1Inputs[t].classList.remove("warning"));return 0==e},planSelect=function(e){step2Inputs.forEach(function(e){return removeActive(e)});e=e.target.closest(".input-plan"),addActive(e),e=e.querySelector("h2").textContent;selections.plan=e,console.log(selections)},periodSelect=function(){step2Switch.querySelector("input").checked?(selections.period="Yearly",step2Switch.querySelectorAll("div")[2].classList.toggle("selected"),step2Switch.querySelectorAll("div")[0].classList.toggle("selected"),step2Inputs[0].querySelectorAll("div p")[0].textContent=planPricesYr[0],step2Inputs[1].querySelectorAll("div p")[0].textContent=planPricesYr[1],step2Inputs[2].querySelectorAll("div p")[0].textContent=planPricesYr[2],step2Inputs.forEach(function(e){return e.querySelector(".bonus").style.display="flex"}),step3Checkboxes[0].closest(".input-addon").querySelector(".price").textContent=addonPricesYr[0],step3Checkboxes[1].closest(".input-addon").querySelector(".price").textContent=addonPricesYr[1],step3Checkboxes[2].closest(".input-addon").querySelector(".price").textContent=addonPricesYr[2]):(selections.period="Monthly",step2Switch.querySelectorAll("div")[2].classList.toggle("selected"),step2Switch.querySelectorAll("div")[0].classList.toggle("selected"),step2Inputs[0].querySelectorAll("div p")[0].textContent=planPricesMo[0],step2Inputs[1].querySelectorAll("div p")[0].textContent=planPricesMo[1],step2Inputs[2].querySelectorAll("div p")[0].textContent=planPricesMo[2],step2Inputs.forEach(function(e){return e.querySelector(".bonus").style.display="none"}),step3Checkboxes[0].closest(".input-addon").querySelector(".price").textContent=addonPricesMo[0],step3Checkboxes[1].closest(".input-addon").querySelector(".price").textContent=addonPricesMo[1],step3Checkboxes[2].closest(".input-addon").querySelector(".price").textContent=addonPricesMo[2]),console.log(selections)},ifCorrect2=function(){return void 0!==selections.plan&&void 0!==selections.period},addOnSelect=function(e){1==step3Checkboxes[0].checked?(selections.addon[1]="Online services",step3Checkboxes[0].closest(".input-addon").classList.add("active")):(delete selections.addon1,step3Checkboxes[0].closest(".input-addon").classList.remove("active")),1==step3Checkboxes[1].checked?(selections.addon2="Larger storage",step3Checkboxes[1].closest(".input-addon").classList.add("active")):(delete selections.addon2,step3Checkboxes[1].closest(".input-addon").classList.remove("active")),1==step3Checkboxes[2].checked?(selections.addon3="Customizable profile",step3Checkboxes[2].closest(".input-addon").classList.add("active")):(delete selections.addon3,step3Checkboxes[2].closest(".input-addon").classList.remove("active")),console.log(selections)},ifCorrect3=function(){return!0},sumUp=function(){var e;e="Yearly"==selections.period?planPricesYr:planPricesMo;step4Summary.querySelector("h2").textContent=selections.plan+" ("+selections.period+")",step4Summary.querySelector(".plan-price").textContent=e[0];step4Summary.querySelector(".addon1"),step4Summary.querySelector(".addon2"),step4Summary.querySelector(".addon3")};document.addEventListener("DOMContentLoaded",function(){main(),test(),currentStep(),wipeout()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN0ZXAtbmF2LmpzIl0sIm5hbWVzIjpbImFkZG9uUHJpY2VzWXIiLCJuYXZTdGVwcyIsIm1haW5TdGVwcyIsInByZXZCdG4iLCJzdGVwMVdhcm5pbmdzIiwic3RlcDJJbnB1dHMiLCJzdGVwMlN3aXRjaCIsInN0ZXAzQ2hlY2tib3hlcyIsInN0ZXA0U3VtbWFyeSIsIm1haW4iLCJwbGFuUHJpY2VzTW8iLCJwbGFuUHJpY2VzWXIiLCJzZWxlY3Rpb25zIiwicHJlcGFyZURPTUV2ZW50cyIsInByZXBhcmVET01FbGVtZW50cyIsInF1ZXJ5U2VsZWN0b3IiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJuZXh0QnRuIiwic3RlcDFJbnB1dHMiLCJhZGRFdmVudExpc3RlbmVyIiwic3RlcFByZXYiLCJmb3JFYWNoIiwic3RlcCIsIm5hdlN0ZXBTZWxlY3QiLCJzdGVwTmV4dCIsInBsYW4iLCJwbGFuU2VsZWN0IiwicGVyaW9kU2VsZWN0IiwiYWRkb24iLCJjdXJyZW50U3RlcCIsImFkZE9uU2VsZWN0IiwidGVzdCIsImFjdGl2YXRlU3RlcCIsImkiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsImZvcndhcmQiLCJuYXZTdGVwIiwicmVtb3ZlIiwiYWRkIiwibWFpblN0ZXAiLCJ0ZXh0Q29udGVudCIsImJhY2tncm91bmRDb2xvciIsImNvbnNvbGUiLCJzdHlsZSIsImlmQ29ycmVjdDMiLCJpZkNvcnJlY3QxIiwibG9nIiwiaWZDb3JyZWN0MiIsInN1bVVwIiwiY2hlY2tib3giLCJjaGVja2VkIiwid2lwZW91dCIsImFkZEFjdGl2ZSIsImFkZG9uMSIsInJlbW92ZUFjdGl2ZSIsImFkZG9uMiIsImlucHV0Iiwid3JvbmdJbnB1dHMiLCJwbGFuTmFtZSIsImlucHV0UGxhbiIsImNsb3Nlc3QiLCJkaXNwbGF5IiwidG9nZ2xlIiwiYWRkb25QcmljZXNNbyIsInVuZGVmaW5lZCIsInBlcmlvZCIsImFkZG9uMyIsInBsYW5QcmljZXMiLCJhZGRvblByaWNlcyIs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QUFZaEMsR0FBVXdDLFNBQ3RCeEMsV0FBQXdELE9BQUEsdUJBRUQ3RCxnQkFBbUIsR0FBQXVELFFBQWJoQixjQUFtQixFQUFBWCxVQUFBSyxJQUFBLFFBQUEsSUFFeEIsT0FBQTVCLFdBQUF3RCxPQUNEN0QsZ0JBQUEsR0FBQXVELFFBQUEsY0FBQSxFQUFBM0IsVUFBQUksT0FBQSxRQUFBLEdBRUFLLFFBQVdJLElBQUdwQyxVQUFSc0MsQ0FQTixFQVVLdEMsV0FBV3VELFdBUGYsTUFRQ0UsQ0FBQUEsQ0FQRixFQVdFQyxNQUFBQSxXQVBELElBUUFELEVBSUE3RCxFQUR3QixVQUF4QitELFdBQWE3QixPQUNBM0IsYUFJQVAsYUFJYkEsYUFBQU8sY0FBQSxJQUFBLEVBQ0EyQixZQUFBOUIsV0FBQWMsS0FBQSxLQUFBZCxXQUFBdUQsT0FBQSxJQVRBM0QsYUFVQU8sY0FBQSxhQUFBLEVBQUEyQixZQUFBMkIsRUFBQSxHQUVBN0QsYUFBQU8sY0FBQSxTQUFBLEVBQ0FQLGFBQUFPLGNBQUEsU0FBQSxFQUNBUCxhQUFBTyxjQUFBLFNBQUEsQ0FXRCxFQUVBQyxTQUFTSSxpQkFBaUIsbUJBQW9CLFdBQzdDWCxLQUFLLEVBQ0x1QixLQUFLLEVBQ0xGLFlBQVksRUFDWnVCLFFBQVEsQ0FDVCxDQUFDIiwiZmlsZSI6InN0ZXAtbmF2Lm1pbmkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgcGxhblByaWNlc01vID0gWyckOS9tbycsICckMTIvbW8nLCAnJDE1L21vJ11cclxubGV0IHBsYW5QcmljZXNZciA9IFsnJDkwL3lyJywgJyQxMjAveXInLCAnJDE1MC95ciddXHJcbmxldCBhZGRvblByaWNlc01vID0gWyckMS9tbycsICckMi9tbycsICckMi9tbyddXHJcbmxldCBhZGRvblByaWNlc1lyID0gWyckMTAveXInLCAnJDIwL3lyJywgJyQyMC95ciddXHJcblxyXG5sZXQgbmF2U3RlcHNcclxubGV0IG1haW5TdGVwc1xyXG5sZXQgcHJldkJ0blxyXG5sZXQgbmV4dEJ0blxyXG5cclxubGV0IHNlbGVjdGlvbnMgPSB7fVxyXG5cclxubGV0IHN0ZXAxSW5wdXRzXHJcbmxldCBzdGVwMVdhcm5pbmdzXHJcbmxldCBzdGVwMklucHV0c1xyXG5sZXQgc3RlcDJTd2l0Y2hcclxubGV0IHN0ZXAzQ2hlY2tib3hlc1xyXG5sZXQgc3RlcDRTdW1tYXJ5XHJcblxyXG5jb25zdCBtYWluID0gKCkgPT4ge1xyXG5cdHByZXBhcmVET01FbGVtZW50cygpXHJcblx0cHJlcGFyZURPTUV2ZW50cygpXHJcbn1cclxuXHJcbmNvbnN0IHByZXBhcmVET01FbGVtZW50cyA9ICgpID0+IHtcclxuXHRuYXZTdGVwcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ25hdiAuc3RlcCBidXR0b24nKVxyXG5cdG1haW5TdGVwcyA9IFtcclxuXHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21haW4gLnN0ZXAtMScpLFxyXG5cdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWFpbiAuc3RlcC0yJyksXHJcblx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtYWluIC5zdGVwLTMnKSxcclxuXHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21haW4gLnN0ZXAtNCcpLFxyXG5cdF1cclxuXHRwcmV2QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByZXYtc3RlcCcpXHJcblx0bmV4dEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uZXh0LXN0ZXAnKVxyXG5cclxuXHRzdGVwMUlucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdGVwLTEgaW5wdXQnKVxyXG5cdHN0ZXAxV2FybmluZ3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3RlcC0xIGRpdi53YXJuaW5nJylcclxuXHJcblx0c3RlcDJJbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3RlcC0yIC5pbnB1dC1wbGFuJylcclxuXHRzdGVwMlN3aXRjaCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zdGVwLTIgLnBlcmlvZC1zd2l0Y2gnKVxyXG5cclxuXHRzdGVwM0NoZWNrYm94ZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3RlcC0zIGlucHV0JylcclxuXHRzdGVwNFN1bW1hcnkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3RlcC00IC5zdW1tYXJ5JylcclxufVxyXG5cclxuY29uc3QgcHJlcGFyZURPTUV2ZW50cyA9ICgpID0+IHtcclxuXHRuYXZTdGVwcy5mb3JFYWNoKHN0ZXAgPT4gc3RlcC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG5hdlN0ZXBTZWxlY3QpKVxyXG5cdG5leHRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzdGVwTmV4dClcclxuXHRwcmV2QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc3RlcFByZXYpXHJcblx0c3RlcDJJbnB1dHMuZm9yRWFjaChwbGFuID0+IHBsYW4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBwbGFuU2VsZWN0KSlcclxuXHRzdGVwMlN3aXRjaC5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcGVyaW9kU2VsZWN0KVxyXG5cdC8vIHN0ZXAzQ2hlY2tib3hlcy5xdWVyeVNlbGVjdG9yKCdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFkZE9uU2VsZWN0KVxyXG5cdHN0ZXAzQ2hlY2tib3hlcy5mb3JFYWNoKGFkZG9uID0+IGFkZG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYWRkT25TZWxlY3QpKVxyXG59XHJcblxyXG5jb25zdCB0ZXN0ID0gKCkgPT4ge31cclxuXHJcbi8vU1RFUCBOQVZJR0FUSU9OIGFuZCBTVEFSVCBGVU5DU1xyXG5cclxuY29uc3QgY3VycmVudFN0ZXAgPSAoKSA9PiB7XHJcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBuYXZTdGVwcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0aWYgKG5hdlN0ZXBzW2ldLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcclxuXHRcdFx0Ly8gY29uc29sZS5sb2coaSlcclxuXHRcdFx0cmV0dXJuIGlcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IGFjdGl2YXRlU3RlcCA9IGZvcndhcmQgPT4ge1xyXG5cdG5hdlN0ZXBzLmZvckVhY2gobmF2U3RlcCA9PiBuYXZTdGVwLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpKVxyXG5cdG5hdlN0ZXBzW2ZvcndhcmRdLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcblx0bWFpblN0ZXBzLmZvckVhY2gobWFpblN0ZXAgPT4gbWFpblN0ZXAuY2xhc3NMaXN0LmFkZCgnaW5uYWN0aXZlJykpXHJcblx0bWFpblN0ZXBzW2ZvcndhcmRdLmNsYXNzTGlzdC5yZW1vdmUoJ2lubmFjdGl2ZScpXHJcblxyXG5cdGlmIChmb3J3YXJkICE9IDApIHtcclxuXHRcdHByZXZCdG4uY2xhc3NMaXN0LnJlbW92ZSgnYmxhbmsnKVxyXG5cdH0gZWxzZSB7XHJcblx0XHRwcmV2QnRuLmNsYXNzTGlzdC5hZGQoJ2JsYW5rJylcclxuXHR9XHJcblxyXG5cdGlmIChmb3J3YXJkID09IDMpIHtcclxuXHRcdG5leHRCdG4udGV4dENvbnRlbnQgPSAnQ29uZmlybSdcclxuXHRcdG5leHRCdG4uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ2hzbCgyMjgsIDEwMCUsIDg0JSknXHJcblx0fSBlbHNlIHtcclxuXHRcdG5leHRCdG4udGV4dENvbnRlbnQgPSAnTmV4dCBzdGVwJ1xyXG5cdFx0bmV4dEJ0bi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnaHNsKDIxMywgOTYlLCAxOCUpJ1xyXG5cdH1cclxufVxyXG5cclxuY29uc3Qgc3RlcE5leHQgPSAoKSA9PiB7XHJcblx0aWYgKGlmQ29ycmVjdDEoKSA9PSBmYWxzZSAmJiBjdXJyZW50U3RlcCgpID09IDApIHtcclxuXHRcdGNvbnNvbGUubG9nKCd3YXJ1bmVrIDEgbmllc3BlbG5pb255JylcclxuXHR9IGVsc2Uge1xyXG5cdFx0aWYgKGlmQ29ycmVjdDIoKSA9PSBmYWxzZSAmJiBjdXJyZW50U3RlcCgpID09IDEpIHtcclxuXHRcdFx0Y29uc29sZS5sb2coJ3dhcnVuZWsgMiBuaWVzcGVsbmlvbnknKVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0aWYgKGlmQ29ycmVjdDMoKSA9PSBmYWxzZSAmJiBjdXJyZW50U3RlcCgpID09IDIpIHtcclxuXHRcdFx0XHRjb25zb2xlLmxvZygnd2FydW5layAzIG5pZXNwZWxuaW9ueScpXHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0c3VtVXAoKVxyXG5cdFx0XHRcdGFjdGl2YXRlU3RlcChjdXJyZW50U3RlcCgpICsgMSlcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufVxyXG5jb25zdCBzdGVwUHJldiA9ICgpID0+IHtcclxuXHRpZiAoY3VycmVudFN0ZXAoKSA+IDApIHtcclxuXHRcdGFjdGl2YXRlU3RlcChjdXJyZW50U3RlcCgpIC0gMSlcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IG5hdlN0ZXBTZWxlY3QgPSBlID0+IHtcclxuXHRhY3RpdmF0ZVN0ZXAoZS50YXJnZXQudGV4dENvbnRlbnQgLSAxKVxyXG59XHJcblxyXG4vLyBDT01NT05cclxuY29uc3Qgd2lwZW91dCA9ICgpID0+IHtcclxuXHRzdGVwMlN3aXRjaC5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpLmNoZWNrZWQgPSBmYWxzZVxyXG5cdHNlbGVjdGlvbnMucGVyaW9kID0gJ01vbnRobHknXHJcblx0c3RlcDNDaGVja2JveGVzLmZvckVhY2goY2hlY2tib3ggPT4gKGNoZWNrYm94LmNoZWNrZWQgPSBmYWxzZSkpXHJcblx0ZGVsZXRlIHNlbGVjdGlvbnMuYWRkb24xXHJcblx0ZGVsZXRlIHNlbGVjdGlvbnMuYWRkb24yXHJcblx0ZGVsZXRlIHNlbGVjdGlvbnMuYWRkb24zXHJcbn1cclxuY29uc3QgYWRkQWN0aXZlID0gaW5wdXQgPT4ge1xyXG5cdGlucHV0LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbn1cclxuY29uc3QgcmVtb3ZlQWN0aXZlID0gaW5wdXQgPT4ge1xyXG5cdGlucHV0LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcbn1cclxuXHJcbi8vIDEgU1RFUFxyXG5cclxuY29uc3QgaWZDb3JyZWN0MSA9ICgpID0+IHtcclxuXHRsZXQgd3JvbmdJbnB1dHMgPSAwXHJcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBzdGVwMUlucHV0cy5sZW5ndGg7IGkrKykge1xyXG5cdFx0aWYgKHN0ZXAxSW5wdXRzW2ldLnZhbHVlLnRyaW0oKS5sZW5ndGggPT0gMCkge1xyXG5cdFx0XHRzdGVwMVdhcm5pbmdzW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2lubmFjdGl2ZScpXHJcblx0XHRcdHN0ZXAxSW5wdXRzW2ldLmNsYXNzTGlzdC5hZGQoJ3dhcm5pbmcnKVxyXG5cdFx0XHR3cm9uZ0lucHV0cysrXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRzdGVwMVdhcm5pbmdzW2ldLmNsYXNzTGlzdC5hZGQoJ2lubmFjdGl2ZScpXHJcblx0XHRcdHN0ZXAxSW5wdXRzW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ3dhcm5pbmcnKVxyXG5cdFx0fVxyXG5cdH1cclxuXHRpZiAod3JvbmdJbnB1dHMgPT0gMCkge1xyXG5cdFx0cmV0dXJuIHRydWVcclxuXHR9IGVsc2UgcmV0dXJuIGZhbHNlXHJcbn1cclxuXHJcbi8vIDIgU1RFUFxyXG5cclxuY29uc3QgcGxhblNlbGVjdCA9IGUgPT4ge1xyXG5cdHN0ZXAySW5wdXRzLmZvckVhY2goaW5wdXQgPT4gcmVtb3ZlQWN0aXZlKGlucHV0KSlcclxuXHRsZXQgaW5wdXRQbGFuID0gZS50YXJnZXQuY2xvc2VzdCgnLmlucHV0LXBsYW4nKVxyXG5cdGFkZEFjdGl2ZShpbnB1dFBsYW4pXHJcblx0bGV0IHBsYW5OYW1lID0gaW5wdXRQbGFuLnF1ZXJ5U2VsZWN0b3IoJ2gyJykudGV4dENvbnRlbnRcclxuXHRzZWxlY3Rpb25zLnBsYW4gPSBwbGFuTmFtZVxyXG5cdGNvbnNvbGUubG9nKHNlbGVjdGlvbnMpXHJcbn1cclxuXHJcbmNvbnN0IHBlcmlvZFNlbGVjdCA9ICgpID0+IHtcclxuXHRpZiAoc3RlcDJTd2l0Y2gucXVlcnlTZWxlY3RvcignaW5wdXQnKS5jaGVja2VkKSB7XHJcblx0XHRzZWxlY3Rpb25zLnBlcmlvZCA9ICdZZWFybHknXHJcblx0XHRzdGVwMlN3aXRjaC5xdWVyeVNlbGVjdG9yQWxsKCdkaXYnKVsyXS5jbGFzc0xpc3QudG9nZ2xlKCdzZWxlY3RlZCcpXHJcblx0XHRzdGVwMlN3aXRjaC5xdWVyeVNlbGVjdG9yQWxsKCdkaXYnKVswXS5jbGFzc0xpc3QudG9nZ2xlKCdzZWxlY3RlZCcpXHJcblxyXG5cdFx0Ly8gc3RlcDJJbnB1dHNbMF0ucXVlcnlTZWxlY3RvckFsbCgnZGl2IHAnKVswXS50ZXh0Q29udGVudCA9ICckOTAveXInXHJcblx0XHRzdGVwMklucHV0c1swXS5xdWVyeVNlbGVjdG9yQWxsKCdkaXYgcCcpWzBdLnRleHRDb250ZW50ID0gcGxhblByaWNlc1lyWzBdXHJcblx0XHRzdGVwMklucHV0c1sxXS5xdWVyeVNlbGVjdG9yQWxsKCdkaXYgcCcpWzBdLnRleHRDb250ZW50ID0gcGxhblByaWNlc1lyWzFdXHJcblx0XHRzdGVwMklucHV0c1syXS5xdWVyeVNlbGVjdG9yQWxsKCdkaXYgcCcpWzBdLnRleHRDb250ZW50ID0gcGxhblByaWNlc1lyWzJdXHJcblxyXG5cdFx0c3RlcDJJbnB1dHMuZm9yRWFjaChpbnB1dCA9PiAoaW5wdXQucXVlcnlTZWxlY3RvcignLmJvbnVzJykuc3R5bGUuZGlzcGxheSA9ICdmbGV4JykpXHJcblxyXG5cdFx0c3RlcDNDaGVja2JveGVzWzBdLmNsb3Nlc3QoJy5pbnB1dC1hZGRvbicpLnF1ZXJ5U2VsZWN0b3IoJy5wcmljZScpLnRleHRDb250ZW50ID0gYWRkb25QcmljZXNZclswXVxyXG5cdFx0c3RlcDNDaGVja2JveGVzWzFdLmNsb3Nlc3QoJy5pbnB1dC1hZGRvbicpLnF1ZXJ5U2VsZWN0b3IoJy5wcmljZScpLnRleHRDb250ZW50ID0gYWRkb25QcmljZXNZclsxXVxyXG5cdFx0c3RlcDNDaGVja2JveGVzWzJdLmNsb3Nlc3QoJy5pbnB1dC1hZGRvbicpLnF1ZXJ5U2VsZWN0b3IoJy5wcmljZScpLnRleHRDb250ZW50ID0gYWRkb25QcmljZXNZclsyXVxyXG5cdH0gZWxzZSB7XHJcblx0XHRzZWxlY3Rpb25zLnBlcmlvZCA9ICdNb250aGx5J1xyXG5cdFx0c3RlcDJTd2l0Y2gucXVlcnlTZWxlY3RvckFsbCgnZGl2JylbMl0uY2xhc3NMaXN0LnRvZ2dsZSgnc2VsZWN0ZWQnKVxyXG5cdFx0c3RlcDJTd2l0Y2gucXVlcnlTZWxlY3RvckFsbCgnZGl2JylbMF0uY2xhc3NMaXN0LnRvZ2dsZSgnc2VsZWN0ZWQnKVxyXG5cclxuXHRcdHN0ZXAySW5wdXRzWzBdLnF1ZXJ5U2VsZWN0b3JBbGwoJ2RpdiBwJylbMF0udGV4dENvbnRlbnQgPSBwbGFuUHJpY2VzTW9bMF1cclxuXHRcdHN0ZXAySW5wdXRzWzFdLnF1ZXJ5U2VsZWN0b3JBbGwoJ2RpdiBwJylbMF0udGV4dENvbnRlbnQgPSBwbGFuUHJpY2VzTW9bMV1cclxuXHRcdHN0ZXAySW5wdXRzWzJdLnF1ZXJ5U2VsZWN0b3JBbGwoJ2RpdiBwJylbMF0udGV4dENvbnRlbnQgPSBwbGFuUHJpY2VzTW9bMl1cclxuXHJcblx0XHRzdGVwMklucHV0cy5mb3JFYWNoKGlucHV0ID0+IChpbnB1dC5xdWVyeVNlbGVjdG9yKCcuYm9udXMnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnKSlcclxuXHJcblx0XHRzdGVwM0NoZWNrYm94ZXNbMF0uY2xvc2VzdCgnLmlucHV0LWFkZG9uJykucXVlcnlTZWxlY3RvcignLnByaWNlJykudGV4dENvbnRlbnQgPSBhZGRvblByaWNlc01vWzBdXHJcblx0XHRzdGVwM0NoZWNrYm94ZXNbMV0uY2xvc2VzdCgnLmlucHV0LWFkZG9uJykucXVlcnlTZWxlY3RvcignLnByaWNlJykudGV4dENvbnRlbnQgPSBhZGRvblByaWNlc01vWzFdXHJcblx0XHRzdGVwM0NoZWNrYm94ZXNbMl0uY2xvc2VzdCgnLmlucHV0LWFkZG9uJykucXVlcnlTZWxlY3RvcignLnByaWNlJykudGV4dENvbnRlbnQgPSBhZGRvblByaWNlc01vWzJdXHJcblx0fVxyXG5cdGNvbnNvbGUubG9nKHNlbGVjdGlvbnMpXHJcbn1cclxuXHJcbmNvbnN0IGlmQ29ycmVjdDIgPSAoKSA9PiB7XHJcblx0aWYgKHNlbGVjdGlvbnMucGxhbiA9PT0gdW5kZWZpbmVkIHx8IHNlbGVjdGlvbnMucGVyaW9kID09PSB1bmRlZmluZWQpIHtcclxuXHRcdHJldHVybiBmYWxzZVxyXG5cdH0gZWxzZSB7XHJcblx0XHRyZXR1cm4gdHJ1ZVxyXG5cdH1cclxufVxyXG5cclxuLy8gMyBTVEVQXHJcblxyXG5jb25zdCBhZGRPblNlbGVjdCA9IGUgPT4ge1xyXG5cdC8vIGNvbnNvbGUubG9nKGUudGFyZ2V0KTtcclxuXHJcblx0aWYgKHN0ZXAzQ2hlY2tib3hlc1swXS5jaGVja2VkID09IHRydWUpIHtcclxuXHRcdHNlbGVjdGlvbnMuYWRkb25bMV0gPSAnT25saW5lIHNlcnZpY2VzJ1xyXG5cdFx0c3RlcDNDaGVja2JveGVzWzBdLmNsb3Nlc3QoJy5pbnB1dC1hZGRvbicpLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcblx0fSBlbHNlIHtcclxuXHRcdGRlbGV0ZSBzZWxlY3Rpb25zLmFkZG9uMVxyXG5cdFx0c3RlcDNDaGVja2JveGVzWzBdLmNsb3Nlc3QoJy5pbnB1dC1hZGRvbicpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcblx0fVxyXG5cdGlmIChzdGVwM0NoZWNrYm94ZXNbMV0uY2hlY2tlZCA9PSB0cnVlKSB7XHJcblx0XHRzZWxlY3Rpb25zLmFkZG9uMiA9ICdMYXJnZXIgc3RvcmFnZSdcclxuXHRcdHN0ZXAzQ2hlY2tib3hlc1sxXS5jbG9zZXN0KCcuaW5wdXQtYWRkb24nKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxyXG5cdH0gZWxzZSB7XHJcblx0XHRkZWxldGUgc2VsZWN0aW9ucy5hZGRvbjJcclxuXHRcdHN0ZXAzQ2hlY2tib3hlc1sxXS5jbG9zZXN0KCcuaW5wdXQtYWRkb24nKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG5cdH1cclxuXHRpZiAoc3RlcDNDaGVja2JveGVzWzJdLmNoZWNrZWQgPT0gdHJ1ZSkge1xyXG5cdFx0c2VsZWN0aW9ucy5hZGRvbjMgPSAnQ3VzdG9taXphYmxlIHByb2ZpbGUnXHJcblx0XHRzdGVwM0NoZWNrYm94ZXNbMl0uY2xvc2VzdCgnLmlucHV0LWFkZG9uJykuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuXHR9IGVsc2Uge1xyXG5cdFx0ZGVsZXRlIHNlbGVjdGlvbnMuYWRkb24zXHJcblx0XHRzdGVwM0NoZWNrYm94ZXNbMl0uY2xvc2VzdCgnLmlucHV0LWFkZG9uJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuXHR9XHJcblx0Y29uc29sZS5sb2coc2VsZWN0aW9ucylcclxufVxyXG5cclxuY29uc3QgaWZDb3JyZWN0MyA9ICgpID0+IHtcclxuXHRyZXR1cm4gdHJ1ZVxyXG59XHJcbi8vIDQgU1RFUFxyXG5cclxuY29uc3Qgc3VtVXAgPSAoKSA9PiB7XHJcblx0bGV0IHBsYW5QcmljZXNcclxuXHRsZXQgYWRkb25QcmljZXNcclxuXHRpZiAoc2VsZWN0aW9ucy5wZXJpb2QgPT0gJ1llYXJseScpIHtcclxuXHRcdHBsYW5QcmljZXMgPSBwbGFuUHJpY2VzWXJcclxuXHRcdGFkZG9uUHJpY2VzID0gcGxhblByaWNlc1lyXHJcblx0fSBlbHNlIHtcclxuXHRcdHBsYW5QcmljZXMgPSBwbGFuUHJpY2VzTW9cclxuXHRcdGFkZG9uUHJpY2VzID0gcGxhblByaWNlc01vXHJcblx0fVxyXG5cclxuXHRsZXQgc2VsZWN0ZWRQbGFuID0gc3RlcDRTdW1tYXJ5LnF1ZXJ5U2VsZWN0b3IoJ2gyJylcclxuXHRzZWxlY3RlZFBsYW4udGV4dENvbnRlbnQgPSBzZWxlY3Rpb25zLnBsYW4gKyAnICgnICsgc2VsZWN0aW9ucy5wZXJpb2QgKyAnKSdcclxuXHRzdGVwNFN1bW1hcnkucXVlcnlTZWxlY3RvcignLnBsYW4tcHJpY2UnKS50ZXh0Q29udGVudCA9IHBsYW5QcmljZXNbMF1cclxuXHJcblx0bGV0IGFkZG9uMSA9IHN0ZXA0U3VtbWFyeS5xdWVyeVNlbGVjdG9yKCcuYWRkb24xJylcclxuXHRsZXQgYWRkb24yID0gc3RlcDRTdW1tYXJ5LnF1ZXJ5U2VsZWN0b3IoJy5hZGRvbjInKVxyXG5cdGxldCBhZGRvbjMgPSBzdGVwNFN1bW1hcnkucXVlcnlTZWxlY3RvcignLmFkZG9uMycpXHJcblx0bGV0IGFkZG9ucyA9IFthZGRvbjEsIGFkZG9uMiwgYWRkb24zXVxyXG5cclxuXHQvLyBmb3IgKGxldCBpID0gMDsgaSA8IGFkZG9ucy5sZW5ndGg7IGkrKykge1xyXG5cdC8vIFx0aWYgKHNlbGVjdGlvbnMuYWRkb24oaSkgIT0gdW5kZWZpbmVkKSB7XHJcblx0Ly8gY29uc29sZS5sb2coJ3phem5hY3pvbm8gYWRkb24nKyBpKTtcclxuXHQvLyBcdH1cclxuXHRcdFxyXG5cdC8vIH1cclxuXHQvLyBpZiAoc2VsZWN0aW9ucy5hZGRvbjEgIT0gdW5kZWZpbmVkKSB7XHJcblx0Ly8gXHRhZGRvbjEuY2xhc3NMaXN0LnJlbW92ZSgnaW5uYWN0aXZlJylcclxuXHQvLyBcdGFkZG9uMS5xdWVyeVNlbGVjdG9yKCcuYWRkb24tcHJpY2UnKS50ZXh0Q29udGVudCA9IGFkZG9uUHJpY2VzWzBdXHJcblx0Ly8gfVxyXG5cdC8vIGlmIChzZWxlY3Rpb25zLmFkZG9uMiAhPSB1bmRlZmluZWQpIHtcclxuXHQvLyBcdGFkZG9uMi5jbGFzc0xpc3QucmVtb3ZlKCdpbm5hY3RpdmUnKVxyXG5cdC8vIFx0YWRkb24yLnF1ZXJ5U2VsZWN0b3IoJy5hZGRvbi1wcmljZScpLnRleHRDb250ZW50ID0gYWRkb25QcmljZXNbMV1cclxuXHQvLyB9XHJcblx0Ly8gaWYgKHNlbGVjdGlvbnMuYWRkb24zICE9IHVuZGVmaW5lZCkge1xyXG5cdC8vIFx0YWRkb24zLmNsYXNzTGlzdC5yZW1vdmUoJ2lubmFjdGl2ZScpXHJcblx0Ly8gXHRhZGRvbjMucXVlcnlTZWxlY3RvcignLmFkZG9uLXByaWNlJykudGV4dENvbnRlbnQgPSBhZGRvblByaWNlc1syXVxyXG5cdC8vIH1cclxufVxyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcclxuXHRtYWluKClcclxuXHR0ZXN0KClcclxuXHRjdXJyZW50U3RlcCgpXHJcblx0d2lwZW91dCgpXHJcbn0pXHJcbiJdfQ==

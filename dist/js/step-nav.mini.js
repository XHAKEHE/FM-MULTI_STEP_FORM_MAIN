"use strict";var navSteps,mainSteps,prevBtn,nextBtn,step1Inputs,step1Warnings,step2Inputs,step2Switch,step3Checkboxes,step4Summary,step4Total,planPricesMo=["$9/mo","$12/mo","$15/mo"],planPricesYr=["$90/yr","$120/yr","$150/yr"],addonPricesMo=["$1/mo","$2/mo","$2/mo"],addonPricesYr=["$10/yr","$20/yr","$20/yr"],selections={},main=function(){prepareDOMElements(),prepareDOMEvents()},prepareDOMElements=function(){navSteps=document.querySelectorAll("nav .step button"),mainSteps=[document.querySelector("main .step-1"),document.querySelector("main .step-2"),document.querySelector("main .step-3"),document.querySelector("main .step-4")],prevBtn=document.querySelector(".prev-step"),nextBtn=document.querySelector(".next-step"),step1Inputs=document.querySelectorAll(".step-1 input"),step1Warnings=document.querySelectorAll(".step-1 div.warning"),step2Inputs=document.querySelectorAll(".step-2 .input-plan"),step2Switch=document.querySelector(".step-2 .period-switch"),step3Checkboxes=document.querySelectorAll(".step-3 input"),step4Summary=document.querySelector(".step-4 .summary"),step4Total=document.querySelector(".step-4 .total")},prepareDOMEvents=function(){navSteps.forEach(function(e){return e.addEventListener("click",navStepSelect)}),nextBtn.addEventListener("click",stepNext),prevBtn.addEventListener("click",stepPrev),step2Inputs.forEach(function(e){return e.addEventListener("click",planSelect)}),step2Switch.querySelector("input").addEventListener("click",periodSelect),step3Checkboxes.forEach(function(e){return e.addEventListener("click",addOnSelect)})},test=function(){},currentStep=function(){for(var e=0;e<navSteps.length;e++)if(navSteps[e].classList.contains("active"))return e},activateStep=function(e){navSteps.forEach(function(e){return e.classList.remove("active")}),navSteps[e].classList.add("active"),mainSteps.forEach(function(e){return e.classList.add("innactive")}),mainSteps[e].classList.remove("innactive"),0!=e?prevBtn.classList.remove("blank"):prevBtn.classList.add("blank"),3==e?(nextBtn.textContent="Confirm",nextBtn.style.backgroundColor="hsl(228, 100%, 84%)"):(nextBtn.textContent="Next step",nextBtn.style.backgroundColor="hsl(213, 96%, 18%)")},stepNext=function(){0==ifCorrect1()&&0==currentStep()?console.log("warunek 1 niespelniony"):0==ifCorrect2()&&1==currentStep()?console.log("warunek 2 niespelniony"):0==ifCorrect3()&&2==currentStep()?console.log("warunek 3 niespelniony"):activateStep(currentStep()+1)},stepPrev=function(){0<currentStep()&&activateStep(currentStep()-1)},navStepSelect=function(e){activateStep(e.target.textContent-1)},wipeout=function(){step2Switch.querySelector("input").checked=!1,selections.period="Monthly",step3Checkboxes.forEach(function(e){return e.checked=!1}),delete selections.addon1,delete selections.addon2,delete selections.addon3},addActive=function(e){e.classList.add("active")},removeActive=function(e){e.classList.remove("active")},ifCorrect1=function(){for(var e=0,t=0;t<step1Inputs.length;t++)0==step1Inputs[t].value.trim().length?(step1Warnings[t].classList.remove("innactive"),step1Inputs[t].classList.add("warning"),e++):(step1Warnings[t].classList.add("innactive"),step1Inputs[t].classList.remove("warning"));return 0==e},planSelect=function(e){step2Inputs.forEach(function(e){return removeActive(e)});e=e.target.closest(".input-plan"),addActive(e),e=e.querySelector("h2").textContent;selections.plan=e,console.log(selections)},periodSelect=function(){step2Switch.querySelector("input").checked?(selections.period="Yearly",step2Switch.querySelectorAll("div")[2].classList.toggle("selected"),step2Switch.querySelectorAll("div")[0].classList.toggle("selected"),step2Inputs[0].querySelectorAll("div p")[0].textContent=planPricesYr[0],step2Inputs[1].querySelectorAll("div p")[0].textContent=planPricesYr[1],step2Inputs[2].querySelectorAll("div p")[0].textContent=planPricesYr[2],step2Inputs.forEach(function(e){return e.querySelector(".bonus").style.display="flex"}),step3Checkboxes[0].closest(".input-addon").querySelector(".price").textContent=addonPricesYr[0],step3Checkboxes[1].closest(".input-addon").querySelector(".price").textContent=addonPricesYr[1],step3Checkboxes[2].closest(".input-addon").querySelector(".price").textContent=addonPricesYr[2]):(selections.period="Monthly",step2Switch.querySelectorAll("div")[2].classList.toggle("selected"),step2Switch.querySelectorAll("div")[0].classList.toggle("selected"),step2Inputs[0].querySelectorAll("div p")[0].textContent=planPricesMo[0],step2Inputs[1].querySelectorAll("div p")[0].textContent=planPricesMo[1],step2Inputs[2].querySelectorAll("div p")[0].textContent=planPricesMo[2],step2Inputs.forEach(function(e){return e.querySelector(".bonus").style.display="none"}),step3Checkboxes[0].closest(".input-addon").querySelector(".price").textContent=addonPricesMo[0],step3Checkboxes[1].closest(".input-addon").querySelector(".price").textContent=addonPricesMo[1],step3Checkboxes[2].closest(".input-addon").querySelector(".price").textContent=addonPricesMo[2]),console.log(selections)},ifCorrect2=function(){return void 0!==selections.plan&&void 0!==selections.period&&(sumUp(),!0)},addOnSelect=function(e){1==step3Checkboxes[0].checked?(selections.addon1="Online services",step3Checkboxes[0].closest(".input-addon").classList.add("active")):(delete selections.addon1,step3Checkboxes[0].closest(".input-addon").classList.remove("active")),1==step3Checkboxes[1].checked?(selections.addon2="Larger storage",step3Checkboxes[1].closest(".input-addon").classList.add("active")):(delete selections.addon2,step3Checkboxes[1].closest(".input-addon").classList.remove("active")),1==step3Checkboxes[2].checked?(selections.addon3="Customizable profile",step3Checkboxes[2].closest(".input-addon").classList.add("active")):(delete selections.addon3,step3Checkboxes[2].closest(".input-addon").classList.remove("active")),console.log(selections)},ifCorrect3=function(){return!0},sumUp=function(){var e,t="Yearly"==selections.period?(n=planPricesYr,e=addonPricesYr,"yr"):(n=planPricesMo,e=addonPricesMo,"mo");"Arcade"===selections.plan&&(s=n[0]),"Advanced"===selections.plan&&(s=n[1]),"Pro"===selections.plan&&(s=n[2]);step4Summary.querySelector("h2").textContent=selections.plan+" ("+selections.period+")",step4Summary.querySelector(".plan-price").textContent=s;var n=Number(s.slice(1,-3)),s=step4Summary.querySelector(".addon1"),o=step4Summary.querySelector(".addon2"),c=step4Summary.querySelector(".addon3");[s,o,c].forEach(function(e){return e.classList.add("innactive")}),null!=selections.addon1&&(s.classList.remove("innactive"),s.querySelector(".addon-price").textContent=e[0],n+=Number(e[0].slice(1,-3))),null!=selections.addon2&&(o.classList.remove("innactive"),o.querySelector(".addon-price").textContent=e[1],n+=Number(e[1].slice(1,-3))),null!=selections.addon3&&(c.classList.remove("innactive"),c.querySelector(".addon-price").textContent=e[2],n+=Number(e[2].slice(1,-3))),step4Total.querySelector("div").textContent="Total (per "+selections.period.slice(0,-2)+")",step4Total.querySelector(".total-price").textContent="$"+n+"/"+t,console.log(n)};document.addEventListener("DOMContentLoaded",function(){main(),test(),currentStep(),wipeout()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN0ZXAtbmF2LmpzIl0sIm5hbWVzIjpbImFkZG9uUHJpY2VzWXIiLCJuYXZTdGVwcyIsIm1haW5TdGVwcyIsInByZXZCdG4iLCJzdGVwMVdhcm5pbmdzIiwic3RlcDJJbnB1dHMiLCJzdGVwMlN3aXRjaCIsInN0ZXAzQ2hlY2tib3hlcyIsInN0ZXA0U3VtbWFyeSIsInN0ZXA0VG90YWwiLCJtYWluIiwicGxhblByaWNlc01vIiwicGxhblByaWNlc1lyIiwic2VsZWN0aW9ucyIsInByZXBhcmVET01FdmVudHMiLCJwcmVwYXJlRE9NRWxlbWVudHMiLCJxdWVyeVNlbGVjdG9yIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwibmV4dEJ0biIsInN0ZXAxSW5wdXRzIiwiZm9yRWFjaCIsImFkZEV2ZW50TGlzdGVuZXIiLCJuYXZTdGVwU2VsZWN0Iiwic3RlcE5leHQiLCJzdGVwUHJldiIsInBsYW5TZWxlY3QiLCJzdGVwIiwicGxhbiIsInBlcmlvZFNlbGVjdCIsImxlbmd0aCIsImFkZE9uU2VsZWN0IiwidGVzdCIsImkiLCJhY3RpdmF0ZVN0ZXAiLCJuYXZTdGVwIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJmb3J3YXJkIiwicmVtb3ZlIiwiYWRkIiwibWFpblN0ZXAiLCJ0ZXh0Q29udGVudCIsImJhY2tncm91bmRDb2xvciIsImlmQ29ycmVjdDEiLCJjdXJyZW50U3RlcCIsImlmQ29ycmVjdDIiLCJsb2ciLCJjb25zb2xlIiwid2lwZW91dCIsImNoZWNrZWQiLCJlIiwidGFyZ2V0IiwiYWRkQWN0aXZlIiwiaW5wdXQiLCJjaGVja2JveCIsInJlbW92ZUFjdGl2ZSIsImFkZG9uMSIsImFkZG9uMyIsIndyb25nSW5wdXRzIiwidmFsdWUiLCJ0cmltIiwiaW5wdXRQbGFuIiwiY2xvc2VzdCIsInBsYW5OYW1lIiwicGVyaW9kIiwidG9nZ2xlIiwic3R5bGUiLCJkaXNwbGF5IiwidW5kZWZpbmVkIiwiYWRkb25QcmljZXNNbyIsInN1bVVwIiwiYWRkb24yIiwiaWZDb3JyZWN0MyIsInBsYW5QcmljZXMiLCJwZXJpb2RTaG9ydGN1dCIsImFkZG9uUHJpY2VzIiwic2VsZWN0ZWRQbGFuIiwicGxhblByaWNlIiwic2xpY2UiLCJ0b3RhbENvc3QiLCJhZGRvbiIsIk51bWJlciJdLCJtYXBwaW5ncyI6ImFBQUEsSUFHSUEsU0FFQUMsVUFDQUMsUUFDQUMsUUFNQUMsWUFDQUMsY0FDQUMsWUFDQUMsWUFDQUMsZ0JBQ0FDLGFBRUVDLFdBcEJGQyxhQUFlLENBQUMsUUFBUyxTQUFVLFVBQ25DQyxhQUFlLENBQUMsU0FBVSxVQUFXLFdBRHJDRCxjQUFnQixDQUFBLFFBQVMsUUFBVSxTQUNuQ0MsY0FBZ0IsQ0FBQSxTQUFVLFNBQVcsVUFTckNDLFdBQWEsR0FZaEJDLEtBQUFBLFdBQ0FDLG1CQUFBLEVBRURELGlCQUFNQyxDQUZOLEVBVUNaLG1CQUFtQmEsV0FQbkJmLFNBUVVnQixTQUFTRCxpQkFBYyxrQkFBYSxFQVA5Q2QsVUFTVyxDQUNYRSxTQUFBQSxjQUFnQmEsY0FBU0MsRUFFekJiLFNBQUFBLGNBQXVCYSxjQUFBQSxFQUN2QlosU0FBQUEsY0FBdUJVLGNBQWMsRUFFckNULFNBQUFBLGNBQWtCVSxjQUFTQyxHQVQzQmYsUUFZQU0sU0FBYVEsY0FBU0QsWUFBYyxFQUNwQ0csUUFBQUYsU0FBQUQsY0FBQSxZQUFBLEVBVkFJLFlBYVNDLFNBQVFILGlCQUFJLGVBQUEsRUFackJkLGNBWThCa0IsU0FBQUEsaUJBQTBCQyxxQkFBYyxFQVZ0RWxCLFlBV1FpQixTQUFBQSxpQkFBMEJFLHFCQUFTLEVBVjNDbEIsWUFXUWdCLFNBQUFBLGNBQTBCRyx3QkFBUyxFQVQzQ2xCLGdCQVVpQ2UsU0FBQUEsaUJBQTBCSSxlQUFXLEVBUnRFbEIsYUFTWVEsU0FBQUEsY0FBdUJNLGtCQUFpQixFQVJwRGIsV0FTQVEsU0FBQUQsY0FBQSxnQkFBQSxDQVJELEVBUytFRixpQkFBQSxXQUM5RWIsU0FBQW9CLFFBQUEsU0FBQU0sR0FBQSxPQUFBQSxFQUFBTCxpQkFBQSxRQUFBQyxhQUFB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LFNBQUFBLEdBQUFBLE9BQWNpRSxFQUFBN0MsVUFBZ0JNLElBQUFBLFdBQWNrQyxDQUFBQSxDQUFBQSxFQUVwRFAsTUFBQXhELFdBQUE0QyxTQUNBQSxFQUFJNUMsVUFBVzZDLE9BQU0sV0FBYSxFQVJqQ0QsRUFTQUMsY0FBaUJuQixjQUFPLEVBQVdHLFlBQUNrQyxFQUFBLEdBUnBDSSxHQVNxQkUsT0FBQU4sRUFBZ0JsQyxHQUFBQSxNQUFXLEVBQUdrQyxDQUFBQSxDQUFBQSxDQUFBQSxHQUVwRFAsTUFBQXhELFdBQUEyRCxTQUVBL0QsRUFBQUEsVUFBV08sT0FBYSxXQUFRMEIsRUFDaENqQyxFQUFBQSxjQUFXTyxjQUFjLEVBQUEwQixZQUFnQkEsRUFBb0JzQyxHQUM3RGhDLEdBQXNCa0MsT0FBQU4sRUFBQSxHQUFBRyxNQUFBLEVBQUEsQ0FBQSxDQUFBLENBQUEsR0FHR1YsTUFBMUJwRCxXQUFTSyxTQUNSWixFQUFNMEIsVUFBQUcsT0FBQSxXQUFBLEVBQ05QLEVBQU1oQixjQUFBLGNBQUEsRUFBQTBCLFlBQUFrQyxFQUFBLEdBQ04vQixHQUFhcUMsT0FBQU4sRUFBQSxHQUFBRyxNQUFBLEVBQUEsQ0FBQSxDQUFBLENBQUEsR0FSYnRFLFdBQVdPLGNBQWMsS0FBSyxFQUFFMEIsWUFBYyxjQUFnQjdCLFdBQVdvRCxPQUFPYyxNQUFNLEVBQUcsQ0FBQyxDQUFDLEVBQUksSUFDL0Z0RSxXQUFXTyxjQUFjLGNBQWMsRUFBRTBCLFlBQWMsSUFBTXNDLEVBQVksSUFBTUwsRUFDL0UzQixRQUFRRCxJQUFJaUMsQ0FBUyxDQUN0QixFQUVBL0QsU0FBU0ssaUJBQWlCLG1CQUFvQixXQUM3Q1osS0FBSyxFQUNMc0IsS0FBSyxFQUNMYSxZQUFZLEVBQ1pJLFFBQVEsQ0FDVCxDQUFDIiwiZmlsZSI6InN0ZXAtbmF2Lm1pbmkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgcGxhblByaWNlc01vID0gWyckOS9tbycsICckMTIvbW8nLCAnJDE1L21vJ11cclxubGV0IHBsYW5QcmljZXNZciA9IFsnJDkwL3lyJywgJyQxMjAveXInLCAnJDE1MC95ciddXHJcbmxldCBhZGRvblByaWNlc01vID0gWyckMS9tbycsICckMi9tbycsICckMi9tbyddXHJcbmxldCBhZGRvblByaWNlc1lyID0gWyckMTAveXInLCAnJDIwL3lyJywgJyQyMC95ciddXHJcblxyXG5sZXQgbmF2U3RlcHNcclxubGV0IG1haW5TdGVwc1xyXG5sZXQgcHJldkJ0blxyXG5sZXQgbmV4dEJ0blxyXG5cclxubGV0IHNlbGVjdGlvbnMgPSB7fVxyXG5cclxubGV0IHN0ZXAxSW5wdXRzXHJcbmxldCBzdGVwMVdhcm5pbmdzXHJcbmxldCBzdGVwMklucHV0c1xyXG5sZXQgc3RlcDJTd2l0Y2hcclxubGV0IHN0ZXAzQ2hlY2tib3hlc1xyXG5sZXQgc3RlcDRTdW1tYXJ5XHJcbmxldCBzdGVwNFRvdGFsXHJcblxyXG5jb25zdCBtYWluID0gKCkgPT4ge1xyXG5cdHByZXBhcmVET01FbGVtZW50cygpXHJcblx0cHJlcGFyZURPTUV2ZW50cygpXHJcbn1cclxuXHJcbmNvbnN0IHByZXBhcmVET01FbGVtZW50cyA9ICgpID0+IHtcclxuXHRuYXZTdGVwcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ25hdiAuc3RlcCBidXR0b24nKVxyXG5cdG1haW5TdGVwcyA9IFtcclxuXHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21haW4gLnN0ZXAtMScpLFxyXG5cdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWFpbiAuc3RlcC0yJyksXHJcblx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtYWluIC5zdGVwLTMnKSxcclxuXHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21haW4gLnN0ZXAtNCcpLFxyXG5cdF1cclxuXHRwcmV2QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByZXYtc3RlcCcpXHJcblx0bmV4dEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uZXh0LXN0ZXAnKVxyXG5cclxuXHRzdGVwMUlucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdGVwLTEgaW5wdXQnKVxyXG5cdHN0ZXAxV2FybmluZ3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3RlcC0xIGRpdi53YXJuaW5nJylcclxuXHJcblx0c3RlcDJJbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3RlcC0yIC5pbnB1dC1wbGFuJylcclxuXHRzdGVwMlN3aXRjaCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zdGVwLTIgLnBlcmlvZC1zd2l0Y2gnKVxyXG5cclxuXHRzdGVwM0NoZWNrYm94ZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3RlcC0zIGlucHV0JylcclxuXHJcblx0c3RlcDRTdW1tYXJ5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN0ZXAtNCAuc3VtbWFyeScpXHJcblx0c3RlcDRUb3RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zdGVwLTQgLnRvdGFsJylcclxufVxyXG5cclxuY29uc3QgcHJlcGFyZURPTUV2ZW50cyA9ICgpID0+IHtcclxuXHRuYXZTdGVwcy5mb3JFYWNoKHN0ZXAgPT4gc3RlcC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG5hdlN0ZXBTZWxlY3QpKVxyXG5cdG5leHRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzdGVwTmV4dClcclxuXHRwcmV2QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc3RlcFByZXYpXHJcblx0c3RlcDJJbnB1dHMuZm9yRWFjaChwbGFuID0+IHBsYW4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBwbGFuU2VsZWN0KSlcclxuXHRzdGVwMlN3aXRjaC5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcGVyaW9kU2VsZWN0KVxyXG5cdC8vIHN0ZXAzQ2hlY2tib3hlcy5xdWVyeVNlbGVjdG9yKCdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFkZE9uU2VsZWN0KVxyXG5cdHN0ZXAzQ2hlY2tib3hlcy5mb3JFYWNoKGFkZG9uID0+IGFkZG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYWRkT25TZWxlY3QpKVxyXG59XHJcblxyXG5jb25zdCB0ZXN0ID0gKCkgPT4ge31cclxuXHJcbi8vU1RFUCBOQVZJR0FUSU9OIGFuZCBTVEFSVCBGVU5DU1xyXG5cclxuY29uc3QgY3VycmVudFN0ZXAgPSAoKSA9PiB7XHJcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBuYXZTdGVwcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0aWYgKG5hdlN0ZXBzW2ldLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcclxuXHRcdFx0Ly8gY29uc29sZS5sb2coaSlcclxuXHRcdFx0cmV0dXJuIGlcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IGFjdGl2YXRlU3RlcCA9IGZvcndhcmQgPT4ge1xyXG5cdG5hdlN0ZXBzLmZvckVhY2gobmF2U3RlcCA9PiBuYXZTdGVwLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpKVxyXG5cdG5hdlN0ZXBzW2ZvcndhcmRdLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcblx0bWFpblN0ZXBzLmZvckVhY2gobWFpblN0ZXAgPT4gbWFpblN0ZXAuY2xhc3NMaXN0LmFkZCgnaW5uYWN0aXZlJykpXHJcblx0bWFpblN0ZXBzW2ZvcndhcmRdLmNsYXNzTGlzdC5yZW1vdmUoJ2lubmFjdGl2ZScpXHJcblxyXG5cdGlmIChmb3J3YXJkICE9IDApIHtcclxuXHRcdHByZXZCdG4uY2xhc3NMaXN0LnJlbW92ZSgnYmxhbmsnKVxyXG5cdH0gZWxzZSB7XHJcblx0XHRwcmV2QnRuLmNsYXNzTGlzdC5hZGQoJ2JsYW5rJylcclxuXHR9XHJcblxyXG5cdGlmIChmb3J3YXJkID09IDMpIHtcclxuXHRcdG5leHRCdG4udGV4dENvbnRlbnQgPSAnQ29uZmlybSdcclxuXHRcdG5leHRCdG4uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ2hzbCgyMjgsIDEwMCUsIDg0JSknXHJcblx0fSBlbHNlIHtcclxuXHRcdG5leHRCdG4udGV4dENvbnRlbnQgPSAnTmV4dCBzdGVwJ1xyXG5cdFx0bmV4dEJ0bi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnaHNsKDIxMywgOTYlLCAxOCUpJ1xyXG5cdH1cclxufVxyXG5cclxuY29uc3Qgc3RlcE5leHQgPSAoKSA9PiB7XHJcblx0aWYgKGlmQ29ycmVjdDEoKSA9PSBmYWxzZSAmJiBjdXJyZW50U3RlcCgpID09IDApIHtcclxuXHRcdGNvbnNvbGUubG9nKCd3YXJ1bmVrIDEgbmllc3BlbG5pb255JylcclxuXHR9IGVsc2Uge1xyXG5cdFx0aWYgKGlmQ29ycmVjdDIoKSA9PSBmYWxzZSAmJiBjdXJyZW50U3RlcCgpID09IDEpIHtcclxuXHRcdFx0Y29uc29sZS5sb2coJ3dhcnVuZWsgMiBuaWVzcGVsbmlvbnknKVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0aWYgKGlmQ29ycmVjdDMoKSA9PSBmYWxzZSAmJiBjdXJyZW50U3RlcCgpID09IDIpIHtcclxuXHRcdFx0XHRjb25zb2xlLmxvZygnd2FydW5layAzIG5pZXNwZWxuaW9ueScpXHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0YWN0aXZhdGVTdGVwKGN1cnJlbnRTdGVwKCkgKyAxKVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59XHJcbmNvbnN0IHN0ZXBQcmV2ID0gKCkgPT4ge1xyXG5cdGlmIChjdXJyZW50U3RlcCgpID4gMCkge1xyXG5cdFx0YWN0aXZhdGVTdGVwKGN1cnJlbnRTdGVwKCkgLSAxKVxyXG5cdH1cclxufVxyXG5cclxuY29uc3QgbmF2U3RlcFNlbGVjdCA9IGUgPT4ge1xyXG5cdGFjdGl2YXRlU3RlcChlLnRhcmdldC50ZXh0Q29udGVudCAtIDEpXHJcbn1cclxuXHJcbi8vIENPTU1PTlxyXG5jb25zdCB3aXBlb3V0ID0gKCkgPT4ge1xyXG5cdHN0ZXAyU3dpdGNoLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JykuY2hlY2tlZCA9IGZhbHNlXHJcblx0c2VsZWN0aW9ucy5wZXJpb2QgPSAnTW9udGhseSdcclxuXHRzdGVwM0NoZWNrYm94ZXMuZm9yRWFjaChjaGVja2JveCA9PiAoY2hlY2tib3guY2hlY2tlZCA9IGZhbHNlKSlcclxuXHRkZWxldGUgc2VsZWN0aW9ucy5hZGRvbjFcclxuXHRkZWxldGUgc2VsZWN0aW9ucy5hZGRvbjJcclxuXHRkZWxldGUgc2VsZWN0aW9ucy5hZGRvbjNcclxufVxyXG5jb25zdCBhZGRBY3RpdmUgPSBpbnB1dCA9PiB7XHJcblx0aW5wdXQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxufVxyXG5jb25zdCByZW1vdmVBY3RpdmUgPSBpbnB1dCA9PiB7XHJcblx0aW5wdXQuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxufVxyXG5cclxuLy8gMSBTVEVQXHJcblxyXG5jb25zdCBpZkNvcnJlY3QxID0gKCkgPT4ge1xyXG5cdGxldCB3cm9uZ0lucHV0cyA9IDBcclxuXHRmb3IgKGxldCBpID0gMDsgaSA8IHN0ZXAxSW5wdXRzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRpZiAoc3RlcDFJbnB1dHNbaV0udmFsdWUudHJpbSgpLmxlbmd0aCA9PSAwKSB7XHJcblx0XHRcdHN0ZXAxV2FybmluZ3NbaV0uY2xhc3NMaXN0LnJlbW92ZSgnaW5uYWN0aXZlJylcclxuXHRcdFx0c3RlcDFJbnB1dHNbaV0uY2xhc3NMaXN0LmFkZCgnd2FybmluZycpXHJcblx0XHRcdHdyb25nSW5wdXRzKytcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHN0ZXAxV2FybmluZ3NbaV0uY2xhc3NMaXN0LmFkZCgnaW5uYWN0aXZlJylcclxuXHRcdFx0c3RlcDFJbnB1dHNbaV0uY2xhc3NMaXN0LnJlbW92ZSgnd2FybmluZycpXHJcblx0XHR9XHJcblx0fVxyXG5cdGlmICh3cm9uZ0lucHV0cyA9PSAwKSB7XHJcblx0XHRyZXR1cm4gdHJ1ZVxyXG5cdH0gZWxzZSByZXR1cm4gZmFsc2VcclxufVxyXG5cclxuLy8gMiBTVEVQXHJcblxyXG5jb25zdCBwbGFuU2VsZWN0ID0gZSA9PiB7XHJcblx0c3RlcDJJbnB1dHMuZm9yRWFjaChpbnB1dCA9PiByZW1vdmVBY3RpdmUoaW5wdXQpKVxyXG5cdGxldCBpbnB1dFBsYW4gPSBlLnRhcmdldC5jbG9zZXN0KCcuaW5wdXQtcGxhbicpXHJcblx0YWRkQWN0aXZlKGlucHV0UGxhbilcclxuXHRsZXQgcGxhbk5hbWUgPSBpbnB1dFBsYW4ucXVlcnlTZWxlY3RvcignaDInKS50ZXh0Q29udGVudFxyXG5cdHNlbGVjdGlvbnMucGxhbiA9IHBsYW5OYW1lXHJcblx0Y29uc29sZS5sb2coc2VsZWN0aW9ucylcclxufVxyXG5cclxuY29uc3QgcGVyaW9kU2VsZWN0ID0gKCkgPT4ge1xyXG5cdGlmIChzdGVwMlN3aXRjaC5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpLmNoZWNrZWQpIHtcclxuXHRcdHNlbGVjdGlvbnMucGVyaW9kID0gJ1llYXJseSdcclxuXHRcdHN0ZXAyU3dpdGNoLnF1ZXJ5U2VsZWN0b3JBbGwoJ2RpdicpWzJdLmNsYXNzTGlzdC50b2dnbGUoJ3NlbGVjdGVkJylcclxuXHRcdHN0ZXAyU3dpdGNoLnF1ZXJ5U2VsZWN0b3JBbGwoJ2RpdicpWzBdLmNsYXNzTGlzdC50b2dnbGUoJ3NlbGVjdGVkJylcclxuXHJcblx0XHQvLyBzdGVwMklucHV0c1swXS5xdWVyeVNlbGVjdG9yQWxsKCdkaXYgcCcpWzBdLnRleHRDb250ZW50ID0gJyQ5MC95cidcclxuXHRcdHN0ZXAySW5wdXRzWzBdLnF1ZXJ5U2VsZWN0b3JBbGwoJ2RpdiBwJylbMF0udGV4dENvbnRlbnQgPSBwbGFuUHJpY2VzWXJbMF1cclxuXHRcdHN0ZXAySW5wdXRzWzFdLnF1ZXJ5U2VsZWN0b3JBbGwoJ2RpdiBwJylbMF0udGV4dENvbnRlbnQgPSBwbGFuUHJpY2VzWXJbMV1cclxuXHRcdHN0ZXAySW5wdXRzWzJdLnF1ZXJ5U2VsZWN0b3JBbGwoJ2RpdiBwJylbMF0udGV4dENvbnRlbnQgPSBwbGFuUHJpY2VzWXJbMl1cclxuXHJcblx0XHRzdGVwMklucHV0cy5mb3JFYWNoKGlucHV0ID0+IChpbnB1dC5xdWVyeVNlbGVjdG9yKCcuYm9udXMnKS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnKSlcclxuXHJcblx0XHRzdGVwM0NoZWNrYm94ZXNbMF0uY2xvc2VzdCgnLmlucHV0LWFkZG9uJykucXVlcnlTZWxlY3RvcignLnByaWNlJykudGV4dENvbnRlbnQgPSBhZGRvblByaWNlc1lyWzBdXHJcblx0XHRzdGVwM0NoZWNrYm94ZXNbMV0uY2xvc2VzdCgnLmlucHV0LWFkZG9uJykucXVlcnlTZWxlY3RvcignLnByaWNlJykudGV4dENvbnRlbnQgPSBhZGRvblByaWNlc1lyWzFdXHJcblx0XHRzdGVwM0NoZWNrYm94ZXNbMl0uY2xvc2VzdCgnLmlucHV0LWFkZG9uJykucXVlcnlTZWxlY3RvcignLnByaWNlJykudGV4dENvbnRlbnQgPSBhZGRvblByaWNlc1lyWzJdXHJcblx0fSBlbHNlIHtcclxuXHRcdHNlbGVjdGlvbnMucGVyaW9kID0gJ01vbnRobHknXHJcblx0XHRzdGVwMlN3aXRjaC5xdWVyeVNlbGVjdG9yQWxsKCdkaXYnKVsyXS5jbGFzc0xpc3QudG9nZ2xlKCdzZWxlY3RlZCcpXHJcblx0XHRzdGVwMlN3aXRjaC5xdWVyeVNlbGVjdG9yQWxsKCdkaXYnKVswXS5jbGFzc0xpc3QudG9nZ2xlKCdzZWxlY3RlZCcpXHJcblxyXG5cdFx0c3RlcDJJbnB1dHNbMF0ucXVlcnlTZWxlY3RvckFsbCgnZGl2IHAnKVswXS50ZXh0Q29udGVudCA9IHBsYW5QcmljZXNNb1swXVxyXG5cdFx0c3RlcDJJbnB1dHNbMV0ucXVlcnlTZWxlY3RvckFsbCgnZGl2IHAnKVswXS50ZXh0Q29udGVudCA9IHBsYW5QcmljZXNNb1sxXVxyXG5cdFx0c3RlcDJJbnB1dHNbMl0ucXVlcnlTZWxlY3RvckFsbCgnZGl2IHAnKVswXS50ZXh0Q29udGVudCA9IHBsYW5QcmljZXNNb1syXVxyXG5cclxuXHRcdHN0ZXAySW5wdXRzLmZvckVhY2goaW5wdXQgPT4gKGlucHV0LnF1ZXJ5U2VsZWN0b3IoJy5ib251cycpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZScpKVxyXG5cclxuXHRcdHN0ZXAzQ2hlY2tib3hlc1swXS5jbG9zZXN0KCcuaW5wdXQtYWRkb24nKS5xdWVyeVNlbGVjdG9yKCcucHJpY2UnKS50ZXh0Q29udGVudCA9IGFkZG9uUHJpY2VzTW9bMF1cclxuXHRcdHN0ZXAzQ2hlY2tib3hlc1sxXS5jbG9zZXN0KCcuaW5wdXQtYWRkb24nKS5xdWVyeVNlbGVjdG9yKCcucHJpY2UnKS50ZXh0Q29udGVudCA9IGFkZG9uUHJpY2VzTW9bMV1cclxuXHRcdHN0ZXAzQ2hlY2tib3hlc1syXS5jbG9zZXN0KCcuaW5wdXQtYWRkb24nKS5xdWVyeVNlbGVjdG9yKCcucHJpY2UnKS50ZXh0Q29udGVudCA9IGFkZG9uUHJpY2VzTW9bMl1cclxuXHR9XHJcblx0Y29uc29sZS5sb2coc2VsZWN0aW9ucylcclxufVxyXG5cclxuY29uc3QgaWZDb3JyZWN0MiA9ICgpID0+IHtcclxuXHRpZiAoc2VsZWN0aW9ucy5wbGFuID09PSB1bmRlZmluZWQgfHwgc2VsZWN0aW9ucy5wZXJpb2QgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0cmV0dXJuIGZhbHNlXHJcblx0fSBlbHNlIHtcclxuXHRcdHN1bVVwKClcclxuXHRcdHJldHVybiB0cnVlXHJcblx0fVxyXG59XHJcblxyXG4vLyAzIFNURVBcclxuXHJcbmNvbnN0IGFkZE9uU2VsZWN0ID0gZSA9PiB7XHJcblx0Ly8gY29uc29sZS5sb2coZS50YXJnZXQpO1xyXG5cclxuXHRpZiAoc3RlcDNDaGVja2JveGVzWzBdLmNoZWNrZWQgPT0gdHJ1ZSkge1xyXG5cdFx0c2VsZWN0aW9ucy5hZGRvbjEgPSAnT25saW5lIHNlcnZpY2VzJ1xyXG5cdFx0c3RlcDNDaGVja2JveGVzWzBdLmNsb3Nlc3QoJy5pbnB1dC1hZGRvbicpLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcblx0fSBlbHNlIHtcclxuXHRcdGRlbGV0ZSBzZWxlY3Rpb25zLmFkZG9uMVxyXG5cdFx0c3RlcDNDaGVja2JveGVzWzBdLmNsb3Nlc3QoJy5pbnB1dC1hZGRvbicpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcblx0fVxyXG5cdGlmIChzdGVwM0NoZWNrYm94ZXNbMV0uY2hlY2tlZCA9PSB0cnVlKSB7XHJcblx0XHRzZWxlY3Rpb25zLmFkZG9uMiA9ICdMYXJnZXIgc3RvcmFnZSdcclxuXHRcdHN0ZXAzQ2hlY2tib3hlc1sxXS5jbG9zZXN0KCcuaW5wdXQtYWRkb24nKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxyXG5cdH0gZWxzZSB7XHJcblx0XHRkZWxldGUgc2VsZWN0aW9ucy5hZGRvbjJcclxuXHRcdHN0ZXAzQ2hlY2tib3hlc1sxXS5jbG9zZXN0KCcuaW5wdXQtYWRkb24nKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG5cdH1cclxuXHRpZiAoc3RlcDNDaGVja2JveGVzWzJdLmNoZWNrZWQgPT0gdHJ1ZSkge1xyXG5cdFx0c2VsZWN0aW9ucy5hZGRvbjMgPSAnQ3VzdG9taXphYmxlIHByb2ZpbGUnXHJcblx0XHRzdGVwM0NoZWNrYm94ZXNbMl0uY2xvc2VzdCgnLmlucHV0LWFkZG9uJykuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuXHR9IGVsc2Uge1xyXG5cdFx0ZGVsZXRlIHNlbGVjdGlvbnMuYWRkb24zXHJcblx0XHRzdGVwM0NoZWNrYm94ZXNbMl0uY2xvc2VzdCgnLmlucHV0LWFkZG9uJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuXHR9XHJcblx0Y29uc29sZS5sb2coc2VsZWN0aW9ucylcclxufVxyXG5cclxuY29uc3QgaWZDb3JyZWN0MyA9ICgpID0+IHtcclxuXHRyZXR1cm4gdHJ1ZVxyXG59XHJcbi8vIDQgU1RFUFxyXG5cclxuY29uc3Qgc3VtVXAgPSAoKSA9PiB7XHJcblx0bGV0IHBsYW5QcmljZXNcclxuXHRsZXQgcGxhblByaWNlXHJcblx0bGV0IGFkZG9uUHJpY2VzXHJcblx0bGV0IHBlcmlvZFNob3J0Y3V0XHJcblx0aWYgKHNlbGVjdGlvbnMucGVyaW9kID09ICdZZWFybHknKSB7XHJcblx0XHRwbGFuUHJpY2VzID0gcGxhblByaWNlc1lyXHJcblx0XHRhZGRvblByaWNlcyA9IGFkZG9uUHJpY2VzWXJcclxuXHRcdHBlcmlvZFNob3J0Y3V0ID0gJ3lyJ1xyXG5cdH0gZWxzZSB7XHJcblx0XHRwbGFuUHJpY2VzID0gcGxhblByaWNlc01vXHJcblx0XHRhZGRvblByaWNlcyA9IGFkZG9uUHJpY2VzTW9cclxuXHRcdHBlcmlvZFNob3J0Y3V0ID0gJ21vJ1xyXG5cdH1cclxuXHRpZiAoc2VsZWN0aW9ucy5wbGFuID09PSAnQXJjYWRlJykge1xyXG5cdFx0cGxhblByaWNlID0gcGxhblByaWNlc1swXVxyXG5cdH1cclxuXHRpZiAoc2VsZWN0aW9ucy5wbGFuID09PSAnQWR2YW5jZWQnKSB7XHJcblx0XHRwbGFuUHJpY2UgPSBwbGFuUHJpY2VzWzFdXHJcblx0fVxyXG5cdGlmIChzZWxlY3Rpb25zLnBsYW4gPT09ICdQcm8nKSB7XHJcblx0XHRwbGFuUHJpY2UgPSBwbGFuUHJpY2VzWzJdXHJcblx0fVxyXG5cdGxldCBzZWxlY3RlZFBsYW4gPSBzdGVwNFN1bW1hcnkucXVlcnlTZWxlY3RvcignaDInKVxyXG5cdHNlbGVjdGVkUGxhbi50ZXh0Q29udGVudCA9IHNlbGVjdGlvbnMucGxhbiArICcgKCcgKyBzZWxlY3Rpb25zLnBlcmlvZCArICcpJ1xyXG5cdHN0ZXA0U3VtbWFyeS5xdWVyeVNlbGVjdG9yKCcucGxhbi1wcmljZScpLnRleHRDb250ZW50ID0gcGxhblByaWNlXHJcblx0bGV0IHRvdGFsQ29zdCA9IE51bWJlcihwbGFuUHJpY2Uuc2xpY2UoMSwgLTMpKVxyXG5cclxuXHRsZXQgYWRkb24xID0gc3RlcDRTdW1tYXJ5LnF1ZXJ5U2VsZWN0b3IoJy5hZGRvbjEnKVxyXG5cdGxldCBhZGRvbjIgPSBzdGVwNFN1bW1hcnkucXVlcnlTZWxlY3RvcignLmFkZG9uMicpXHJcblx0bGV0IGFkZG9uMyA9IHN0ZXA0U3VtbWFyeS5xdWVyeVNlbGVjdG9yKCcuYWRkb24zJylcclxuXHRsZXQgYWRkb25zID0gW2FkZG9uMSwgYWRkb24yLCBhZGRvbjNdXHJcblx0YWRkb25zLmZvckVhY2goYWRkb24gPT4gYWRkb24uY2xhc3NMaXN0LmFkZCgnaW5uYWN0aXZlJykpXHJcblxyXG5cdGlmIChzZWxlY3Rpb25zLmFkZG9uMSAhPSB1bmRlZmluZWQpIHtcclxuXHRcdGFkZG9uMS5jbGFzc0xpc3QucmVtb3ZlKCdpbm5hY3RpdmUnKVxyXG5cdFx0YWRkb24xLnF1ZXJ5U2VsZWN0b3IoJy5hZGRvbi1wcmljZScpLnRleHRDb250ZW50ID0gYWRkb25QcmljZXNbMF1cclxuXHRcdHRvdGFsQ29zdCA9IHRvdGFsQ29zdCArIE51bWJlcihhZGRvblByaWNlc1swXS5zbGljZSgxLCAtMykpXHJcblx0fVxyXG5cdGlmIChzZWxlY3Rpb25zLmFkZG9uMiAhPSB1bmRlZmluZWQpIHtcclxuXHRcdGFkZG9uMi5jbGFzc0xpc3QucmVtb3ZlKCdpbm5hY3RpdmUnKVxyXG5cdFx0YWRkb24yLnF1ZXJ5U2VsZWN0b3IoJy5hZGRvbi1wcmljZScpLnRleHRDb250ZW50ID0gYWRkb25QcmljZXNbMV1cclxuXHRcdHRvdGFsQ29zdCA9IHRvdGFsQ29zdCArIE51bWJlcihhZGRvblByaWNlc1sxXS5zbGljZSgxLCAtMykpXHJcblx0fVxyXG5cdGlmIChzZWxlY3Rpb25zLmFkZG9uMyAhPSB1bmRlZmluZWQpIHtcclxuXHRcdGFkZG9uMy5jbGFzc0xpc3QucmVtb3ZlKCdpbm5hY3RpdmUnKVxyXG5cdFx0YWRkb24zLnF1ZXJ5U2VsZWN0b3IoJy5hZGRvbi1wcmljZScpLnRleHRDb250ZW50ID0gYWRkb25QcmljZXNbMl1cclxuXHRcdHRvdGFsQ29zdCA9IHRvdGFsQ29zdCArIE51bWJlcihhZGRvblByaWNlc1syXS5zbGljZSgxLCAtMykpXHJcblx0fVxyXG5cclxuXHRzdGVwNFRvdGFsLnF1ZXJ5U2VsZWN0b3IoJ2RpdicpLnRleHRDb250ZW50ID0gJ1RvdGFsIChwZXIgJyArIHNlbGVjdGlvbnMucGVyaW9kLnNsaWNlKDAsIC0yKSArICcpJ1xyXG5cdHN0ZXA0VG90YWwucXVlcnlTZWxlY3RvcignLnRvdGFsLXByaWNlJykudGV4dENvbnRlbnQgPSAnJCcgKyB0b3RhbENvc3QgKyAnLycgKyBwZXJpb2RTaG9ydGN1dFxyXG5cdGNvbnNvbGUubG9nKHRvdGFsQ29zdClcclxufVxyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcclxuXHRtYWluKClcclxuXHR0ZXN0KClcclxuXHRjdXJyZW50U3RlcCgpXHJcblx0d2lwZW91dCgpXHJcbn0pXHJcbiJdfQ==

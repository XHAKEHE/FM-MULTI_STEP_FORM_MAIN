"use strict";var navSteps,mainSteps,prevBtn,nextBtn,step1Inputs,step1Warnings,step2Inputs,step2Switch,step3Checkboxes,selections={},main=function(){prepareDOMElements(),prepareDOMEvents()},prepareDOMElements=function(){navSteps=document.querySelectorAll("nav .step button"),mainSteps=[document.querySelector("main .step-1"),document.querySelector("main .step-2"),document.querySelector("main .step-3"),document.querySelector("main .step-4")],prevBtn=document.querySelector(".prev-step"),nextBtn=document.querySelector(".next-step"),step1Inputs=document.querySelectorAll(".step-1 input"),step1Warnings=document.querySelectorAll(".step-1 div.warning"),step2Inputs=document.querySelectorAll(".step-2 .input-plan"),step2Switch=document.querySelector(".step-2 .period-switch"),step3Checkboxes=document.querySelectorAll(".step-3 input")},prepareDOMEvents=function(){navSteps.forEach(function(e){return e.addEventListener("click",navStepSelect)}),nextBtn.addEventListener("click",stepNext),prevBtn.addEventListener("click",stepPrev),step2Inputs.forEach(function(e){return e.addEventListener("click",planSelect)}),step2Switch.querySelector("input").addEventListener("click",periodSelect),step3Checkboxes.forEach(function(e){return e.addEventListener("click",addOnSelect)})},test=function(){},currentStep=function(){for(var e=0;e<navSteps.length;e++)if(navSteps[e].classList.contains("active"))return e},activateStep=function(e){navSteps.forEach(function(e){return e.classList.remove("active")}),navSteps[e].classList.add("active"),mainSteps.forEach(function(e){return e.classList.add("innactive")}),mainSteps[e].classList.remove("innactive"),0!=e?prevBtn.classList.remove("blank"):prevBtn.classList.add("blank"),3==e?(nextBtn.textContent="Confirm",nextBtn.style.backgroundColor="hsl(228, 100%, 84%)"):(nextBtn.textContent="Next step",nextBtn.style.backgroundColor="hsl(213, 96%, 18%)")},stepNext=function(){0==ifCorrect1()&&0==currentStep()?console.log("warunek 1 niespelniony"):0==ifCorrect2()&&1==currentStep()?console.log("warunek 2 niespelniony"):0==ifCorrect3()&&2==currentStep()?console.log("warunek 3 niespelniony"):activateStep(currentStep()+1)},stepPrev=function(){0<currentStep()&&activateStep(currentStep()-1)},navStepSelect=function(e){activateStep(e.target.textContent-1)},wipeout=function(){step2Switch.querySelector("input").checked=!1,selections.period="Monthly",step3Checkboxes.forEach(function(e){return e.checked=!1}),delete selections.addon1,delete selections.addon2,delete selections.addon3},addActive=function(e){e.classList.add("active")},removeActive=function(e){e.classList.remove("active")},ifCorrect1=function(){for(var e=0,t=0;t<step1Inputs.length;t++)0==step1Inputs[t].value.trim().length?(step1Warnings[t].classList.remove("innactive"),step1Inputs[t].classList.add("warning"),e++):(step1Warnings[t].classList.add("innactive"),step1Inputs[t].classList.remove("warning"));return 0==e},planSelect=function(e){step2Inputs.forEach(function(e){return removeActive(e)});e=e.target.closest(".input-plan"),addActive(e),e=e.querySelector("h2").textContent;selections.plan=e,console.log(selections)},periodSelect=function(){step2Switch.querySelector("input").checked?(selections.period="Yearly",step2Switch.querySelectorAll("div")[2].classList.toggle("selected"),step2Switch.querySelectorAll("div")[0].classList.toggle("selected"),step2Inputs[0].querySelectorAll("div p")[0].textContent="$90/yr",step2Inputs[1].querySelectorAll("div p")[0].textContent="$120/yr",step2Inputs[2].querySelectorAll("div p")[0].textContent="$150/yr",step2Inputs.forEach(function(e){return e.querySelector(".bonus").style.display="flex"}),step3Checkboxes[0].closest(".input-addon").querySelector(".price").textContent="$10/yr",step3Checkboxes[1].closest(".input-addon").querySelector(".price").textContent="$20/yr",step3Checkboxes[2].closest(".input-addon").querySelector(".price").textContent="$20/yr"):(selections.period="Monthly",step2Switch.querySelectorAll("div")[2].classList.toggle("selected"),step2Switch.querySelectorAll("div")[0].classList.toggle("selected"),step2Inputs[0].querySelectorAll("div p")[0].textContent="$9/mo",step2Inputs[1].querySelectorAll("div p")[0].textContent="$12/mo",step2Inputs[2].querySelectorAll("div p")[0].textContent="$15/mo",step2Inputs.forEach(function(e){return e.querySelector(".bonus").style.display="none"}),step3Checkboxes[0].closest(".input-addon").querySelector(".price").textContent="$1/mo",step3Checkboxes[1].closest(".input-addon").querySelector(".price").textContent="$2/mo",step3Checkboxes[2].closest(".input-addon").querySelector(".price").textContent="$2/mo"),console.log(selections)},ifCorrect2=function(){return void 0!==selections.plan&&void 0!==selections.period},addOnSelect=function(e){1==step3Checkboxes[0].checked?(selections.addon1="Online services",step3Checkboxes[0].closest(".input-addon").classList.add("active")):(delete selections.addon1,step3Checkboxes[0].closest(".input-addon").classList.remove("active")),1==step3Checkboxes[1].checked?(selections.addon2="Larger storage",step3Checkboxes[1].closest(".input-addon").classList.add("active")):(delete selections.addon2,step3Checkboxes[1].closest(".input-addon").classList.remove("active")),1==step3Checkboxes[2].checked?(selections.addon3="Customizable profile",step3Checkboxes[2].closest(".input-addon").classList.add("active")):(delete selections.addon3,step3Checkboxes[2].closest(".input-addon").classList.remove("active")),console.log(selections)},ifCorrect3=function(){return!0};document.addEventListener("DOMContentLoaded",function(){main(),test(),currentStep(),wipeout()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN0ZXAtbmF2LmpzIl0sIm5hbWVzIjpbIm5hdlN0ZXBzIiwibWFpblN0ZXBzIiwic3RlcDFJbnB1dHMiLCJzdGVwMVdhcm5pbmdzIiwic3RlcDJJbnB1dHMiLCJzdGVwMlN3aXRjaCIsInN0ZXAzQ2hlY2tib3hlcyIsIm5leHRCdG4iLCJwcmVwYXJlRE9NRWxlbWVudHMiLCJwcmVwYXJlRE9NRXZlbnRzIiwicXVlcnlTZWxlY3RvciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsInByZXZCdG4iLCJhZGRFdmVudExpc3RlbmVyIiwic3RlcFByZXYiLCJmb3JFYWNoIiwiYWRkT25TZWxlY3QiLCJuYXZTdGVwU2VsZWN0Iiwic3RlcE5leHQiLCJ0ZXN0IiwicGxhbiIsInBsYW5TZWxlY3QiLCJwZXJpb2RTZWxlY3QiLCJhZGRvbiIsImN1cnJlbnRTdGVwIiwiaSIsImxlbmd0aCIsImFjdGl2YXRlU3RlcCIsImNsYXNzTGlzdCIsImZvcndhcmQiLCJyZW1vdmUiLCJhZGQiLCJtYWluU3RlcCIsImJhY2tncm91bmRDb2xvciIsInN0eWxlIiwidGV4dENvbnRlbnQiLCJpZkNvcnJlY3QxIiwiaWZDb3JyZWN0MyIsImNvbnNvbGUiLCJpZkNvcnJlY3QyIiwibG9nIiwidGFyZ2V0Iiwic2VsZWN0aW9ucyIsImUiLCJjaGVja2JveCIsIndpcGVvdXQiLCJjaGVja2VkIiwicGVyaW9kIiwiYWRkQWN0aXZlIiwiaW5wdXQiLCJhZGRvbjIiLCJyZW1vdmVBY3RpdmUiLCJhZGRvbjMiLCJ3cm9uZ0lucHV0cyIsInZhbHVlIiwiaW5wdXRQbGFuIiwicGxhbk5hbWUiLCJ0b2dnbGUiLCJkaXNwbGF5IiwiY2xvc2VzdCIsInVuZGVmaW5lZCIsIm1haW4iXSwibWFwcGluZ3MiOiJhQUFBLElBQUlBLFNBQ0FDLFVBREFELFFBQ0FDLFFBTUFDLFlBQ0FDLGNBQ0FDLFlBQ0FDLFlBQ0FDLGdCQVJBQyxXQUFPLEdBV1ZDLEtBQUFBLFdBQUFBLG1CQUNrQixFQUNsQkMsaUJB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RUFBQTBCLFlBQUEsU0FMYkcsUUFPQ0UsSUFBT0UsVUFBSSxDQU5iLEVBRU1ILFdBQWEsV0FRbkIsT0FBQXFCLEtBQUFBLElBQUFsQixXQUFBdEIsTUFBQXdDLEtBQUFBLElBQUFsQixXQUFBSyxNQUZBLEVBV0UvQixZQUFPMEIsU0FBQUEsR0FHc0IsR0FBOUJyQyxnQkFBbUIsR0FBR3lDLFNBTnJCSixXQU9BQSxPQUFpQixrQkFOakJyQyxnQkFPQUEsR0FBaUJzRCxRQUFFQSxjQUFRLEVBQWMvQixVQUFFQSxJQUFVRyxRQUFJLElBTHpELE9BT0FXLFdBQU9BLE9BTlByQyxnQkFPQUEsR0FBaUJzRCxRQUFFQSxjQUFRLEVBQWMvQixVQUFFQSxPQUFVRSxRQUFPLEdBRS9CLEdBQTlCekIsZ0JBQW1CLEdBQUd5QyxTQU5yQkosV0FPQUEsT0FBaUIsaUJBTmpCckMsZ0JBT0FBLEdBQWlCc0QsUUFBRUEsY0FBUSxFQUFjL0IsVUFBRUEsSUFBVUcsUUFBSSxJQUx6RCxPQU9BVyxXQUFPQSxPQU5QckMsZ0JBT0FBLEdBQWlCc0QsUUFBRUEsY0FBUSxFQUFjL0IsVUFBRUEsT0FBVUUsUUFBTyxHQUV0QyxHQUF2QlEsZ0JBQVlJLEdBQVVJLFNBQ3RCSixXQUFBVSxPQUFBLHVCQUVEL0MsZ0JBQW1CLEdBQUFzRCxRQUFidEIsY0FBbUIsRUFBQVQsVUFBQUcsSUFBQSxRQUFBLElBRXhCLE9BQUFXLFdBQUFVLE9BRUQxQyxnQkFBU0csR0FBQUEsUUFBaUIsY0FBQSxFQUFrQmUsVUFBRUUsT0FBTSxRQUFBLEdBUG5EUSxRQVNNRSxJQUFBRSxVQUFBLENBUlAsRUFXRUwsV0FBQSxXQVJELE1BQU8sQ0FBQSxDQUNSLEVBRUEzQixTQUFTRyxpQkFBaUIsbUJBQW9CLFdBQzdDZ0QsS0FBSyxFQUNMMUMsS0FBSyxFQUNMSyxZQUFZLEVBQ1pxQixRQUFRLENBQ1QsQ0FBQyIsImZpbGUiOiJzdGVwLW5hdi5taW5pLmpzIiwic291cmNlc0NvbnRlbnQiOlsibGV0IG5hdlN0ZXBzXHJcbmxldCBtYWluU3RlcHNcclxubGV0IHByZXZCdG5cclxubGV0IG5leHRCdG5cclxuXHJcbmxldCBzZWxlY3Rpb25zID0ge31cclxuXHJcbmxldCBzdGVwMUlucHV0c1xyXG5sZXQgc3RlcDFXYXJuaW5nc1xyXG5sZXQgc3RlcDJJbnB1dHNcclxubGV0IHN0ZXAyU3dpdGNoXHJcbmxldCBzdGVwM0NoZWNrYm94ZXNcclxuXHJcbmNvbnN0IG1haW4gPSAoKSA9PiB7XHJcblx0cHJlcGFyZURPTUVsZW1lbnRzKClcclxuXHRwcmVwYXJlRE9NRXZlbnRzKClcclxufVxyXG5cclxuY29uc3QgcHJlcGFyZURPTUVsZW1lbnRzID0gKCkgPT4ge1xyXG5cdG5hdlN0ZXBzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnbmF2IC5zdGVwIGJ1dHRvbicpXHJcblx0bWFpblN0ZXBzID0gW1xyXG5cdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWFpbiAuc3RlcC0xJyksXHJcblx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtYWluIC5zdGVwLTInKSxcclxuXHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21haW4gLnN0ZXAtMycpLFxyXG5cdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWFpbiAuc3RlcC00JyksXHJcblx0XVxyXG5cdHByZXZCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJldi1zdGVwJylcclxuXHRuZXh0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5leHQtc3RlcCcpXHJcblxyXG5cdHN0ZXAxSW5wdXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnN0ZXAtMSBpbnB1dCcpXHJcblx0c3RlcDFXYXJuaW5ncyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdGVwLTEgZGl2Lndhcm5pbmcnKVxyXG5cclxuXHRzdGVwMklucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdGVwLTIgLmlucHV0LXBsYW4nKVxyXG5cdHN0ZXAyU3dpdGNoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN0ZXAtMiAucGVyaW9kLXN3aXRjaCcpXHJcblxyXG5cdHN0ZXAzQ2hlY2tib3hlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdGVwLTMgaW5wdXQnKVxyXG59XHJcblxyXG5jb25zdCBwcmVwYXJlRE9NRXZlbnRzID0gKCkgPT4ge1xyXG5cdG5hdlN0ZXBzLmZvckVhY2goc3RlcCA9PiBzdGVwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgbmF2U3RlcFNlbGVjdCkpXHJcblx0bmV4dEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHN0ZXBOZXh0KVxyXG5cdHByZXZCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzdGVwUHJldilcclxuXHRzdGVwMklucHV0cy5mb3JFYWNoKHBsYW4gPT4gcGxhbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHBsYW5TZWxlY3QpKVxyXG5cdHN0ZXAyU3dpdGNoLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBwZXJpb2RTZWxlY3QpXHJcblx0Ly8gc3RlcDNDaGVja2JveGVzLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYWRkT25TZWxlY3QpXHJcblx0c3RlcDNDaGVja2JveGVzLmZvckVhY2goYWRkb24gPT4gYWRkb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhZGRPblNlbGVjdCkpXHJcbn1cclxuXHJcbmNvbnN0IHRlc3QgPSAoKSA9PiB7fVxyXG5cclxuLy9TVEVQIE5BVklHQVRJT04gYW5kIFNUQVJUIEZVTkNTXHJcblxyXG5jb25zdCBjdXJyZW50U3RlcCA9ICgpID0+IHtcclxuXHRmb3IgKGxldCBpID0gMDsgaSA8IG5hdlN0ZXBzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRpZiAobmF2U3RlcHNbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xyXG5cdFx0XHQvLyBjb25zb2xlLmxvZyhpKVxyXG5cdFx0XHRyZXR1cm4gaVxyXG5cdFx0fVxyXG5cdH1cclxufVxyXG5cclxuY29uc3QgYWN0aXZhdGVTdGVwID0gZm9yd2FyZCA9PiB7XHJcblx0bmF2U3RlcHMuZm9yRWFjaChuYXZTdGVwID0+IG5hdlN0ZXAuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJykpXHJcblx0bmF2U3RlcHNbZm9yd2FyZF0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuXHRtYWluU3RlcHMuZm9yRWFjaChtYWluU3RlcCA9PiBtYWluU3RlcC5jbGFzc0xpc3QuYWRkKCdpbm5hY3RpdmUnKSlcclxuXHRtYWluU3RlcHNbZm9yd2FyZF0uY2xhc3NMaXN0LnJlbW92ZSgnaW5uYWN0aXZlJylcclxuXHJcblx0aWYgKGZvcndhcmQgIT0gMCkge1xyXG5cdFx0cHJldkJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdibGFuaycpXHJcblx0fSBlbHNlIHtcclxuXHRcdHByZXZCdG4uY2xhc3NMaXN0LmFkZCgnYmxhbmsnKVxyXG5cdH1cclxuXHJcblx0aWYgKGZvcndhcmQgPT0gMykge1xyXG5cdFx0bmV4dEJ0bi50ZXh0Q29udGVudCA9ICdDb25maXJtJ1xyXG5cdFx0bmV4dEJ0bi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnaHNsKDIyOCwgMTAwJSwgODQlKSdcclxuXHR9IGVsc2Uge1xyXG5cdFx0bmV4dEJ0bi50ZXh0Q29udGVudCA9ICdOZXh0IHN0ZXAnXHJcblx0XHRuZXh0QnRuLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdoc2woMjEzLCA5NiUsIDE4JSknXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBzdGVwTmV4dCA9ICgpID0+IHtcclxuXHQvLyBpZiAoY3VycmVudFN0ZXAoKSA8IDMgJiYgaWZDb3JyZWN0MSgpID09IHRydWUpIHtcclxuXHQvLyBcdGFjdGl2YXRlU3RlcCgxKVxyXG5cdC8vIH1cclxuXHQvLyBpZiAoY3VycmVudFN0ZXAoKSA8IDMgJiYgaWZDb3JyZWN0MigpID09IHRydWUpIHtcclxuXHQvLyBcdGFjdGl2YXRlU3RlcCgyKVxyXG5cdC8vIH1cclxuXHJcblx0Ly8gaWYgKGN1cnJlbnRTdGVwKCkgPCAzICYmIGlmQ29ycmVjdDMoKSA9PSB0cnVlKSB7XHJcblx0Ly8gXHRhY3RpdmF0ZVN0ZXAoMylcclxuXHQvLyB9XHJcblxyXG5cdC8vIGlmIChjdXJyZW50U3RlcCgpID09IDAgJiYgaWZDb3JyZWN0MSgpID09IHRydWUpIHtcclxuXHQvLyBcdGFjdGl2YXRlU3RlcChjdXJyZW50U3RlcCgpICsgMSlcclxuXHQvLyB9XHJcblx0Ly8gaWYgKGN1cnJlbnRTdGVwKCkgPT0gMSAmJiBpZkNvcnJlY3QyKCkgPT0gdHJ1ZSkge1xyXG5cdC8vIFx0YWN0aXZhdGVTdGVwKGN1cnJlbnRTdGVwKCkgKyAxKVxyXG5cdC8vIH1cclxuXHQvLyBpZiAoY3VycmVudFN0ZXAoKSA9PSAyICYmIGlmQ29ycmVjdDMoKSA9PSB0cnVlKSB7XHJcblx0Ly8gXHRhY3RpdmF0ZVN0ZXAoY3VycmVudFN0ZXAoKSArIDEpXHJcblx0Ly8gfVxyXG5cdGlmIChpZkNvcnJlY3QxKCkgPT0gZmFsc2UgJiYgY3VycmVudFN0ZXAoKSA9PSAwKSB7XHJcblx0XHRjb25zb2xlLmxvZygnd2FydW5layAxIG5pZXNwZWxuaW9ueScpXHJcblx0fSBlbHNlIHtcclxuXHRcdGlmIChpZkNvcnJlY3QyKCkgPT0gZmFsc2UgJiYgY3VycmVudFN0ZXAoKSA9PSAxKSB7XHJcblx0XHRcdGNvbnNvbGUubG9nKCd3YXJ1bmVrIDIgbmllc3BlbG5pb255JylcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGlmIChpZkNvcnJlY3QzKCkgPT0gZmFsc2UgJiYgY3VycmVudFN0ZXAoKSA9PSAyKSB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coJ3dhcnVuZWsgMyBuaWVzcGVsbmlvbnknKVxyXG5cdFx0XHR9IGVsc2UgYWN0aXZhdGVTdGVwKGN1cnJlbnRTdGVwKCkgKyAxKVxyXG5cdFx0fVxyXG5cdH1cclxufVxyXG5jb25zdCBzdGVwUHJldiA9ICgpID0+IHtcclxuXHRpZiAoY3VycmVudFN0ZXAoKSA+IDApIHtcclxuXHRcdGFjdGl2YXRlU3RlcChjdXJyZW50U3RlcCgpIC0gMSlcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IG5hdlN0ZXBTZWxlY3QgPSBlID0+IHtcclxuXHRhY3RpdmF0ZVN0ZXAoZS50YXJnZXQudGV4dENvbnRlbnQgLSAxKVxyXG59XHJcblxyXG4vLyBDT01NT05cclxuY29uc3Qgd2lwZW91dCA9ICgpID0+IHtcclxuXHRzdGVwMlN3aXRjaC5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpLmNoZWNrZWQgPSBmYWxzZVxyXG5cdHNlbGVjdGlvbnMucGVyaW9kID0gJ01vbnRobHknXHJcblx0c3RlcDNDaGVja2JveGVzLmZvckVhY2goY2hlY2tib3ggPT4gKGNoZWNrYm94LmNoZWNrZWQgPSBmYWxzZSkpXHJcblx0ZGVsZXRlIHNlbGVjdGlvbnMuYWRkb24xXHJcblx0ZGVsZXRlIHNlbGVjdGlvbnMuYWRkb24yXHJcblx0ZGVsZXRlIHNlbGVjdGlvbnMuYWRkb24zXHJcbn1cclxuY29uc3QgYWRkQWN0aXZlID0gaW5wdXQgPT4ge1xyXG5cdGlucHV0LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbn1cclxuY29uc3QgcmVtb3ZlQWN0aXZlID0gaW5wdXQgPT4ge1xyXG5cdGlucHV0LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcbn1cclxuXHJcbi8vIDEgU1RFUFxyXG5cclxuY29uc3QgaWZDb3JyZWN0MSA9ICgpID0+IHtcclxuXHRsZXQgd3JvbmdJbnB1dHMgPSAwXHJcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBzdGVwMUlucHV0cy5sZW5ndGg7IGkrKykge1xyXG5cdFx0aWYgKHN0ZXAxSW5wdXRzW2ldLnZhbHVlLnRyaW0oKS5sZW5ndGggPT0gMCkge1xyXG5cdFx0XHRzdGVwMVdhcm5pbmdzW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2lubmFjdGl2ZScpXHJcblx0XHRcdHN0ZXAxSW5wdXRzW2ldLmNsYXNzTGlzdC5hZGQoJ3dhcm5pbmcnKVxyXG5cdFx0XHR3cm9uZ0lucHV0cysrXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRzdGVwMVdhcm5pbmdzW2ldLmNsYXNzTGlzdC5hZGQoJ2lubmFjdGl2ZScpXHJcblx0XHRcdHN0ZXAxSW5wdXRzW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ3dhcm5pbmcnKVxyXG5cdFx0fVxyXG5cdH1cclxuXHRpZiAod3JvbmdJbnB1dHMgPT0gMCkge1xyXG5cdFx0cmV0dXJuIHRydWVcclxuXHR9IGVsc2UgcmV0dXJuIGZhbHNlXHJcbn1cclxuXHJcbi8vIDIgU1RFUFxyXG5cclxuY29uc3QgcGxhblNlbGVjdCA9IGUgPT4ge1xyXG5cdHN0ZXAySW5wdXRzLmZvckVhY2goaW5wdXQgPT4gcmVtb3ZlQWN0aXZlKGlucHV0KSlcclxuXHRsZXQgaW5wdXRQbGFuID0gZS50YXJnZXQuY2xvc2VzdCgnLmlucHV0LXBsYW4nKVxyXG5cdGFkZEFjdGl2ZShpbnB1dFBsYW4pXHJcblx0bGV0IHBsYW5OYW1lID0gaW5wdXRQbGFuLnF1ZXJ5U2VsZWN0b3IoJ2gyJykudGV4dENvbnRlbnRcclxuXHRzZWxlY3Rpb25zLnBsYW4gPSBwbGFuTmFtZVxyXG5cdGNvbnNvbGUubG9nKHNlbGVjdGlvbnMpXHJcbn1cclxuXHJcbmNvbnN0IHBlcmlvZFNlbGVjdCA9ICgpID0+IHtcclxuXHRpZiAoc3RlcDJTd2l0Y2gucXVlcnlTZWxlY3RvcignaW5wdXQnKS5jaGVja2VkKSB7XHJcblx0XHRzZWxlY3Rpb25zLnBlcmlvZCA9ICdZZWFybHknXHJcblx0XHRzdGVwMlN3aXRjaC5xdWVyeVNlbGVjdG9yQWxsKCdkaXYnKVsyXS5jbGFzc0xpc3QudG9nZ2xlKCdzZWxlY3RlZCcpXHJcblx0XHRzdGVwMlN3aXRjaC5xdWVyeVNlbGVjdG9yQWxsKCdkaXYnKVswXS5jbGFzc0xpc3QudG9nZ2xlKCdzZWxlY3RlZCcpXHJcblxyXG5cdFx0c3RlcDJJbnB1dHNbMF0ucXVlcnlTZWxlY3RvckFsbCgnZGl2IHAnKVswXS50ZXh0Q29udGVudCA9ICckOTAveXInXHJcblx0XHRzdGVwMklucHV0c1sxXS5xdWVyeVNlbGVjdG9yQWxsKCdkaXYgcCcpWzBdLnRleHRDb250ZW50ID0gJyQxMjAveXInXHJcblx0XHRzdGVwMklucHV0c1syXS5xdWVyeVNlbGVjdG9yQWxsKCdkaXYgcCcpWzBdLnRleHRDb250ZW50ID0gJyQxNTAveXInXHJcblxyXG5cdFx0c3RlcDJJbnB1dHMuZm9yRWFjaChpbnB1dCA9PiAoaW5wdXQucXVlcnlTZWxlY3RvcignLmJvbnVzJykuc3R5bGUuZGlzcGxheSA9ICdmbGV4JykpXHJcblxyXG5cdFx0c3RlcDNDaGVja2JveGVzWzBdLmNsb3Nlc3QoJy5pbnB1dC1hZGRvbicpLnF1ZXJ5U2VsZWN0b3IoJy5wcmljZScpLnRleHRDb250ZW50ID0gJyQxMC95cidcclxuXHRcdHN0ZXAzQ2hlY2tib3hlc1sxXS5jbG9zZXN0KCcuaW5wdXQtYWRkb24nKS5xdWVyeVNlbGVjdG9yKCcucHJpY2UnKS50ZXh0Q29udGVudCA9ICckMjAveXInXHJcblx0XHRzdGVwM0NoZWNrYm94ZXNbMl0uY2xvc2VzdCgnLmlucHV0LWFkZG9uJykucXVlcnlTZWxlY3RvcignLnByaWNlJykudGV4dENvbnRlbnQgPSAnJDIwL3lyJ1xyXG5cdH0gZWxzZSB7XHJcblx0XHRzZWxlY3Rpb25zLnBlcmlvZCA9ICdNb250aGx5J1xyXG5cdFx0c3RlcDJTd2l0Y2gucXVlcnlTZWxlY3RvckFsbCgnZGl2JylbMl0uY2xhc3NMaXN0LnRvZ2dsZSgnc2VsZWN0ZWQnKVxyXG5cdFx0c3RlcDJTd2l0Y2gucXVlcnlTZWxlY3RvckFsbCgnZGl2JylbMF0uY2xhc3NMaXN0LnRvZ2dsZSgnc2VsZWN0ZWQnKVxyXG5cclxuXHRcdHN0ZXAySW5wdXRzWzBdLnF1ZXJ5U2VsZWN0b3JBbGwoJ2RpdiBwJylbMF0udGV4dENvbnRlbnQgPSAnJDkvbW8nXHJcblx0XHRzdGVwMklucHV0c1sxXS5xdWVyeVNlbGVjdG9yQWxsKCdkaXYgcCcpWzBdLnRleHRDb250ZW50ID0gJyQxMi9tbydcclxuXHRcdHN0ZXAySW5wdXRzWzJdLnF1ZXJ5U2VsZWN0b3JBbGwoJ2RpdiBwJylbMF0udGV4dENvbnRlbnQgPSAnJDE1L21vJ1xyXG5cclxuXHRcdHN0ZXAySW5wdXRzLmZvckVhY2goaW5wdXQgPT4gKGlucHV0LnF1ZXJ5U2VsZWN0b3IoJy5ib251cycpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZScpKVxyXG5cclxuXHRcdHN0ZXAzQ2hlY2tib3hlc1swXS5jbG9zZXN0KCcuaW5wdXQtYWRkb24nKS5xdWVyeVNlbGVjdG9yKCcucHJpY2UnKS50ZXh0Q29udGVudCA9ICckMS9tbydcclxuXHRcdHN0ZXAzQ2hlY2tib3hlc1sxXS5jbG9zZXN0KCcuaW5wdXQtYWRkb24nKS5xdWVyeVNlbGVjdG9yKCcucHJpY2UnKS50ZXh0Q29udGVudCA9ICckMi9tbydcclxuXHRcdHN0ZXAzQ2hlY2tib3hlc1syXS5jbG9zZXN0KCcuaW5wdXQtYWRkb24nKS5xdWVyeVNlbGVjdG9yKCcucHJpY2UnKS50ZXh0Q29udGVudCA9ICckMi9tbydcclxuXHR9XHJcblx0Y29uc29sZS5sb2coc2VsZWN0aW9ucylcclxufVxyXG5cclxuY29uc3QgaWZDb3JyZWN0MiA9ICgpID0+IHtcclxuXHRpZiAoc2VsZWN0aW9ucy5wbGFuID09PSB1bmRlZmluZWQgfHwgc2VsZWN0aW9ucy5wZXJpb2QgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0cmV0dXJuIGZhbHNlXHJcblx0fSBlbHNlIHtcclxuXHRcdHJldHVybiB0cnVlXHJcblx0fVxyXG59XHJcblxyXG4vLyAzIFNURVBcclxuXHJcbmNvbnN0IGFkZE9uU2VsZWN0ID0gZSA9PiB7XHJcblx0Ly8gY29uc29sZS5sb2coZS50YXJnZXQpO1xyXG5cclxuXHRpZiAoc3RlcDNDaGVja2JveGVzWzBdLmNoZWNrZWQgPT0gdHJ1ZSkge1xyXG5cdFx0c2VsZWN0aW9ucy5hZGRvbjEgPSAnT25saW5lIHNlcnZpY2VzJ1xyXG5cdFx0c3RlcDNDaGVja2JveGVzWzBdLmNsb3Nlc3QoJy5pbnB1dC1hZGRvbicpLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcblx0fSBlbHNlIHtcclxuXHRcdGRlbGV0ZSBzZWxlY3Rpb25zLmFkZG9uMVxyXG5cdFx0c3RlcDNDaGVja2JveGVzWzBdLmNsb3Nlc3QoJy5pbnB1dC1hZGRvbicpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcblx0fVxyXG5cdGlmIChzdGVwM0NoZWNrYm94ZXNbMV0uY2hlY2tlZCA9PSB0cnVlKSB7XHJcblx0XHRzZWxlY3Rpb25zLmFkZG9uMiA9ICdMYXJnZXIgc3RvcmFnZSdcclxuXHRcdHN0ZXAzQ2hlY2tib3hlc1sxXS5jbG9zZXN0KCcuaW5wdXQtYWRkb24nKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxyXG5cdH0gZWxzZSB7XHJcblx0XHRkZWxldGUgc2VsZWN0aW9ucy5hZGRvbjJcclxuXHRcdHN0ZXAzQ2hlY2tib3hlc1sxXS5jbG9zZXN0KCcuaW5wdXQtYWRkb24nKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG5cdH1cclxuXHRpZiAoc3RlcDNDaGVja2JveGVzWzJdLmNoZWNrZWQgPT0gdHJ1ZSkge1xyXG5cdFx0c2VsZWN0aW9ucy5hZGRvbjMgPSAnQ3VzdG9taXphYmxlIHByb2ZpbGUnXHJcblx0XHRzdGVwM0NoZWNrYm94ZXNbMl0uY2xvc2VzdCgnLmlucHV0LWFkZG9uJykuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuXHR9IGVsc2Uge1xyXG5cdFx0ZGVsZXRlIHNlbGVjdGlvbnMuYWRkb24zXHJcblx0XHRzdGVwM0NoZWNrYm94ZXNbMl0uY2xvc2VzdCgnLmlucHV0LWFkZG9uJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuXHR9XHJcblx0Y29uc29sZS5sb2coc2VsZWN0aW9ucylcclxufVxyXG5cclxuY29uc3QgaWZDb3JyZWN0MyA9ICgpID0+IHtcclxuXHRyZXR1cm4gdHJ1ZVxyXG59XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xyXG5cdG1haW4oKVxyXG5cdHRlc3QoKVxyXG5cdGN1cnJlbnRTdGVwKClcclxuXHR3aXBlb3V0KClcclxufSlcclxuIl19

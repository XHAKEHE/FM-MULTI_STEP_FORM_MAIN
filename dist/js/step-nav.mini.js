"use strict";var navSteps,mainSteps,prevBtn,nextBtn,step1Inputs,step1Warnings,step2Inputs,step2Switch,step3Checkboxes,selections={},main=function(){prepareDOMElements(),prepareDOMEvents()},prepareDOMElements=function(){navSteps=document.querySelectorAll("nav .step button"),mainSteps=[document.querySelector("main .step-1"),document.querySelector("main .step-2"),document.querySelector("main .step-3"),document.querySelector("main .step-4")],prevBtn=document.querySelector(".prev-step"),nextBtn=document.querySelector(".next-step"),step1Inputs=document.querySelectorAll(".step-1 input"),step1Warnings=document.querySelectorAll(".step-1 div.warning"),step2Inputs=document.querySelectorAll(".step-2 .input-plan"),step2Switch=document.querySelector(".step-2 .period-switch"),step3Checkboxes=document.querySelectorAll(".step-3 input")},prepareDOMEvents=function(){navSteps.forEach(function(e){return e.addEventListener("click",navStepSelect)}),nextBtn.addEventListener("click",stepNext),prevBtn.addEventListener("click",stepPrev),step2Inputs.forEach(function(e){return e.addEventListener("click",planSelect)}),step2Switch.querySelector("input").addEventListener("click",periodSelect),step3Checkboxes.forEach(function(e){return e.addEventListener("click",addOnSelect)})},test=function(){},currentStep=function(){for(var e=0;e<navSteps.length;e++)if(navSteps[e].classList.contains("active"))return e},activateStep=function(e){navSteps.forEach(function(e){return e.classList.remove("active")}),navSteps[e].classList.add("active"),mainSteps.forEach(function(e){return e.classList.add("innactive")}),mainSteps[e].classList.remove("innactive"),0!=e?prevBtn.classList.remove("blank"):prevBtn.classList.add("blank"),3==e?(nextBtn.textContent="Confirm",nextBtn.style.backgroundColor="hsl(228, 100%, 84%)"):(nextBtn.textContent="Next step",nextBtn.style.backgroundColor="hsl(213, 96%, 18%)")},stepNext=function(){0==ifCorrect1()&&0==currentStep()?console.log("warunek 1 niespelniony"):0==ifCorrect2()&&1==currentStep()?console.log("warunek 2 niespelniony"):0==ifCorrect3()&&2==currentStep()?console.log("warunek 3 niespelniony"):activateStep(currentStep()+1)},stepPrev=function(){0<currentStep()&&activateStep(currentStep()-1)},navStepSelect=function(e){activateStep(e.target.textContent-1)},wipeout=function(){step2Switch.querySelector("input").checked=!1,selections.period="Monthly",step3Checkboxes.forEach(function(e){return e.checked=!1}),delete selections.addon1,delete selections.addon2,delete selections.addon3},addActive=function(e){e.classList.add("active")},removeActive=function(e){e.classList.remove("active")},ifCorrect1=function(){for(var e=0,t=0;t<step1Inputs.length;t++)0!=step1Inputs[t].value.trim().length?(step1Warnings[t].classList.add("innactive"),step1Inputs[t].classList.remove("warning")):(step1Warnings[t].classList.remove("innactive"),step1Inputs[t].classList.add("warning"),e++);if(0==e)return!0},planSelect=function(e){step2Inputs.forEach(function(e){return removeActive(e)}),addActive(e.target);e=e.target.querySelector("h2").textContent;selections.plan=e,console.log(selections)},periodSelect=function(){step2Switch.querySelector("input").checked?(selections.period="Yearly",step2Switch.querySelectorAll("div")[2].classList.toggle("selected"),step2Switch.querySelectorAll("div")[0].classList.toggle("selected"),step2Inputs[0].querySelectorAll("div p")[0].textContent="$90/yr",step2Inputs[1].querySelectorAll("div p")[0].textContent="$120/yr",step2Inputs[2].querySelectorAll("div p")[0].textContent="$150/yr",step2Inputs.forEach(function(e){return e.querySelector(".bonus").style.display="flex"}),step3Checkboxes[0].closest(".input-addon").querySelector(".price").textContent="$10/yr",step3Checkboxes[1].closest(".input-addon").querySelector(".price").textContent="$20/yr",step3Checkboxes[2].closest(".input-addon").querySelector(".price").textContent="$20/yr"):(selections.period="Monthly",step2Switch.querySelectorAll("div")[2].classList.toggle("selected"),step2Switch.querySelectorAll("div")[0].classList.toggle("selected"),step2Inputs[0].querySelectorAll("div p")[0].textContent="$9/mo",step2Inputs[1].querySelectorAll("div p")[0].textContent="$12/mo",step2Inputs[2].querySelectorAll("div p")[0].textContent="$15/mo",step2Inputs.forEach(function(e){return e.querySelector(".bonus").style.display="none"}),step3Checkboxes[0].closest(".input-addon").querySelector(".price").textContent="$1/mo",step3Checkboxes[1].closest(".input-addon").querySelector(".price").textContent="$2/mo",step3Checkboxes[2].closest(".input-addon").querySelector(".price").textContent="$2/mo"),console.log(selections)},ifCorrect2=function(){return void 0!==selections.plan&&void 0!==selections.period},addOnSelect=function(e){1==step3Checkboxes[0].checked?(selections.addon1="Online services",step3Checkboxes[0].closest(".input-addon").classList.add("active")):(delete selections.addon1,step3Checkboxes[0].closest(".input-addon").classList.remove("active")),1==step3Checkboxes[1].checked?(selections.addon2="Larger storage",step3Checkboxes[1].closest(".input-addon").classList.add("active")):(delete selections.addon2,step3Checkboxes[1].closest(".input-addon").classList.remove("active")),1==step3Checkboxes[2].checked?(selections.addon3="Customizable profile",step3Checkboxes[2].closest(".input-addon").classList.add("active")):(delete selections.addon3,step3Checkboxes[2].closest(".input-addon").classList.remove("active")),console.log(selections)},ifCorrect3=function(){return!0};document.addEventListener("DOMContentLoaded",function(){main(),test(),currentStep(),wipeout()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN0ZXAtbmF2LmpzIl0sIm5hbWVzIjpbIm5hdlN0ZXBzIiwibWFpblN0ZXBzIiwic3RlcDFJbnB1dHMiLCJzdGVwMVdhcm5pbmdzIiwic3RlcDJJbnB1dHMiLCJzdGVwMlN3aXRjaCIsInN0ZXAzQ2hlY2tib3hlcyIsIm5leHRCdG4iLCJwcmVwYXJlRE9NRWxlbWVudHMiLCJwcmVwYXJlRE9NRXZlbnRzIiwicXVlcnlTZWxlY3RvciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsInByZXZCdG4iLCJhZGRFdmVudExpc3RlbmVyIiwic3RlcFByZXYiLCJmb3JFYWNoIiwiYWRkT25TZWxlY3QiLCJuYXZTdGVwU2VsZWN0Iiwic3RlcE5leHQiLCJ0ZXN0IiwicGxhbiIsInBsYW5TZWxlY3QiLCJwZXJpb2RTZWxlY3QiLCJhZGRvbiIsImN1cnJlbnRTdGVwIiwiaSIsImxlbmd0aCIsImFjdGl2YXRlU3RlcCIsImNsYXNzTGlzdCIsImZvcndhcmQiLCJyZW1vdmUiLCJhZGQiLCJtYWluU3RlcCIsImJhY2tncm91bmRDb2xvciIsInN0eWxlIiwidGV4dENvbnRlbnQiLCJpZkNvcnJlY3QxIiwiaWZDb3JyZWN0MyIsImNvbnNvbGUiLCJpZkNvcnJlY3QyIiwibG9nIiwidGFyZ2V0Iiwic2VsZWN0aW9ucyIsImUiLCJjaGVja2JveCIsIndpcGVvdXQiLCJjaGVja2VkIiwicGVyaW9kIiwiYWRkQWN0aXZlIiwiaW5wdXQiLCJhZGRvbjIiLCJyZW1vdmVBY3RpdmUiLCJhZGRvbjMiLCJ3cm9uZ0lucHV0cyIsInBsYW5OYW1lIiwidG9nZ2xlIiwiZGlzcGxheSIsImNsb3Nlc3QiLCJ1bmRlZmluZWQiLCJtYWluIl0sIm1hcHBpbmdzIjoiYUFBQSxJQUFJQSxTQUNBQyxVQURBRCxRQUNBQyxRQU1BQyxZQUNBQyxjQUNBQyxZQUNBQyxZQUNBQyxnQkFSQUMsV0FBTyxHQVdWQyxLQUFBQSxXQUFBQSxtQkFDa0IsRUFDbEJDLGlCQUFBLENBRUQsRUFFQ1IsbUJBQ1VT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SSxDQU5iLEVBRU1ILFdBQWEsV0FRbkIsT0FBQW1CLEtBQUFBLElBQUFoQixXQUFBdEIsTUFBQXNDLEtBQUFBLElBQUFoQixXQUFBSyxNQUZBLEVBV0UvQixZQUFPMEIsU0FBQUEsR0FHc0IsR0FBOUJyQyxnQkFBbUIsR0FBR3lDLFNBTnJCSixXQU9BQSxPQUFpQixrQkFOakJyQyxnQkFPQUEsR0FBaUJvRCxRQUFFQSxjQUFRLEVBQWM3QixVQUFFQSxJQUFVRyxRQUFJLElBTHpELE9BT0FXLFdBQU9BLE9BTlByQyxnQkFPQUEsR0FBaUJvRCxRQUFFQSxjQUFRLEVBQWM3QixVQUFFQSxPQUFVRSxRQUFPLEdBRS9CLEdBQTlCekIsZ0JBQW1CLEdBQUd5QyxTQU5yQkosV0FPQUEsT0FBaUIsaUJBTmpCckMsZ0JBT0FBLEdBQWlCb0QsUUFBRUEsY0FBUSxFQUFjN0IsVUFBRUEsSUFBVUcsUUFBSSxJQUx6RCxPQU9BVyxXQUFPQSxPQU5QckMsZ0JBT0FBLEdBQWlCb0QsUUFBRUEsY0FBUSxFQUFjN0IsVUFBRUEsT0FBVUUsUUFBTyxHQUV0QyxHQUF2QlEsZ0JBQVlJLEdBQVVJLFNBQ3RCSixXQUFBVSxPQUFBLHVCQUVEL0MsZ0JBQW1CLEdBQUFvRCxRQUFicEIsY0FBbUIsRUFBQVQsVUFBQUcsSUFBQSxRQUFBLElBRXhCLE9BQUFXLFdBQUFVLE9BRUQxQyxnQkFBU0csR0FBQUEsUUFBaUIsY0FBQSxFQUFrQmUsVUFBRUUsT0FBTSxRQUFBLEdBUG5EUSxRQVNNRSxJQUFBRSxVQUFBLENBUlAsRUFXRUwsV0FBQSxXQVJELE1BQU8sQ0FBQSxDQUNSLEVBRUEzQixTQUFTRyxpQkFBaUIsbUJBQW9CLFdBQzdDOEMsS0FBSyxFQUNMeEMsS0FBSyxFQUNMSyxZQUFZLEVBQ1pxQixRQUFRLENBQ1QsQ0FBQyIsImZpbGUiOiJzdGVwLW5hdi5taW5pLmpzIiwic291cmNlc0NvbnRlbnQiOlsibGV0IG5hdlN0ZXBzXHJcbmxldCBtYWluU3RlcHNcclxubGV0IHByZXZCdG5cclxubGV0IG5leHRCdG5cclxuXHJcbmxldCBzZWxlY3Rpb25zID0ge31cclxuXHJcbmxldCBzdGVwMUlucHV0c1xyXG5sZXQgc3RlcDFXYXJuaW5nc1xyXG5sZXQgc3RlcDJJbnB1dHNcclxubGV0IHN0ZXAyU3dpdGNoXHJcbmxldCBzdGVwM0NoZWNrYm94ZXNcclxuXHJcbmNvbnN0IG1haW4gPSAoKSA9PiB7XHJcblx0cHJlcGFyZURPTUVsZW1lbnRzKClcclxuXHRwcmVwYXJlRE9NRXZlbnRzKClcclxufVxyXG5cclxuY29uc3QgcHJlcGFyZURPTUVsZW1lbnRzID0gKCkgPT4ge1xyXG5cdG5hdlN0ZXBzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnbmF2IC5zdGVwIGJ1dHRvbicpXHJcblx0bWFpblN0ZXBzID0gW1xyXG5cdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWFpbiAuc3RlcC0xJyksXHJcblx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtYWluIC5zdGVwLTInKSxcclxuXHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21haW4gLnN0ZXAtMycpLFxyXG5cdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWFpbiAuc3RlcC00JyksXHJcblx0XVxyXG5cdHByZXZCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJldi1zdGVwJylcclxuXHRuZXh0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5leHQtc3RlcCcpXHJcblxyXG5cdHN0ZXAxSW5wdXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnN0ZXAtMSBpbnB1dCcpXHJcblx0c3RlcDFXYXJuaW5ncyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdGVwLTEgZGl2Lndhcm5pbmcnKVxyXG5cclxuXHRzdGVwMklucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdGVwLTIgLmlucHV0LXBsYW4nKVxyXG5cdHN0ZXAyU3dpdGNoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN0ZXAtMiAucGVyaW9kLXN3aXRjaCcpXHJcblxyXG5cdHN0ZXAzQ2hlY2tib3hlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdGVwLTMgaW5wdXQnKVxyXG59XHJcblxyXG5jb25zdCBwcmVwYXJlRE9NRXZlbnRzID0gKCkgPT4ge1xyXG5cdG5hdlN0ZXBzLmZvckVhY2goc3RlcCA9PiBzdGVwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgbmF2U3RlcFNlbGVjdCkpXHJcblx0bmV4dEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHN0ZXBOZXh0KVxyXG5cdHByZXZCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzdGVwUHJldilcclxuXHRzdGVwMklucHV0cy5mb3JFYWNoKHBsYW4gPT4gcGxhbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHBsYW5TZWxlY3QpKVxyXG5cdHN0ZXAyU3dpdGNoLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBwZXJpb2RTZWxlY3QpXHJcblx0Ly8gc3RlcDNDaGVja2JveGVzLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYWRkT25TZWxlY3QpXHJcblx0c3RlcDNDaGVja2JveGVzLmZvckVhY2goYWRkb24gPT4gYWRkb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhZGRPblNlbGVjdCkpXHJcbn1cclxuXHJcbmNvbnN0IHRlc3QgPSAoKSA9PiB7fVxyXG5cclxuLy9TVEVQIE5BVklHQVRJT04gYW5kIFNUQVJUIEZVTkNTXHJcblxyXG5jb25zdCBjdXJyZW50U3RlcCA9ICgpID0+IHtcclxuXHRmb3IgKGxldCBpID0gMDsgaSA8IG5hdlN0ZXBzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRpZiAobmF2U3RlcHNbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xyXG5cdFx0XHQvLyBjb25zb2xlLmxvZyhpKVxyXG5cdFx0XHRyZXR1cm4gaVxyXG5cdFx0fVxyXG5cdH1cclxufVxyXG5cclxuY29uc3QgYWN0aXZhdGVTdGVwID0gZm9yd2FyZCA9PiB7XHJcblx0bmF2U3RlcHMuZm9yRWFjaChuYXZTdGVwID0+IG5hdlN0ZXAuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJykpXHJcblx0bmF2U3RlcHNbZm9yd2FyZF0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuXHRtYWluU3RlcHMuZm9yRWFjaChtYWluU3RlcCA9PiBtYWluU3RlcC5jbGFzc0xpc3QuYWRkKCdpbm5hY3RpdmUnKSlcclxuXHRtYWluU3RlcHNbZm9yd2FyZF0uY2xhc3NMaXN0LnJlbW92ZSgnaW5uYWN0aXZlJylcclxuXHJcblx0aWYgKGZvcndhcmQgIT0gMCkge1xyXG5cdFx0cHJldkJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdibGFuaycpXHJcblx0fSBlbHNlIHtcclxuXHRcdHByZXZCdG4uY2xhc3NMaXN0LmFkZCgnYmxhbmsnKVxyXG5cdH1cclxuXHJcblx0aWYgKGZvcndhcmQgPT0gMykge1xyXG5cdFx0bmV4dEJ0bi50ZXh0Q29udGVudCA9ICdDb25maXJtJ1xyXG5cdFx0bmV4dEJ0bi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnaHNsKDIyOCwgMTAwJSwgODQlKSdcclxuXHR9IGVsc2Uge1xyXG5cdFx0bmV4dEJ0bi50ZXh0Q29udGVudCA9ICdOZXh0IHN0ZXAnXHJcblx0XHRuZXh0QnRuLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdoc2woMjEzLCA5NiUsIDE4JSknXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBzdGVwTmV4dCA9ICgpID0+IHtcclxuXHQvLyBpZiAoY3VycmVudFN0ZXAoKSA8IDMgJiYgaWZDb3JyZWN0MSgpID09IHRydWUpIHtcclxuXHQvLyBcdGFjdGl2YXRlU3RlcCgxKVxyXG5cdC8vIH1cclxuXHQvLyBpZiAoY3VycmVudFN0ZXAoKSA8IDMgJiYgaWZDb3JyZWN0MigpID09IHRydWUpIHtcclxuXHQvLyBcdGFjdGl2YXRlU3RlcCgyKVxyXG5cdC8vIH1cclxuXHJcblx0Ly8gaWYgKGN1cnJlbnRTdGVwKCkgPCAzICYmIGlmQ29ycmVjdDMoKSA9PSB0cnVlKSB7XHJcblx0Ly8gXHRhY3RpdmF0ZVN0ZXAoMylcclxuXHQvLyB9XHJcblxyXG5cdC8vIGlmIChjdXJyZW50U3RlcCgpID09IDAgJiYgaWZDb3JyZWN0MSgpID09IHRydWUpIHtcclxuXHQvLyBcdGFjdGl2YXRlU3RlcChjdXJyZW50U3RlcCgpICsgMSlcclxuXHQvLyB9XHJcblx0Ly8gaWYgKGN1cnJlbnRTdGVwKCkgPT0gMSAmJiBpZkNvcnJlY3QyKCkgPT0gdHJ1ZSkge1xyXG5cdC8vIFx0YWN0aXZhdGVTdGVwKGN1cnJlbnRTdGVwKCkgKyAxKVxyXG5cdC8vIH1cclxuXHQvLyBpZiAoY3VycmVudFN0ZXAoKSA9PSAyICYmIGlmQ29ycmVjdDMoKSA9PSB0cnVlKSB7XHJcblx0Ly8gXHRhY3RpdmF0ZVN0ZXAoY3VycmVudFN0ZXAoKSArIDEpXHJcblx0Ly8gfVxyXG5cdGlmIChpZkNvcnJlY3QxKCkgPT0gZmFsc2UgJiYgY3VycmVudFN0ZXAoKSA9PSAwKSB7XHJcblx0XHRjb25zb2xlLmxvZygnd2FydW5layAxIG5pZXNwZWxuaW9ueScpXHJcblx0fSBlbHNlIHtcclxuXHRcdGlmIChpZkNvcnJlY3QyKCkgPT0gZmFsc2UgJiYgY3VycmVudFN0ZXAoKSA9PSAxKSB7XHJcblx0XHRcdGNvbnNvbGUubG9nKCd3YXJ1bmVrIDIgbmllc3BlbG5pb255JylcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGlmIChpZkNvcnJlY3QzKCkgPT0gZmFsc2UgJiYgY3VycmVudFN0ZXAoKSA9PSAyKSB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coJ3dhcnVuZWsgMyBuaWVzcGVsbmlvbnknKVxyXG5cdFx0XHR9IGVsc2UgYWN0aXZhdGVTdGVwKGN1cnJlbnRTdGVwKCkgKyAxKVxyXG5cdFx0fVxyXG5cdH1cclxufVxyXG5jb25zdCBzdGVwUHJldiA9ICgpID0+IHtcclxuXHRpZiAoY3VycmVudFN0ZXAoKSA+IDApIHtcclxuXHRcdGFjdGl2YXRlU3RlcChjdXJyZW50U3RlcCgpIC0gMSlcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IG5hdlN0ZXBTZWxlY3QgPSBlID0+IHtcclxuXHRhY3RpdmF0ZVN0ZXAoZS50YXJnZXQudGV4dENvbnRlbnQgLSAxKVxyXG59XHJcblxyXG4vLyBDT01NT05cclxuY29uc3Qgd2lwZW91dCA9ICgpID0+IHtcclxuXHRzdGVwMlN3aXRjaC5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpLmNoZWNrZWQgPSBmYWxzZVxyXG5cdHNlbGVjdGlvbnMucGVyaW9kID0gJ01vbnRobHknXHJcblx0c3RlcDNDaGVja2JveGVzLmZvckVhY2goY2hlY2tib3ggPT4gKGNoZWNrYm94LmNoZWNrZWQgPSBmYWxzZSkpXHJcblx0ZGVsZXRlIHNlbGVjdGlvbnMuYWRkb24xXHJcblx0ZGVsZXRlIHNlbGVjdGlvbnMuYWRkb24yXHJcblx0ZGVsZXRlIHNlbGVjdGlvbnMuYWRkb24zXHJcbn1cclxuY29uc3QgYWRkQWN0aXZlID0gaW5wdXQgPT4ge1xyXG5cdGlucHV0LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbn1cclxuY29uc3QgcmVtb3ZlQWN0aXZlID0gaW5wdXQgPT4ge1xyXG5cdGlucHV0LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcbn1cclxuXHJcbi8vIDEgU1RFUFxyXG5cclxuY29uc3QgaWZDb3JyZWN0MSA9ICgpID0+IHtcclxuXHRsZXQgd3JvbmdJbnB1dHMgPSAwXHJcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBzdGVwMUlucHV0cy5sZW5ndGg7IGkrKykge1xyXG5cdFx0aWYgKHN0ZXAxSW5wdXRzW2ldLnZhbHVlLnRyaW0oKS5sZW5ndGggIT0gMCkge1xyXG5cdFx0XHRzdGVwMVdhcm5pbmdzW2ldLmNsYXNzTGlzdC5hZGQoJ2lubmFjdGl2ZScpXHJcblx0XHRcdHN0ZXAxSW5wdXRzW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ3dhcm5pbmcnKVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0c3RlcDFXYXJuaW5nc1tpXS5jbGFzc0xpc3QucmVtb3ZlKCdpbm5hY3RpdmUnKVxyXG5cdFx0XHRzdGVwMUlucHV0c1tpXS5jbGFzc0xpc3QuYWRkKCd3YXJuaW5nJylcclxuXHRcdFx0d3JvbmdJbnB1dHMrK1xyXG5cdFx0fVxyXG5cdH1cclxuXHRpZiAod3JvbmdJbnB1dHMgPT0gMCkge1xyXG5cdFx0cmV0dXJuIHRydWVcclxuXHR9IGVsc2UgZmFsc2VcclxufVxyXG5cclxuLy8gMiBTVEVQXHJcblxyXG5jb25zdCBwbGFuU2VsZWN0ID0gZSA9PiB7XHJcblx0c3RlcDJJbnB1dHMuZm9yRWFjaChpbnB1dCA9PiByZW1vdmVBY3RpdmUoaW5wdXQpKVxyXG5cdGFkZEFjdGl2ZShlLnRhcmdldClcclxuXHRsZXQgcGxhbk5hbWUgPSBlLnRhcmdldC5xdWVyeVNlbGVjdG9yKCdoMicpLnRleHRDb250ZW50XHJcblx0c2VsZWN0aW9ucy5wbGFuID0gcGxhbk5hbWVcclxuXHRjb25zb2xlLmxvZyhzZWxlY3Rpb25zKVxyXG59XHJcblxyXG5jb25zdCBwZXJpb2RTZWxlY3QgPSAoKSA9PiB7XHJcblx0aWYgKHN0ZXAyU3dpdGNoLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JykuY2hlY2tlZCkge1xyXG5cdFx0c2VsZWN0aW9ucy5wZXJpb2QgPSAnWWVhcmx5J1xyXG5cdFx0c3RlcDJTd2l0Y2gucXVlcnlTZWxlY3RvckFsbCgnZGl2JylbMl0uY2xhc3NMaXN0LnRvZ2dsZSgnc2VsZWN0ZWQnKVxyXG5cdFx0c3RlcDJTd2l0Y2gucXVlcnlTZWxlY3RvckFsbCgnZGl2JylbMF0uY2xhc3NMaXN0LnRvZ2dsZSgnc2VsZWN0ZWQnKVxyXG5cclxuXHRcdHN0ZXAySW5wdXRzWzBdLnF1ZXJ5U2VsZWN0b3JBbGwoJ2RpdiBwJylbMF0udGV4dENvbnRlbnQgPSAnJDkwL3lyJ1xyXG5cdFx0c3RlcDJJbnB1dHNbMV0ucXVlcnlTZWxlY3RvckFsbCgnZGl2IHAnKVswXS50ZXh0Q29udGVudCA9ICckMTIwL3lyJ1xyXG5cdFx0c3RlcDJJbnB1dHNbMl0ucXVlcnlTZWxlY3RvckFsbCgnZGl2IHAnKVswXS50ZXh0Q29udGVudCA9ICckMTUwL3lyJ1xyXG5cclxuXHRcdHN0ZXAySW5wdXRzLmZvckVhY2goaW5wdXQgPT4gKGlucHV0LnF1ZXJ5U2VsZWN0b3IoJy5ib251cycpLnN0eWxlLmRpc3BsYXkgPSAnZmxleCcpKVxyXG5cclxuXHRcdHN0ZXAzQ2hlY2tib3hlc1swXS5jbG9zZXN0KCcuaW5wdXQtYWRkb24nKS5xdWVyeVNlbGVjdG9yKCcucHJpY2UnKS50ZXh0Q29udGVudCA9ICckMTAveXInXHJcblx0XHRzdGVwM0NoZWNrYm94ZXNbMV0uY2xvc2VzdCgnLmlucHV0LWFkZG9uJykucXVlcnlTZWxlY3RvcignLnByaWNlJykudGV4dENvbnRlbnQgPSAnJDIwL3lyJ1xyXG5cdFx0c3RlcDNDaGVja2JveGVzWzJdLmNsb3Nlc3QoJy5pbnB1dC1hZGRvbicpLnF1ZXJ5U2VsZWN0b3IoJy5wcmljZScpLnRleHRDb250ZW50ID0gJyQyMC95cidcclxuXHR9IGVsc2Uge1xyXG5cdFx0c2VsZWN0aW9ucy5wZXJpb2QgPSAnTW9udGhseSdcclxuXHRcdHN0ZXAyU3dpdGNoLnF1ZXJ5U2VsZWN0b3JBbGwoJ2RpdicpWzJdLmNsYXNzTGlzdC50b2dnbGUoJ3NlbGVjdGVkJylcclxuXHRcdHN0ZXAyU3dpdGNoLnF1ZXJ5U2VsZWN0b3JBbGwoJ2RpdicpWzBdLmNsYXNzTGlzdC50b2dnbGUoJ3NlbGVjdGVkJylcclxuXHJcblx0XHRzdGVwMklucHV0c1swXS5xdWVyeVNlbGVjdG9yQWxsKCdkaXYgcCcpWzBdLnRleHRDb250ZW50ID0gJyQ5L21vJ1xyXG5cdFx0c3RlcDJJbnB1dHNbMV0ucXVlcnlTZWxlY3RvckFsbCgnZGl2IHAnKVswXS50ZXh0Q29udGVudCA9ICckMTIvbW8nXHJcblx0XHRzdGVwMklucHV0c1syXS5xdWVyeVNlbGVjdG9yQWxsKCdkaXYgcCcpWzBdLnRleHRDb250ZW50ID0gJyQxNS9tbydcclxuXHJcblx0XHRzdGVwMklucHV0cy5mb3JFYWNoKGlucHV0ID0+IChpbnB1dC5xdWVyeVNlbGVjdG9yKCcuYm9udXMnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnKSlcclxuXHJcblx0XHRzdGVwM0NoZWNrYm94ZXNbMF0uY2xvc2VzdCgnLmlucHV0LWFkZG9uJykucXVlcnlTZWxlY3RvcignLnByaWNlJykudGV4dENvbnRlbnQgPSAnJDEvbW8nXHJcblx0XHRzdGVwM0NoZWNrYm94ZXNbMV0uY2xvc2VzdCgnLmlucHV0LWFkZG9uJykucXVlcnlTZWxlY3RvcignLnByaWNlJykudGV4dENvbnRlbnQgPSAnJDIvbW8nXHJcblx0XHRzdGVwM0NoZWNrYm94ZXNbMl0uY2xvc2VzdCgnLmlucHV0LWFkZG9uJykucXVlcnlTZWxlY3RvcignLnByaWNlJykudGV4dENvbnRlbnQgPSAnJDIvbW8nXHJcblx0fVxyXG5cdGNvbnNvbGUubG9nKHNlbGVjdGlvbnMpXHJcbn1cclxuXHJcbmNvbnN0IGlmQ29ycmVjdDIgPSAoKSA9PiB7XHJcblx0aWYgKHNlbGVjdGlvbnMucGxhbiA9PT0gdW5kZWZpbmVkIHx8IHNlbGVjdGlvbnMucGVyaW9kID09PSB1bmRlZmluZWQpIHtcclxuXHRcdHJldHVybiBmYWxzZVxyXG5cdH0gZWxzZSB7XHJcblx0XHRyZXR1cm4gdHJ1ZVxyXG5cdH1cclxufVxyXG5cclxuLy8gMyBTVEVQXHJcblxyXG5jb25zdCBhZGRPblNlbGVjdCA9IGUgPT4ge1xyXG5cdC8vIGNvbnNvbGUubG9nKGUudGFyZ2V0KTtcclxuXHJcblx0aWYgKHN0ZXAzQ2hlY2tib3hlc1swXS5jaGVja2VkID09IHRydWUpIHtcclxuXHRcdHNlbGVjdGlvbnMuYWRkb24xID0gJ09ubGluZSBzZXJ2aWNlcydcclxuXHRcdHN0ZXAzQ2hlY2tib3hlc1swXS5jbG9zZXN0KCcuaW5wdXQtYWRkb24nKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxyXG5cdH0gZWxzZSB7XHJcblx0XHRkZWxldGUgc2VsZWN0aW9ucy5hZGRvbjFcclxuXHRcdHN0ZXAzQ2hlY2tib3hlc1swXS5jbG9zZXN0KCcuaW5wdXQtYWRkb24nKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG5cdH1cclxuXHRpZiAoc3RlcDNDaGVja2JveGVzWzFdLmNoZWNrZWQgPT0gdHJ1ZSkge1xyXG5cdFx0c2VsZWN0aW9ucy5hZGRvbjIgPSAnTGFyZ2VyIHN0b3JhZ2UnXHJcblx0XHRzdGVwM0NoZWNrYm94ZXNbMV0uY2xvc2VzdCgnLmlucHV0LWFkZG9uJykuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuXHR9IGVsc2Uge1xyXG5cdFx0ZGVsZXRlIHNlbGVjdGlvbnMuYWRkb24yXHJcblx0XHRzdGVwM0NoZWNrYm94ZXNbMV0uY2xvc2VzdCgnLmlucHV0LWFkZG9uJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuXHR9XHJcblx0aWYgKHN0ZXAzQ2hlY2tib3hlc1syXS5jaGVja2VkID09IHRydWUpIHtcclxuXHRcdHNlbGVjdGlvbnMuYWRkb24zID0gJ0N1c3RvbWl6YWJsZSBwcm9maWxlJ1xyXG5cdFx0c3RlcDNDaGVja2JveGVzWzJdLmNsb3Nlc3QoJy5pbnB1dC1hZGRvbicpLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcblx0fSBlbHNlIHtcclxuXHRcdGRlbGV0ZSBzZWxlY3Rpb25zLmFkZG9uM1xyXG5cdFx0c3RlcDNDaGVja2JveGVzWzJdLmNsb3Nlc3QoJy5pbnB1dC1hZGRvbicpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcblx0fVxyXG5cdGNvbnNvbGUubG9nKHNlbGVjdGlvbnMpXHJcbn1cclxuXHJcbmNvbnN0IGlmQ29ycmVjdDMgPSAoKSA9PiB7XHJcblx0cmV0dXJuIHRydWVcclxufVxyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcclxuXHRtYWluKClcclxuXHR0ZXN0KClcclxuXHRjdXJyZW50U3RlcCgpXHJcblx0d2lwZW91dCgpXHJcbn0pXHJcbiJdfQ==

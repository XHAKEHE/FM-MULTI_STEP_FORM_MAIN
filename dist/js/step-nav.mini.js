"use strict";var navSteps,mainSteps,prevBtn,nextBtn,step1Inputs,step1Warnings,step2Inputs,step2Switch,step3Checkboxes,step4Summary,step4Total,planPricesMo=["$9/mo","$12/mo","$15/mo"],planPricesYr=["$90/yr","$120/yr","$150/yr"],addonPricesMo=["$1/mo","$2/mo","$2/mo"],addonPricesYr=["$10/yr","$20/yr","$20/yr"],selections={},main=function(){prepareDOMElements(),prepareDOMEvents()},prepareDOMElements=function(){navSteps=document.querySelectorAll("nav .step button"),mainSteps=[document.querySelector("main .step-1"),document.querySelector("main .step-2"),document.querySelector("main .step-3"),document.querySelector("main .step-4")],prevBtn=document.querySelector(".prev-step"),nextBtn=document.querySelector(".next-step"),step1Inputs=document.querySelectorAll(".step-1 input"),step1Warnings=document.querySelectorAll(".step-1 div.warning"),step2Inputs=document.querySelectorAll(".step-2 .input-plan"),step2Switch=document.querySelector(".step-2 .period-switch"),step3Checkboxes=document.querySelectorAll(".step-3 input"),step4Summary=document.querySelector(".step-4 .summary"),step4Total=document.querySelector(".step-4 .total")},prepareDOMEvents=function(){navSteps.forEach(function(e){return e.addEventListener("click",navStepSelect)}),nextBtn.addEventListener("click",stepNext),prevBtn.addEventListener("click",stepPrev),step2Inputs.forEach(function(e){return e.addEventListener("click",planSelect)}),step2Switch.querySelector("input").addEventListener("click",periodSelect),step3Checkboxes.forEach(function(e){return e.addEventListener("click",addOnSelect)}),step4Summary.querySelector(".change").addEventListener("click",changePlan)},test=function(){},currentStep=function(){for(var e=0;e<navSteps.length;e++)if(navSteps[e].classList.contains("active"))return e},activateStep=function(e){navSteps.forEach(function(e){return e.classList.remove("active")}),navSteps[e].classList.add("active"),mainSteps.forEach(function(e){return e.classList.add("innactive")}),mainSteps[e].classList.remove("innactive"),0!=e?prevBtn.classList.remove("blank"):prevBtn.classList.add("blank"),3==e?(nextBtn.textContent="Confirm",nextBtn.style.backgroundColor="hsl(228, 100%, 84%)"):(nextBtn.textContent="Next step",nextBtn.style.backgroundColor="hsl(213, 96%, 18%)")},stepNext=function(){0==ifCorrect1()&&0==currentStep()?console.log("warunek 1 niespelniony"):0==ifCorrect2()&&1==currentStep()?console.log("warunek 2 niespelniony"):0==ifCorrect3()&&2==currentStep()?console.log("warunek 3 niespelniony"):activateStep(currentStep()+1)},stepPrev=function(){0<currentStep()&&activateStep(currentStep()-1)},navStepSelect=function(e){activateStep(e.target.textContent-1)},wipeout=function(){step2Switch.querySelector("input").checked=!1,selections.period="Monthly",step3Checkboxes.forEach(function(e){return e.checked=!1}),delete selections.addon1,delete selections.addon2,delete selections.addon3},addActive=function(e){e.classList.add("active")},removeActive=function(e){e.classList.remove("active")},ifCorrect1=function(){for(var e=0,t=0;t<step1Inputs.length;t++)0==step1Inputs[t].value.trim().length?(step1Warnings[t].classList.remove("innactive"),step1Inputs[t].classList.add("warning"),e++):(step1Warnings[t].classList.add("innactive"),step1Inputs[t].classList.remove("warning"));return 0==e},planSelect=function(e){step2Inputs.forEach(function(e){return removeActive(e)});e=e.target.closest(".input-plan"),addActive(e),e=e.querySelector("h2").textContent;selections.plan=e,console.log(selections)},periodSelect=function(){step2Switch.querySelector("input").checked?(selections.period="Yearly",step2Switch.querySelectorAll("div")[2].classList.toggle("selected"),step2Switch.querySelectorAll("div")[0].classList.toggle("selected"),step2Inputs[0].querySelectorAll("div p")[0].textContent=planPricesYr[0],step2Inputs[1].querySelectorAll("div p")[0].textContent=planPricesYr[1],step2Inputs[2].querySelectorAll("div p")[0].textContent=planPricesYr[2],step2Inputs.forEach(function(e){return e.querySelector(".bonus").style.display="flex"}),step3Checkboxes[0].closest(".input-addon").querySelector(".price").textContent=addonPricesYr[0],step3Checkboxes[1].closest(".input-addon").querySelector(".price").textContent=addonPricesYr[1],step3Checkboxes[2].closest(".input-addon").querySelector(".price").textContent=addonPricesYr[2]):(selections.period="Monthly",step2Switch.querySelectorAll("div")[2].classList.toggle("selected"),step2Switch.querySelectorAll("div")[0].classList.toggle("selected"),step2Inputs[0].querySelectorAll("div p")[0].textContent=planPricesMo[0],step2Inputs[1].querySelectorAll("div p")[0].textContent=planPricesMo[1],step2Inputs[2].querySelectorAll("div p")[0].textContent=planPricesMo[2],step2Inputs.forEach(function(e){return e.querySelector(".bonus").style.display="none"}),step3Checkboxes[0].closest(".input-addon").querySelector(".price").textContent=addonPricesMo[0],step3Checkboxes[1].closest(".input-addon").querySelector(".price").textContent=addonPricesMo[1],step3Checkboxes[2].closest(".input-addon").querySelector(".price").textContent=addonPricesMo[2]),console.log(selections)},ifCorrect2=function(){return void 0!==selections.plan&&void 0!==selections.period&&(sumUp(),!0)},addOnSelect=function(e){1==step3Checkboxes[0].checked?(selections.addon1="Online services",step3Checkboxes[0].closest(".input-addon").classList.add("active")):(delete selections.addon1,step3Checkboxes[0].closest(".input-addon").classList.remove("active")),1==step3Checkboxes[1].checked?(selections.addon2="Larger storage",step3Checkboxes[1].closest(".input-addon").classList.add("active")):(delete selections.addon2,step3Checkboxes[1].closest(".input-addon").classList.remove("active")),1==step3Checkboxes[2].checked?(selections.addon3="Customizable profile",step3Checkboxes[2].closest(".input-addon").classList.add("active")):(delete selections.addon3,step3Checkboxes[2].closest(".input-addon").classList.remove("active")),console.log(selections)},ifCorrect3=function(){return!0},sumUp=function(){var e,t="Yearly"==selections.period?(n=planPricesYr,e=addonPricesYr,"yr"):(n=planPricesMo,e=addonPricesMo,"mo");"Arcade"===selections.plan&&(s=n[0]),"Advanced"===selections.plan&&(s=n[1]),"Pro"===selections.plan&&(s=n[2]);step4Summary.querySelector("h2").textContent=selections.plan+" ("+selections.period+")",step4Summary.querySelector(".plan-price").textContent=s;var n=Number(s.slice(1,-3)),s=step4Summary.querySelector(".addon1"),o=step4Summary.querySelector(".addon2"),c=step4Summary.querySelector(".addon3");[s,o,c].forEach(function(e){return e.classList.add("innactive")}),null!=selections.addon1&&(s.classList.remove("innactive"),s.querySelector(".addon-price").textContent=e[0],n+=Number(e[0].slice(1,-3))),null!=selections.addon2&&(o.classList.remove("innactive"),o.querySelector(".addon-price").textContent=e[1],n+=Number(e[1].slice(1,-3))),null!=selections.addon3&&(c.classList.remove("innactive"),c.querySelector(".addon-price").textContent=e[2],n+=Number(e[2].slice(1,-3))),step4Total.querySelector("div").textContent="Total (per "+selections.period.slice(0,-2)+")",step4Total.querySelector(".total-price").textContent="$"+n+"/"+t,console.log(n)},changePlan=function(){activateStep(1)};document.addEventListener("DOMContentLoaded",function(){main(),test(),currentStep(),wipeout()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN0ZXAtbmF2LmpzIl0sIm5hbWVzIjpbImFkZG9uUHJpY2VzWXIiLCJuYXZTdGVwcyIsIm1haW5TdGVwcyIsInByZXZCdG4iLCJzdGVwMVdhcm5pbmdzIiwic3RlcDJJbnB1dHMiLCJzdGVwMlN3aXRjaCIsInN0ZXAzQ2hlY2tib3hlcyIsInN0ZXA0U3VtbWFyeSIsInN0ZXA0VG90YWwiLCJtYWluIiwicGxhblByaWNlc01vIiwicGxhblByaWNlc1lyIiwic2VsZWN0aW9ucyIsInByZXBhcmVET01FdmVudHMiLCJwcmVwYXJlRE9NRWxlbWVudHMiLCJxdWVyeVNlbGVjdG9yIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwibmV4dEJ0biIsInN0ZXAxSW5wdXRzIiwiZm9yRWFjaCIsImFkZEV2ZW50TGlzdGVuZXIiLCJuYXZTdGVwU2VsZWN0Iiwic3RlcE5leHQiLCJzdGVwUHJldiIsInBsYW5TZWxlY3QiLCJjaGFuZ2VQbGFuIiwicGxhbiIsInBlcmlvZFNlbGVjdCIsImFkZG9uIiwiY3VycmVudFN0ZXAiLCJhZGRPblNlbGVjdCIsImkiLCJ0ZXN0IiwiYWN0aXZhdGVTdGVwIiwibmF2U3RlcCIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwiZm9yd2FyZCIsInJlbW92ZSIsImFkZCIsIm1haW5TdGVwIiwidGV4dENvbnRlbnQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJpZkNvcnJlY3QxIiwiaWZDb3JyZWN0MiIsImxvZyIsImNvbnNvbGUiLCJ3aXBlb3V0IiwiY2hlY2tlZCIsImUiLCJ0YXJnZXQiLCJhZGRBY3RpdmUiLCJpbnB1dCIsImNoZWNrYm94IiwicmVtb3ZlQWN0aXZlIiwiYWRkb24xIiwiYWRkb24zIiwid3JvbmdJbnB1dHMiLCJ2YWx1ZSIsInRyaW0iLCJsZW5ndGgiLCJpbnB1dFBsYW4iLCJjbG9zZXN0IiwicGxhbk5hbWUiLCJwZXJpb2QiLCJ0b2dnbGUiLCJzdHlsZSIsImRpc3BsYXkiLCJ1bmRlZmluZWQiLCJhZGRvblByaWNlc01vIiwic3VtVXAiLCJhZGRvbjIiLCJpZkNvcnJlY3QzIiwicGxhblByaWNlcyIsInBlcmlvZFNob3J0Y3V0IiwiYWRkb25QcmljZXMiLCJzZWxlY3RlZFBsYW4iLCJwbGFuUHJpY2UiLCJzbGljZSIsInRvdGFsQ29zdCIsIk51bWJlciJdLCJtYXBwaW5ncyI6ImFBQUEsSUFHSUEsU0FFQUMsVUFDQUMsUUFDQUMsUUFNQUMsWUFDQUMsY0FDQUMsWUFDQUMsWUFDQUMsZ0JBQ0FDLGFBRUVDLFdBcEJGQyxhQUFlLENBQUMsUUFBUyxTQUFVLFVBQ25DQyxhQUFlLENBQUMsU0FBVSxVQUFXLFdBRHJDRCxjQUFnQixDQUFBLFFBQVMsUUFBVSxTQUNuQ0MsY0FBZ0IsQ0FBQSxTQUFVLFNBQVcsVUFTckNDLFdBQWEsR0FZaEJDLEtBQUFBLFdBQ0FDLG1CQUFBLEVBRURELGlCQUFNQyxDQUZOLEVBVUNaLG1CQUFtQmEsV0FQbkJmLFNBUVVnQixTQUFTRCxpQkFBYyxrQkFBYSxFQVA5Q2QsVUFTVyxDQUNYRSxTQUFBQSxjQUFnQmEsY0FBU0MsRUFFekJiLFNBQUFBLGNBQXVCYSxjQUFBQSxFQUN2QlosU0FBQUEsY0FBdUJVLGNBQWMsRUFFckNULFNBQUFBLGNBQWtCVSxjQUFTQyxHQVQzQmYsUUFZQU0sU0FBYVEsY0FBU0QsWUFBYyxFQUNwQ0csUUFBQUYsU0FBQUQsY0FBQSxZQUFBLEVBVkFJLFlBYVNDLFNBQVFILGlCQUFJLGVBQUEsRUFackJkLGNBWThCa0IsU0FBQUEsaUJBQTBCQyxxQkFBYyxFQVZ0RWxCLFlBV1FpQixTQUFBQSxpQkFBMEJFLHFCQUFTLEVBVjNDbEIsWUFXUWdCLFNBQUFBLGNBQTBCRyx3QkFBUyxFQVQzQ2xCLGdCQVVpQ2UsU0FBQUEsaUJBQTBCSSxlQUFXLEVBUnRFbEIsYUFTWVEsU0FBQUEsY0FBdUJNLGtCQUFpQixFQVJwRGIsV0FTQVEsU0FBQUQsY0FBQSxnQkFBQSxDQVJELEVBUytFRixpQkFBQSxXQU45RWIsU0FPQU8sUUFBYVEsU0FBQUEsR0FBQUEsT0FBQUEsRUFBY00saUJBQVdBLFFB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b250ZW50IjpbImxldCBwbGFuUHJpY2VzTW8gPSBbJyQ5L21vJywgJyQxMi9tbycsICckMTUvbW8nXVxyXG5sZXQgcGxhblByaWNlc1lyID0gWyckOTAveXInLCAnJDEyMC95cicsICckMTUwL3lyJ11cclxubGV0IGFkZG9uUHJpY2VzTW8gPSBbJyQxL21vJywgJyQyL21vJywgJyQyL21vJ11cclxubGV0IGFkZG9uUHJpY2VzWXIgPSBbJyQxMC95cicsICckMjAveXInLCAnJDIwL3lyJ11cclxuXHJcbmxldCBuYXZTdGVwc1xyXG5sZXQgbWFpblN0ZXBzXHJcbmxldCBwcmV2QnRuXHJcbmxldCBuZXh0QnRuXHJcblxyXG5sZXQgc2VsZWN0aW9ucyA9IHt9XHJcblxyXG5sZXQgc3RlcDFJbnB1dHNcclxubGV0IHN0ZXAxV2FybmluZ3NcclxubGV0IHN0ZXAySW5wdXRzXHJcbmxldCBzdGVwMlN3aXRjaFxyXG5sZXQgc3RlcDNDaGVja2JveGVzXHJcbmxldCBzdGVwNFN1bW1hcnlcclxubGV0IHN0ZXA0VG90YWxcclxuXHJcbmNvbnN0IG1haW4gPSAoKSA9PiB7XHJcblx0cHJlcGFyZURPTUVsZW1lbnRzKClcclxuXHRwcmVwYXJlRE9NRXZlbnRzKClcclxufVxyXG5cclxuY29uc3QgcHJlcGFyZURPTUVsZW1lbnRzID0gKCkgPT4ge1xyXG5cdG5hdlN0ZXBzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnbmF2IC5zdGVwIGJ1dHRvbicpXHJcblx0bWFpblN0ZXBzID0gW1xyXG5cdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWFpbiAuc3RlcC0xJyksXHJcblx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtYWluIC5zdGVwLTInKSxcclxuXHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21haW4gLnN0ZXAtMycpLFxyXG5cdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWFpbiAuc3RlcC00JyksXHJcblx0XVxyXG5cdHByZXZCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJldi1zdGVwJylcclxuXHRuZXh0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5leHQtc3RlcCcpXHJcblxyXG5cdHN0ZXAxSW5wdXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnN0ZXAtMSBpbnB1dCcpXHJcblx0c3RlcDFXYXJuaW5ncyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdGVwLTEgZGl2Lndhcm5pbmcnKVxyXG5cclxuXHRzdGVwMklucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdGVwLTIgLmlucHV0LXBsYW4nKVxyXG5cdHN0ZXAyU3dpdGNoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN0ZXAtMiAucGVyaW9kLXN3aXRjaCcpXHJcblxyXG5cdHN0ZXAzQ2hlY2tib3hlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdGVwLTMgaW5wdXQnKVxyXG5cclxuXHRzdGVwNFN1bW1hcnkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3RlcC00IC5zdW1tYXJ5JylcclxuXHRzdGVwNFRvdGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN0ZXAtNCAudG90YWwnKVxyXG59XHJcblxyXG5jb25zdCBwcmVwYXJlRE9NRXZlbnRzID0gKCkgPT4ge1xyXG5cdG5hdlN0ZXBzLmZvckVhY2goc3RlcCA9PiBzdGVwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgbmF2U3RlcFNlbGVjdCkpXHJcblx0bmV4dEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHN0ZXBOZXh0KVxyXG5cdHByZXZCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzdGVwUHJldilcclxuXHRzdGVwMklucHV0cy5mb3JFYWNoKHBsYW4gPT4gcGxhbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHBsYW5TZWxlY3QpKVxyXG5cdHN0ZXAyU3dpdGNoLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBwZXJpb2RTZWxlY3QpXHJcblx0Ly8gc3RlcDNDaGVja2JveGVzLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYWRkT25TZWxlY3QpXHJcblx0c3RlcDNDaGVja2JveGVzLmZvckVhY2goYWRkb24gPT4gYWRkb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhZGRPblNlbGVjdCkpXHJcblx0c3RlcDRTdW1tYXJ5LnF1ZXJ5U2VsZWN0b3IoJy5jaGFuZ2UnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNoYW5nZVBsYW4pXHJcbn1cclxuXHJcbmNvbnN0IHRlc3QgPSAoKSA9PiB7fVxyXG5cclxuLy9TVEVQIE5BVklHQVRJT04gYW5kIFNUQVJUIEZVTkNTXHJcblxyXG5jb25zdCBjdXJyZW50U3RlcCA9ICgpID0+IHtcclxuXHRmb3IgKGxldCBpID0gMDsgaSA8IG5hdlN0ZXBzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRpZiAobmF2U3RlcHNbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xyXG5cdFx0XHQvLyBjb25zb2xlLmxvZyhpKVxyXG5cdFx0XHRyZXR1cm4gaVxyXG5cdFx0fVxyXG5cdH1cclxufVxyXG5cclxuY29uc3QgYWN0aXZhdGVTdGVwID0gZm9yd2FyZCA9PiB7XHJcblx0bmF2U3RlcHMuZm9yRWFjaChuYXZTdGVwID0+IG5hdlN0ZXAuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJykpXHJcblx0bmF2U3RlcHNbZm9yd2FyZF0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuXHRtYWluU3RlcHMuZm9yRWFjaChtYWluU3RlcCA9PiBtYWluU3RlcC5jbGFzc0xpc3QuYWRkKCdpbm5hY3RpdmUnKSlcclxuXHRtYWluU3RlcHNbZm9yd2FyZF0uY2xhc3NMaXN0LnJlbW92ZSgnaW5uYWN0aXZlJylcclxuXHJcblx0aWYgKGZvcndhcmQgIT0gMCkge1xyXG5cdFx0cHJldkJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdibGFuaycpXHJcblx0fSBlbHNlIHtcclxuXHRcdHByZXZCdG4uY2xhc3NMaXN0LmFkZCgnYmxhbmsnKVxyXG5cdH1cclxuXHJcblx0aWYgKGZvcndhcmQgPT0gMykge1xyXG5cdFx0bmV4dEJ0bi50ZXh0Q29udGVudCA9ICdDb25maXJtJ1xyXG5cdFx0bmV4dEJ0bi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnaHNsKDIyOCwgMTAwJSwgODQlKSdcclxuXHR9IGVsc2Uge1xyXG5cdFx0bmV4dEJ0bi50ZXh0Q29udGVudCA9ICdOZXh0IHN0ZXAnXHJcblx0XHRuZXh0QnRuLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdoc2woMjEzLCA5NiUsIDE4JSknXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBzdGVwTmV4dCA9ICgpID0+IHtcclxuXHRpZiAoaWZDb3JyZWN0MSgpID09IGZhbHNlICYmIGN1cnJlbnRTdGVwKCkgPT0gMCkge1xyXG5cdFx0Y29uc29sZS5sb2coJ3dhcnVuZWsgMSBuaWVzcGVsbmlvbnknKVxyXG5cdH0gZWxzZSB7XHJcblx0XHRpZiAoaWZDb3JyZWN0MigpID09IGZhbHNlICYmIGN1cnJlbnRTdGVwKCkgPT0gMSkge1xyXG5cdFx0XHRjb25zb2xlLmxvZygnd2FydW5layAyIG5pZXNwZWxuaW9ueScpXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRpZiAoaWZDb3JyZWN0MygpID09IGZhbHNlICYmIGN1cnJlbnRTdGVwKCkgPT0gMikge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKCd3YXJ1bmVrIDMgbmllc3BlbG5pb255JylcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRhY3RpdmF0ZVN0ZXAoY3VycmVudFN0ZXAoKSArIDEpXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn1cclxuY29uc3Qgc3RlcFByZXYgPSAoKSA9PiB7XHJcblx0aWYgKGN1cnJlbnRTdGVwKCkgPiAwKSB7XHJcblx0XHRhY3RpdmF0ZVN0ZXAoY3VycmVudFN0ZXAoKSAtIDEpXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBuYXZTdGVwU2VsZWN0ID0gZSA9PiB7XHJcblx0YWN0aXZhdGVTdGVwKGUudGFyZ2V0LnRleHRDb250ZW50IC0gMSlcclxufVxyXG5cclxuLy8gQ09NTU9OXHJcbmNvbnN0IHdpcGVvdXQgPSAoKSA9PiB7XHJcblx0c3RlcDJTd2l0Y2gucXVlcnlTZWxlY3RvcignaW5wdXQnKS5jaGVja2VkID0gZmFsc2VcclxuXHRzZWxlY3Rpb25zLnBlcmlvZCA9ICdNb250aGx5J1xyXG5cdHN0ZXAzQ2hlY2tib3hlcy5mb3JFYWNoKGNoZWNrYm94ID0+IChjaGVja2JveC5jaGVja2VkID0gZmFsc2UpKVxyXG5cdGRlbGV0ZSBzZWxlY3Rpb25zLmFkZG9uMVxyXG5cdGRlbGV0ZSBzZWxlY3Rpb25zLmFkZG9uMlxyXG5cdGRlbGV0ZSBzZWxlY3Rpb25zLmFkZG9uM1xyXG59XHJcbmNvbnN0IGFkZEFjdGl2ZSA9IGlucHV0ID0+IHtcclxuXHRpbnB1dC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxyXG59XHJcbmNvbnN0IHJlbW92ZUFjdGl2ZSA9IGlucHV0ID0+IHtcclxuXHRpbnB1dC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG59XHJcblxyXG4vLyAxIFNURVBcclxuXHJcbmNvbnN0IGlmQ29ycmVjdDEgPSAoKSA9PiB7XHJcblx0bGV0IHdyb25nSW5wdXRzID0gMFxyXG5cdGZvciAobGV0IGkgPSAwOyBpIDwgc3RlcDFJbnB1dHMubGVuZ3RoOyBpKyspIHtcclxuXHRcdGlmIChzdGVwMUlucHV0c1tpXS52YWx1ZS50cmltKCkubGVuZ3RoID09IDApIHtcclxuXHRcdFx0c3RlcDFXYXJuaW5nc1tpXS5jbGFzc0xpc3QucmVtb3ZlKCdpbm5hY3RpdmUnKVxyXG5cdFx0XHRzdGVwMUlucHV0c1tpXS5jbGFzc0xpc3QuYWRkKCd3YXJuaW5nJylcclxuXHRcdFx0d3JvbmdJbnB1dHMrK1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0c3RlcDFXYXJuaW5nc1tpXS5jbGFzc0xpc3QuYWRkKCdpbm5hY3RpdmUnKVxyXG5cdFx0XHRzdGVwMUlucHV0c1tpXS5jbGFzc0xpc3QucmVtb3ZlKCd3YXJuaW5nJylcclxuXHRcdH1cclxuXHR9XHJcblx0aWYgKHdyb25nSW5wdXRzID09IDApIHtcclxuXHRcdHJldHVybiB0cnVlXHJcblx0fSBlbHNlIHJldHVybiBmYWxzZVxyXG59XHJcblxyXG4vLyAyIFNURVBcclxuXHJcbmNvbnN0IHBsYW5TZWxlY3QgPSBlID0+IHtcclxuXHRzdGVwMklucHV0cy5mb3JFYWNoKGlucHV0ID0+IHJlbW92ZUFjdGl2ZShpbnB1dCkpXHJcblx0bGV0IGlucHV0UGxhbiA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5pbnB1dC1wbGFuJylcclxuXHRhZGRBY3RpdmUoaW5wdXRQbGFuKVxyXG5cdGxldCBwbGFuTmFtZSA9IGlucHV0UGxhbi5xdWVyeVNlbGVjdG9yKCdoMicpLnRleHRDb250ZW50XHJcblx0c2VsZWN0aW9ucy5wbGFuID0gcGxhbk5hbWVcclxuXHRjb25zb2xlLmxvZyhzZWxlY3Rpb25zKVxyXG59XHJcblxyXG5jb25zdCBwZXJpb2RTZWxlY3QgPSAoKSA9PiB7XHJcblx0aWYgKHN0ZXAyU3dpdGNoLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JykuY2hlY2tlZCkge1xyXG5cdFx0c2VsZWN0aW9ucy5wZXJpb2QgPSAnWWVhcmx5J1xyXG5cdFx0c3RlcDJTd2l0Y2gucXVlcnlTZWxlY3RvckFsbCgnZGl2JylbMl0uY2xhc3NMaXN0LnRvZ2dsZSgnc2VsZWN0ZWQnKVxyXG5cdFx0c3RlcDJTd2l0Y2gucXVlcnlTZWxlY3RvckFsbCgnZGl2JylbMF0uY2xhc3NMaXN0LnRvZ2dsZSgnc2VsZWN0ZWQnKVxyXG5cclxuXHRcdC8vIHN0ZXAySW5wdXRzWzBdLnF1ZXJ5U2VsZWN0b3JBbGwoJ2RpdiBwJylbMF0udGV4dENvbnRlbnQgPSAnJDkwL3lyJ1xyXG5cdFx0c3RlcDJJbnB1dHNbMF0ucXVlcnlTZWxlY3RvckFsbCgnZGl2IHAnKVswXS50ZXh0Q29udGVudCA9IHBsYW5QcmljZXNZclswXVxyXG5cdFx0c3RlcDJJbnB1dHNbMV0ucXVlcnlTZWxlY3RvckFsbCgnZGl2IHAnKVswXS50ZXh0Q29udGVudCA9IHBsYW5QcmljZXNZclsxXVxyXG5cdFx0c3RlcDJJbnB1dHNbMl0ucXVlcnlTZWxlY3RvckFsbCgnZGl2IHAnKVswXS50ZXh0Q29udGVudCA9IHBsYW5QcmljZXNZclsyXVxyXG5cclxuXHRcdHN0ZXAySW5wdXRzLmZvckVhY2goaW5wdXQgPT4gKGlucHV0LnF1ZXJ5U2VsZWN0b3IoJy5ib251cycpLnN0eWxlLmRpc3BsYXkgPSAnZmxleCcpKVxyXG5cclxuXHRcdHN0ZXAzQ2hlY2tib3hlc1swXS5jbG9zZXN0KCcuaW5wdXQtYWRkb24nKS5xdWVyeVNlbGVjdG9yKCcucHJpY2UnKS50ZXh0Q29udGVudCA9IGFkZG9uUHJpY2VzWXJbMF1cclxuXHRcdHN0ZXAzQ2hlY2tib3hlc1sxXS5jbG9zZXN0KCcuaW5wdXQtYWRkb24nKS5xdWVyeVNlbGVjdG9yKCcucHJpY2UnKS50ZXh0Q29udGVudCA9IGFkZG9uUHJpY2VzWXJbMV1cclxuXHRcdHN0ZXAzQ2hlY2tib3hlc1syXS5jbG9zZXN0KCcuaW5wdXQtYWRkb24nKS5xdWVyeVNlbGVjdG9yKCcucHJpY2UnKS50ZXh0Q29udGVudCA9IGFkZG9uUHJpY2VzWXJbMl1cclxuXHR9IGVsc2Uge1xyXG5cdFx0c2VsZWN0aW9ucy5wZXJpb2QgPSAnTW9udGhseSdcclxuXHRcdHN0ZXAyU3dpdGNoLnF1ZXJ5U2VsZWN0b3JBbGwoJ2RpdicpWzJdLmNsYXNzTGlzdC50b2dnbGUoJ3NlbGVjdGVkJylcclxuXHRcdHN0ZXAyU3dpdGNoLnF1ZXJ5U2VsZWN0b3JBbGwoJ2RpdicpWzBdLmNsYXNzTGlzdC50b2dnbGUoJ3NlbGVjdGVkJylcclxuXHJcblx0XHRzdGVwMklucHV0c1swXS5xdWVyeVNlbGVjdG9yQWxsKCdkaXYgcCcpWzBdLnRleHRDb250ZW50ID0gcGxhblByaWNlc01vWzBdXHJcblx0XHRzdGVwMklucHV0c1sxXS5xdWVyeVNlbGVjdG9yQWxsKCdkaXYgcCcpWzBdLnRleHRDb250ZW50ID0gcGxhblByaWNlc01vWzFdXHJcblx0XHRzdGVwMklucHV0c1syXS5xdWVyeVNlbGVjdG9yQWxsKCdkaXYgcCcpWzBdLnRleHRDb250ZW50ID0gcGxhblByaWNlc01vWzJdXHJcblxyXG5cdFx0c3RlcDJJbnB1dHMuZm9yRWFjaChpbnB1dCA9PiAoaW5wdXQucXVlcnlTZWxlY3RvcignLmJvbnVzJykuc3R5bGUuZGlzcGxheSA9ICdub25lJykpXHJcblxyXG5cdFx0c3RlcDNDaGVja2JveGVzWzBdLmNsb3Nlc3QoJy5pbnB1dC1hZGRvbicpLnF1ZXJ5U2VsZWN0b3IoJy5wcmljZScpLnRleHRDb250ZW50ID0gYWRkb25QcmljZXNNb1swXVxyXG5cdFx0c3RlcDNDaGVja2JveGVzWzFdLmNsb3Nlc3QoJy5pbnB1dC1hZGRvbicpLnF1ZXJ5U2VsZWN0b3IoJy5wcmljZScpLnRleHRDb250ZW50ID0gYWRkb25QcmljZXNNb1sxXVxyXG5cdFx0c3RlcDNDaGVja2JveGVzWzJdLmNsb3Nlc3QoJy5pbnB1dC1hZGRvbicpLnF1ZXJ5U2VsZWN0b3IoJy5wcmljZScpLnRleHRDb250ZW50ID0gYWRkb25QcmljZXNNb1syXVxyXG5cdH1cclxuXHRjb25zb2xlLmxvZyhzZWxlY3Rpb25zKVxyXG59XHJcblxyXG5jb25zdCBpZkNvcnJlY3QyID0gKCkgPT4ge1xyXG5cdGlmIChzZWxlY3Rpb25zLnBsYW4gPT09IHVuZGVmaW5lZCB8fCBzZWxlY3Rpb25zLnBlcmlvZCA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRyZXR1cm4gZmFsc2VcclxuXHR9IGVsc2Uge1xyXG5cdFx0c3VtVXAoKVxyXG5cdFx0cmV0dXJuIHRydWVcclxuXHR9XHJcbn1cclxuXHJcbi8vIDMgU1RFUFxyXG5cclxuY29uc3QgYWRkT25TZWxlY3QgPSBlID0+IHtcclxuXHQvLyBjb25zb2xlLmxvZyhlLnRhcmdldCk7XHJcblxyXG5cdGlmIChzdGVwM0NoZWNrYm94ZXNbMF0uY2hlY2tlZCA9PSB0cnVlKSB7XHJcblx0XHRzZWxlY3Rpb25zLmFkZG9uMSA9ICdPbmxpbmUgc2VydmljZXMnXHJcblx0XHRzdGVwM0NoZWNrYm94ZXNbMF0uY2xvc2VzdCgnLmlucHV0LWFkZG9uJykuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuXHR9IGVsc2Uge1xyXG5cdFx0ZGVsZXRlIHNlbGVjdGlvbnMuYWRkb24xXHJcblx0XHRzdGVwM0NoZWNrYm94ZXNbMF0uY2xvc2VzdCgnLmlucHV0LWFkZG9uJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuXHR9XHJcblx0aWYgKHN0ZXAzQ2hlY2tib3hlc1sxXS5jaGVja2VkID09IHRydWUpIHtcclxuXHRcdHNlbGVjdGlvbnMuYWRkb24yID0gJ0xhcmdlciBzdG9yYWdlJ1xyXG5cdFx0c3RlcDNDaGVja2JveGVzWzFdLmNsb3Nlc3QoJy5pbnB1dC1hZGRvbicpLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcblx0fSBlbHNlIHtcclxuXHRcdGRlbGV0ZSBzZWxlY3Rpb25zLmFkZG9uMlxyXG5cdFx0c3RlcDNDaGVja2JveGVzWzFdLmNsb3Nlc3QoJy5pbnB1dC1hZGRvbicpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcblx0fVxyXG5cdGlmIChzdGVwM0NoZWNrYm94ZXNbMl0uY2hlY2tlZCA9PSB0cnVlKSB7XHJcblx0XHRzZWxlY3Rpb25zLmFkZG9uMyA9ICdDdXN0b21pemFibGUgcHJvZmlsZSdcclxuXHRcdHN0ZXAzQ2hlY2tib3hlc1syXS5jbG9zZXN0KCcuaW5wdXQtYWRkb24nKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxyXG5cdH0gZWxzZSB7XHJcblx0XHRkZWxldGUgc2VsZWN0aW9ucy5hZGRvbjNcclxuXHRcdHN0ZXAzQ2hlY2tib3hlc1syXS5jbG9zZXN0KCcuaW5wdXQtYWRkb24nKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG5cdH1cclxuXHRjb25zb2xlLmxvZyhzZWxlY3Rpb25zKVxyXG59XHJcblxyXG5jb25zdCBpZkNvcnJlY3QzID0gKCkgPT4ge1xyXG5cdHJldHVybiB0cnVlXHJcbn1cclxuLy8gNCBTVEVQXHJcblxyXG5jb25zdCBzdW1VcCA9ICgpID0+IHtcclxuXHRsZXQgcGxhblByaWNlc1xyXG5cdGxldCBwbGFuUHJpY2VcclxuXHRsZXQgYWRkb25QcmljZXNcclxuXHRsZXQgcGVyaW9kU2hvcnRjdXRcclxuXHRpZiAoc2VsZWN0aW9ucy5wZXJpb2QgPT0gJ1llYXJseScpIHtcclxuXHRcdHBsYW5QcmljZXMgPSBwbGFuUHJpY2VzWXJcclxuXHRcdGFkZG9uUHJpY2VzID0gYWRkb25QcmljZXNZclxyXG5cdFx0cGVyaW9kU2hvcnRjdXQgPSAneXInXHJcblx0fSBlbHNlIHtcclxuXHRcdHBsYW5QcmljZXMgPSBwbGFuUHJpY2VzTW9cclxuXHRcdGFkZG9uUHJpY2VzID0gYWRkb25QcmljZXNNb1xyXG5cdFx0cGVyaW9kU2hvcnRjdXQgPSAnbW8nXHJcblx0fVxyXG5cdGlmIChzZWxlY3Rpb25zLnBsYW4gPT09ICdBcmNhZGUnKSB7XHJcblx0XHRwbGFuUHJpY2UgPSBwbGFuUHJpY2VzWzBdXHJcblx0fVxyXG5cdGlmIChzZWxlY3Rpb25zLnBsYW4gPT09ICdBZHZhbmNlZCcpIHtcclxuXHRcdHBsYW5QcmljZSA9IHBsYW5QcmljZXNbMV1cclxuXHR9XHJcblx0aWYgKHNlbGVjdGlvbnMucGxhbiA9PT0gJ1BybycpIHtcclxuXHRcdHBsYW5QcmljZSA9IHBsYW5QcmljZXNbMl1cclxuXHR9XHJcblx0bGV0IHNlbGVjdGVkUGxhbiA9IHN0ZXA0U3VtbWFyeS5xdWVyeVNlbGVjdG9yKCdoMicpXHJcblx0c2VsZWN0ZWRQbGFuLnRleHRDb250ZW50ID0gc2VsZWN0aW9ucy5wbGFuICsgJyAoJyArIHNlbGVjdGlvbnMucGVyaW9kICsgJyknXHJcblx0c3RlcDRTdW1tYXJ5LnF1ZXJ5U2VsZWN0b3IoJy5wbGFuLXByaWNlJykudGV4dENvbnRlbnQgPSBwbGFuUHJpY2VcclxuXHRsZXQgdG90YWxDb3N0ID0gTnVtYmVyKHBsYW5QcmljZS5zbGljZSgxLCAtMykpXHJcblxyXG5cdGxldCBhZGRvbjEgPSBzdGVwNFN1bW1hcnkucXVlcnlTZWxlY3RvcignLmFkZG9uMScpXHJcblx0bGV0IGFkZG9uMiA9IHN0ZXA0U3VtbWFyeS5xdWVyeVNlbGVjdG9yKCcuYWRkb24yJylcclxuXHRsZXQgYWRkb24zID0gc3RlcDRTdW1tYXJ5LnF1ZXJ5U2VsZWN0b3IoJy5hZGRvbjMnKVxyXG5cdGxldCBhZGRvbnMgPSBbYWRkb24xLCBhZGRvbjIsIGFkZG9uM11cclxuXHRhZGRvbnMuZm9yRWFjaChhZGRvbiA9PiBhZGRvbi5jbGFzc0xpc3QuYWRkKCdpbm5hY3RpdmUnKSlcclxuXHJcblx0aWYgKHNlbGVjdGlvbnMuYWRkb24xICE9IHVuZGVmaW5lZCkge1xyXG5cdFx0YWRkb24xLmNsYXNzTGlzdC5yZW1vdmUoJ2lubmFjdGl2ZScpXHJcblx0XHRhZGRvbjEucXVlcnlTZWxlY3RvcignLmFkZG9uLXByaWNlJykudGV4dENvbnRlbnQgPSBhZGRvblByaWNlc1swXVxyXG5cdFx0dG90YWxDb3N0ID0gdG90YWxDb3N0ICsgTnVtYmVyKGFkZG9uUHJpY2VzWzBdLnNsaWNlKDEsIC0zKSlcclxuXHR9XHJcblx0aWYgKHNlbGVjdGlvbnMuYWRkb24yICE9IHVuZGVmaW5lZCkge1xyXG5cdFx0YWRkb24yLmNsYXNzTGlzdC5yZW1vdmUoJ2lubmFjdGl2ZScpXHJcblx0XHRhZGRvbjIucXVlcnlTZWxlY3RvcignLmFkZG9uLXByaWNlJykudGV4dENvbnRlbnQgPSBhZGRvblByaWNlc1sxXVxyXG5cdFx0dG90YWxDb3N0ID0gdG90YWxDb3N0ICsgTnVtYmVyKGFkZG9uUHJpY2VzWzFdLnNsaWNlKDEsIC0zKSlcclxuXHR9XHJcblx0aWYgKHNlbGVjdGlvbnMuYWRkb24zICE9IHVuZGVmaW5lZCkge1xyXG5cdFx0YWRkb24zLmNsYXNzTGlzdC5yZW1vdmUoJ2lubmFjdGl2ZScpXHJcblx0XHRhZGRvbjMucXVlcnlTZWxlY3RvcignLmFkZG9uLXByaWNlJykudGV4dENvbnRlbnQgPSBhZGRvblByaWNlc1syXVxyXG5cdFx0dG90YWxDb3N0ID0gdG90YWxDb3N0ICsgTnVtYmVyKGFkZG9uUHJpY2VzWzJdLnNsaWNlKDEsIC0zKSlcclxuXHR9XHJcblxyXG5cdHN0ZXA0VG90YWwucXVlcnlTZWxlY3RvcignZGl2JykudGV4dENvbnRlbnQgPSAnVG90YWwgKHBlciAnICsgc2VsZWN0aW9ucy5wZXJpb2Quc2xpY2UoMCwgLTIpICsgJyknXHJcblx0c3RlcDRUb3RhbC5xdWVyeVNlbGVjdG9yKCcudG90YWwtcHJpY2UnKS50ZXh0Q29udGVudCA9ICckJyArIHRvdGFsQ29zdCArICcvJyArIHBlcmlvZFNob3J0Y3V0XHJcblx0Y29uc29sZS5sb2codG90YWxDb3N0KVxyXG59XHJcblxyXG5jb25zdCBjaGFuZ2VQbGFuID0gKCkgPT4ge1xyXG5cdGFjdGl2YXRlU3RlcCgxKVxyXG59XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xyXG5cdG1haW4oKVxyXG5cdHRlc3QoKVxyXG5cdGN1cnJlbnRTdGVwKClcclxuXHR3aXBlb3V0KClcclxufSlcclxuIl19

"use strict";var navSteps,mainSteps,prevBtn,nextBtn,step1Inputs,step1Warnings,step1EmailWarning,step2Inputs,step2Switch,step3Checkboxes,step4Summary,step4Total,planPricesMo=["$9/mo","$12/mo","$15/mo"],planPricesYr=["$90/yr","$120/yr","$150/yr"],addonPricesMo=["$1/mo","$2/mo","$2/mo"],addonPricesYr=["$10/yr","$20/yr","$20/yr"],selections={},main=function(){prepareDOMElements(),prepareDOMEvents()},prepareDOMElements=function(){navSteps=document.querySelectorAll("nav .step button"),mainSteps=[document.querySelector("main .step-1"),document.querySelector("main .step-2"),document.querySelector("main .step-3"),document.querySelector("main .step-4"),document.querySelector("main .step-5")],prevBtn=document.querySelector(".prev-step"),nextBtn=document.querySelector(".next-step"),step1Inputs=document.querySelectorAll(".step-1 input"),step1Warnings=document.querySelectorAll(".step-1 div.warning"),step1EmailWarning=document.querySelector(".step-1 .warning-email"),step2Inputs=document.querySelectorAll(".step-2 .input-plan"),step2Switch=document.querySelector(".step-2 .period-switch"),step3Checkboxes=document.querySelectorAll(".step-3 input"),step4Summary=document.querySelector(".step-4 .summary"),step4Total=document.querySelector(".step-4 .total")},prepareDOMEvents=function(){nextBtn.addEventListener("click",stepNext),prevBtn.addEventListener("click",stepPrev),step2Inputs.forEach(function(e){return e.addEventListener("click",planSelect)}),step2Switch.querySelector("input").addEventListener("click",periodSelect),step3Checkboxes.forEach(function(e){return e.addEventListener("click",addOnSelect)}),step4Summary.querySelector(".change").addEventListener("click",changePlan)},test=function(){},currentStep=function(){for(var e=0;e<mainSteps.length;e++)if(!mainSteps[e].classList.contains("innactive"))return e},activateStep=function(e){mainSteps.forEach(function(e){return e.classList.add("innactive")}),mainSteps[e].classList.remove("innactive"),navSteps.forEach(function(e){return e.classList.remove("active")}),(4==e?navSteps[3]:navSteps[e]).classList.add("active"),0!=e?prevBtn.classList.remove("blank"):prevBtn.classList.add("blank"),3==e?(nextBtn.textContent="Confirm",nextBtn.style.backgroundColor="hsl(243, 100%, 62%)"):(nextBtn.textContent="Next step",nextBtn.style.backgroundColor="hsl(213, 96%, 18%)"),4==e?(prevBtn.classList.add("blank"),nextBtn.classList.add("blank")):(prevBtn.classList.remove("blank"),nextBtn.classList.remove("blank"))},stepNext=function(){0==ifCorrect1()&&0==currentStep()||(0==ifCorrect2()&&1==currentStep()?alert("Please choose your plan before proceeding."):0==ifCorrect3()&&2==currentStep()||activateStep(currentStep()+1))},stepPrev=function(){0<currentStep()&&activateStep(currentStep()-1)},wipeout=function(){step2Switch.querySelector("input").checked=!1,selections.period="Monthly",step3Checkboxes.forEach(function(e){return e.checked=!1}),delete selections.addon1,delete selections.addon2,delete selections.addon3},addActive=function(e){e.classList.add("active")},removeActive=function(e){e.classList.remove("active")},ifCorrect1=function(){for(var e=0,t=0;t<step1Inputs.length;t++)0==step1Inputs[t].value.trim().length?(step1Warnings[t].classList.remove("innactive"),step1Inputs[t].classList.add("warning"),e++):(step1Warnings[t].classList.add("innactive"),step1Inputs[t].classList.remove("warning"));return-1==step1Inputs[1].value.indexOf("@")&&step1Warnings[1].classList.contains("innactive")?(step1EmailWarning.classList.remove("innactive"),step1Inputs[1].classList.add("warning"),e++):step1EmailWarning.classList.add("innactive"),0==e},planSelect=function(e){step2Inputs.forEach(function(e){return removeActive(e)});e=e.target.closest(".input-plan"),addActive(e),e=e.querySelector("h2").textContent;selections.plan=e,console.log(selections)},periodSelect=function(){step2Switch.querySelector("input").checked?(selections.period="Yearly",step2Switch.querySelectorAll("div")[2].classList.toggle("selected"),step2Switch.querySelectorAll("div")[0].classList.toggle("selected"),step2Inputs[0].querySelectorAll("div p")[0].textContent=planPricesYr[0],step2Inputs[1].querySelectorAll("div p")[0].textContent=planPricesYr[1],step2Inputs[2].querySelectorAll("div p")[0].textContent=planPricesYr[2],step2Inputs.forEach(function(e){return e.querySelector(".bonus").style.display="flex"}),step3Checkboxes[0].closest(".input-addon").querySelector(".price").textContent="+ "+addonPricesYr[0],step3Checkboxes[1].closest(".input-addon").querySelector(".price").textContent="+ "+addonPricesYr[1],step3Checkboxes[2].closest(".input-addon").querySelector(".price").textContent="+ "+addonPricesYr[2]):(selections.period="Monthly",step2Switch.querySelectorAll("div")[2].classList.toggle("selected"),step2Switch.querySelectorAll("div")[0].classList.toggle("selected"),step2Inputs[0].querySelectorAll("div p")[0].textContent=planPricesMo[0],step2Inputs[1].querySelectorAll("div p")[0].textContent=planPricesMo[1],step2Inputs[2].querySelectorAll("div p")[0].textContent=planPricesMo[2],step2Inputs.forEach(function(e){return e.querySelector(".bonus").style.display="none"}),step3Checkboxes[0].closest(".input-addon").querySelector(".price").textContent="+ "+addonPricesMo[0],step3Checkboxes[1].closest(".input-addon").querySelector(".price").textContent="+ "+addonPricesMo[1],step3Checkboxes[2].closest(".input-addon").querySelector(".price").textContent="+ "+addonPricesMo[2]),console.log(selections)},ifCorrect2=function(){return void 0!==selections.plan&&void 0!==selections.period&&(sumUp(),!0)},addOnSelect=function(e){1==step3Checkboxes[0].checked?(selections.addon1="Online services",step3Checkboxes[0].closest(".input-addon").classList.add("active")):(delete selections.addon1,step3Checkboxes[0].closest(".input-addon").classList.remove("active")),1==step3Checkboxes[1].checked?(selections.addon2="Larger storage",step3Checkboxes[1].closest(".input-addon").classList.add("active")):(delete selections.addon2,step3Checkboxes[1].closest(".input-addon").classList.remove("active")),1==step3Checkboxes[2].checked?(selections.addon3="Customizable profile",step3Checkboxes[2].closest(".input-addon").classList.add("active")):(delete selections.addon3,step3Checkboxes[2].closest(".input-addon").classList.remove("active")),console.log(selections)},ifCorrect3=function(){return!0},sumUp=function(){var e,t="Yearly"==selections.period?(n=planPricesYr,e=addonPricesYr,"yr"):(n=planPricesMo,e=addonPricesMo,"mo");"Arcade"===selections.plan&&(s=n[0]),"Advanced"===selections.plan&&(s=n[1]),"Pro"===selections.plan&&(s=n[2]);step4Summary.querySelector("h2").textContent=selections.plan+" ("+selections.period+")",step4Summary.querySelector(".plan-price").textContent=s;var n=Number(s.slice(1,-3)),s=step4Summary.querySelector(".addon1"),c=step4Summary.querySelector(".addon2"),o=step4Summary.querySelector(".addon3");[s,c,o].forEach(function(e){return e.classList.add("innactive")}),null!=selections.addon1&&(s.classList.remove("innactive"),s.querySelector(".addon-price").textContent="+"+e[0],n+=Number(e[0].slice(1,-3))),null!=selections.addon2&&(c.classList.remove("innactive"),c.querySelector(".addon-price").textContent="+"+e[1],n+=Number(e[1].slice(1,-3))),null!=selections.addon3&&(o.classList.remove("innactive"),o.querySelector(".addon-price").textContent="+"+e[2],n+=Number(e[2].slice(1,-3))),step4Total.querySelector("div").textContent="Total (per "+selections.period.slice(0,-2)+")",step4Total.querySelector(".total-price").textContent="$"+n+"/"+t},changePlan=function(){activateStep(1)};document.addEventListener("DOMContentLoaded",function(){main(),test(),currentStep(),wipeout()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN0ZXAtbmF2LmpzIl0sIm5hbWVzIjpbImFkZG9uUHJpY2VzWXIiLCJuYXZTdGVwcyIsIm1haW5TdGVwcyIsInByZXZCdG4iLCJzdGVwMVdhcm5pbmdzIiwic3RlcDFFbWFpbFdhcm5pbmciLCJzdGVwMklucHV0cyIsInN0ZXAyU3dpdGNoIiwic3RlcDNDaGVja2JveGVzIiwic3RlcDRTdW1tYXJ5Iiwic3RlcDRUb3RhbCIsIm1haW4iLCJwbGFuUHJpY2VzTW8iLCJwbGFuUHJpY2VzWXIiLCJzZWxlY3Rpb25zIiwicHJlcGFyZURPTUV2ZW50cyIsInByZXBhcmVET01FbGVtZW50cyIsInF1ZXJ5U2VsZWN0b3IiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJuZXh0QnRuIiwic3RlcDFJbnB1dHMiLCJhZGRFdmVudExpc3RlbmVyIiwic3RlcE5leHQiLCJmb3JFYWNoIiwiY3VycmVudFN0ZXAiLCJwbGFuIiwibGVuZ3RoIiwicGxhblNlbGVjdCIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwicGVyaW9kU2VsZWN0IiwiYWRkb24iLCJhZGRPblNlbGVjdCIsImNoYW5nZVBsYW4iLCJ0ZXN0IiwibWFpblN0ZXAiLCJpIiwiZm9yd2FyZCIsInJlbW92ZSIsImFkZCIsIm5hdlN0ZXAiLCJ0ZXh0Q29udGVudCIsInN0eWxlIiwiYmFja2dyb3VuZENvbG9yIiwiaWZDb3JyZWN0MSIsImlmQ29ycmVjdDIiLCJpZkNvcnJlY3QzIiwiYWN0aXZhdGVTdGVwIiwiYWxlcnQiLCJ3aXBlb3V0IiwicGVyaW9kIiwiY2hlY2tib3giLCJzdGVwUHJldiIsImFkZEFjdGl2ZSIsImlucHV0IiwiY2hlY2tlZCIsIndyb25nSW5wdXRzIiwiYWRkb24xIiwiYWRkb24yIiwiYWRkb24zIiwidmFsdWUiLCJlIiwicmVtb3ZlQWN0aXZlIiwiaW5wdXRQbGFuIiwicGxhbk5hbWUiLCJ0YXJnZXQiLCJjbG9zZXN0IiwiY29uc29sZSIsInRvZ2dsZSIsImRpc3BsYXkiLCJhZGRvblByaWNlc01vIiwibG9nIiwidW5kZWZpbmVkIiwic3VtVXAiLCJwbGFuUHJpY2UiLCJwZXJpb2RTaG9ydGN1dCIsImFkZG9uUHJpY2VzIiwic2VsZWN0ZWRQbGFuIiwicGxhblByaWNlcyIsImFkZG9ucyIsInRvdGFsQ29zdCIsInNsaWNlIiwiTnVtYmVyIl0sIm1hcHBpbmdzIjoiYUFBQSxJQUdJQSxTQUVBQyxVQUNBQyxRQUNBQyxRQU1BQyxZQUNBQyxjQUNBQyxrQkFDQUMsWUFDQUMsWUFDQUMsZ0JBQ0FDLGFBRUVDLFdBckJGQyxhQUFlLENBQUMsUUFBUyxTQUFVLFVBQ25DQyxhQUFlLENBQUMsU0FBVSxVQUFXLFdBRHJDRCxjQUFnQixDQUFBLFFBQVMsUUFBVSxTQUNuQ0MsY0FBZ0IsQ0FBQSxTQUFVLFNBQVcsVUFTckNDLFdBQWEsR0FhaEJDLEtBQUFBLFdBQ0FDLG1CQUFBLEVBRURELGlCQUFNQyxDQUZOLEVBV0NiLG1CQUFtQmMsV0FSbkJoQixTQVNVaUIsU0FBU0QsaUJBQWMsa0JBQWEsRUFSOUNmLFVBVVcsQ0FDWEUsU0FBQUEsY0FBZ0JjLGNBQVNDLEVBQ3pCZCxTQUFBQSxjQUFvQmEsY0FBU0QsRUFFN0JYLFNBQUFBLGNBQXVCYSxjQUFBQSxFQUN2QlosU0FBQUEsY0FBdUJVLGNBQWMsRUFFckNULFNBQUFBLGNBQWtCVSxjQUFTQyxHQVYzQmhCLFFBYUFPLFNBQWFRLGNBQVNELFlBQWMsRUFDcENHLFFBQUFGLFNBQUFELGNBQUEsWUFBQSxFQVhBSSxZQWNBSCxTQUFBQyxpQkFBQSxlQUFBLEVBYkFmLGNBY1FrQixTQUFnQkgsaUJBQVVJLHFCQUFTLEVBYjNDbEIsa0JBY1FpQixTQUFpQkwsY0FBaUIsd0JBQUMsRUFaM0NYLFlBYWdDWSxTQUFDSSxpQkFBd0IscUJBQWEsRUFadEVmLFlBWXVFVyxTQUFBRCxjQUFBLHdCQUFBLEVBVnZFVCxnQkFZZ0JnQixTQUFRTCxpQkFBSyxlQUFBLEVBVjdCVixhQVU4RVMsU0FBQUQsY0FBQSxrQkFBQSxFQVQ5RVAsV0FVWVEsU0FBQ0QsY0FBYyxnQkFB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S0FBSyxFQUFFeUIsWUFBYyxjQUFnQjVCLFdBQVdxQyxPQUFPK0IsTUFBTSxFQUFHLENBQUMsQ0FBQyxFQUFJLElBQy9GeEUsV0FBV08sY0FBYyxjQUFjLEVBQUV5QixZQUFjLElBQU11QyxFQUFZLElBQU1MLENBQ2hGLEVBRU0xQyxXQUFhLFdBQ2xCYyxhQUFhLENBQUMsQ0FDZixFQUVBOUIsU0FBU0ksaUJBQWlCLG1CQUFvQixXQUM3Q1gsS0FBSyxFQUNMd0IsS0FBSyxFQUNMVixZQUFZLEVBQ1p5QixRQUFRLENBQ1QsQ0FBQyIsImZpbGUiOiJzdGVwLW5hdi5taW5pLmpzIiwic291cmNlc0NvbnRlbnQiOlsibGV0IHBsYW5QcmljZXNNbyA9IFsnJDkvbW8nLCAnJDEyL21vJywgJyQxNS9tbyddXHJcbmxldCBwbGFuUHJpY2VzWXIgPSBbJyQ5MC95cicsICckMTIwL3lyJywgJyQxNTAveXInXVxyXG5sZXQgYWRkb25QcmljZXNNbyA9IFsnJDEvbW8nLCAnJDIvbW8nLCAnJDIvbW8nXVxyXG5sZXQgYWRkb25QcmljZXNZciA9IFsnJDEwL3lyJywgJyQyMC95cicsICckMjAveXInXVxyXG5cclxubGV0IG5hdlN0ZXBzXHJcbmxldCBtYWluU3RlcHNcclxubGV0IHByZXZCdG5cclxubGV0IG5leHRCdG5cclxuXHJcbmxldCBzZWxlY3Rpb25zID0ge31cclxuXHJcbmxldCBzdGVwMUlucHV0c1xyXG5sZXQgc3RlcDFXYXJuaW5nc1xyXG5sZXQgc3RlcDFFbWFpbFdhcm5pbmdcclxubGV0IHN0ZXAySW5wdXRzXHJcbmxldCBzdGVwMlN3aXRjaFxyXG5sZXQgc3RlcDNDaGVja2JveGVzXHJcbmxldCBzdGVwNFN1bW1hcnlcclxubGV0IHN0ZXA0VG90YWxcclxuXHJcbmNvbnN0IG1haW4gPSAoKSA9PiB7XHJcblx0cHJlcGFyZURPTUVsZW1lbnRzKClcclxuXHRwcmVwYXJlRE9NRXZlbnRzKClcclxufVxyXG5cclxuY29uc3QgcHJlcGFyZURPTUVsZW1lbnRzID0gKCkgPT4ge1xyXG5cdG5hdlN0ZXBzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnbmF2IC5zdGVwIGJ1dHRvbicpXHJcblx0bWFpblN0ZXBzID0gW1xyXG5cdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWFpbiAuc3RlcC0xJyksXHJcblx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtYWluIC5zdGVwLTInKSxcclxuXHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21haW4gLnN0ZXAtMycpLFxyXG5cdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWFpbiAuc3RlcC00JyksXHJcblx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtYWluIC5zdGVwLTUnKSxcclxuXHRdXHJcblx0cHJldkJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcmV2LXN0ZXAnKVxyXG5cdG5leHRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmV4dC1zdGVwJylcclxuXHJcblx0c3RlcDFJbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3RlcC0xIGlucHV0JylcclxuXHRzdGVwMVdhcm5pbmdzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnN0ZXAtMSBkaXYud2FybmluZycpXHJcblx0c3RlcDFFbWFpbFdhcm5pbmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3RlcC0xIC53YXJuaW5nLWVtYWlsJylcclxuXHJcblx0c3RlcDJJbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3RlcC0yIC5pbnB1dC1wbGFuJylcclxuXHRzdGVwMlN3aXRjaCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zdGVwLTIgLnBlcmlvZC1zd2l0Y2gnKVxyXG5cclxuXHRzdGVwM0NoZWNrYm94ZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3RlcC0zIGlucHV0JylcclxuXHJcblx0c3RlcDRTdW1tYXJ5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN0ZXAtNCAuc3VtbWFyeScpXHJcblx0c3RlcDRUb3RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zdGVwLTQgLnRvdGFsJylcclxufVxyXG5cclxuY29uc3QgcHJlcGFyZURPTUV2ZW50cyA9ICgpID0+IHtcclxuXHQvLyBuYXZTdGVwcy5mb3JFYWNoKHN0ZXAgPT4gc3RlcC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG5hdlN0ZXBTZWxlY3QpKVxyXG5cdG5leHRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzdGVwTmV4dClcclxuXHRwcmV2QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc3RlcFByZXYpXHJcblx0c3RlcDJJbnB1dHMuZm9yRWFjaChwbGFuID0+IHBsYW4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBwbGFuU2VsZWN0KSlcclxuXHRzdGVwMlN3aXRjaC5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcGVyaW9kU2VsZWN0KVxyXG5cdHN0ZXAzQ2hlY2tib3hlcy5mb3JFYWNoKGFkZG9uID0+IGFkZG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYWRkT25TZWxlY3QpKVxyXG5cdHN0ZXA0U3VtbWFyeS5xdWVyeVNlbGVjdG9yKCcuY2hhbmdlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjaGFuZ2VQbGFuKVxyXG59XHJcblxyXG5jb25zdCB0ZXN0ID0gKCkgPT4ge31cclxuXHJcbi8vU1RFUCBOQVZJR0FUSU9OIGFuZCBTVEFSVCBGVU5DU1xyXG5cclxuY29uc3QgY3VycmVudFN0ZXAgPSAoKSA9PiB7XHJcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBtYWluU3RlcHMubGVuZ3RoOyBpKyspIHtcclxuXHRcdGlmIChtYWluU3RlcHNbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdpbm5hY3RpdmUnKSkge1xyXG5cdFx0fSBlbHNlIHJldHVybiBpXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBhY3RpdmF0ZVN0ZXAgPSBmb3J3YXJkID0+IHtcclxuXHRtYWluU3RlcHMuZm9yRWFjaChtYWluU3RlcCA9PiBtYWluU3RlcC5jbGFzc0xpc3QuYWRkKCdpbm5hY3RpdmUnKSlcclxuXHRtYWluU3RlcHNbZm9yd2FyZF0uY2xhc3NMaXN0LnJlbW92ZSgnaW5uYWN0aXZlJylcclxuXHJcblx0bmF2U3RlcHMuZm9yRWFjaChuYXZTdGVwID0+IG5hdlN0ZXAuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJykpXHJcblx0aWYgKGZvcndhcmQgPT0gNCkge1xyXG5cdFx0bmF2U3RlcHNbM10uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuXHR9IGVsc2Uge1xyXG5cdFx0bmF2U3RlcHNbZm9yd2FyZF0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuXHR9XHJcblxyXG5cdGlmIChmb3J3YXJkICE9IDApIHtcclxuXHRcdHByZXZCdG4uY2xhc3NMaXN0LnJlbW92ZSgnYmxhbmsnKVxyXG5cdH0gZWxzZSB7XHJcblx0XHRwcmV2QnRuLmNsYXNzTGlzdC5hZGQoJ2JsYW5rJylcclxuXHR9XHJcblxyXG5cdGlmIChmb3J3YXJkID09IDMpIHtcclxuXHRcdG5leHRCdG4udGV4dENvbnRlbnQgPSAnQ29uZmlybSdcclxuXHRcdG5leHRCdG4uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ2hzbCgyNDMsIDEwMCUsIDYyJSknXHJcblx0fSBlbHNlIHtcclxuXHRcdG5leHRCdG4udGV4dENvbnRlbnQgPSAnTmV4dCBzdGVwJ1xyXG5cdFx0bmV4dEJ0bi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnaHNsKDIxMywgOTYlLCAxOCUpJ1xyXG5cdH1cclxuXHJcblx0aWYgKGZvcndhcmQgPT0gNCkge1xyXG5cdFx0cHJldkJ0bi5jbGFzc0xpc3QuYWRkKCdibGFuaycpXHJcblx0XHRuZXh0QnRuLmNsYXNzTGlzdC5hZGQoJ2JsYW5rJylcclxuXHR9IGVsc2Uge1xyXG5cdFx0cHJldkJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdibGFuaycpXHJcblx0XHRuZXh0QnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2JsYW5rJylcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IHN0ZXBOZXh0ID0gKCkgPT4ge1xyXG5cdGlmIChpZkNvcnJlY3QxKCkgPT0gZmFsc2UgJiYgY3VycmVudFN0ZXAoKSA9PSAwKSB7XHJcblx0fSBlbHNlIHtcclxuXHRcdGlmIChpZkNvcnJlY3QyKCkgPT0gZmFsc2UgJiYgY3VycmVudFN0ZXAoKSA9PSAxKSB7XHJcblx0XHRcdGFsZXJ0KCdQbGVhc2UgY2hvb3NlIHlvdXIgcGxhbiBiZWZvcmUgcHJvY2VlZGluZy4nKVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0aWYgKGlmQ29ycmVjdDMoKSA9PSBmYWxzZSAmJiBjdXJyZW50U3RlcCgpID09IDIpIHtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRhY3RpdmF0ZVN0ZXAoY3VycmVudFN0ZXAoKSArIDEpXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn1cclxuY29uc3Qgc3RlcFByZXYgPSAoKSA9PiB7XHJcblx0aWYgKGN1cnJlbnRTdGVwKCkgPiAwKSB7XHJcblx0XHRhY3RpdmF0ZVN0ZXAoY3VycmVudFN0ZXAoKSAtIDEpXHJcblx0fVxyXG59XHJcblxyXG4vLyBDT01NT05cclxuY29uc3Qgd2lwZW91dCA9ICgpID0+IHtcclxuXHRzdGVwMlN3aXRjaC5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpLmNoZWNrZWQgPSBmYWxzZVxyXG5cdHNlbGVjdGlvbnMucGVyaW9kID0gJ01vbnRobHknXHJcblx0c3RlcDNDaGVja2JveGVzLmZvckVhY2goY2hlY2tib3ggPT4gKGNoZWNrYm94LmNoZWNrZWQgPSBmYWxzZSkpXHJcblx0ZGVsZXRlIHNlbGVjdGlvbnMuYWRkb24xXHJcblx0ZGVsZXRlIHNlbGVjdGlvbnMuYWRkb24yXHJcblx0ZGVsZXRlIHNlbGVjdGlvbnMuYWRkb24zXHJcbn1cclxuY29uc3QgYWRkQWN0aXZlID0gaW5wdXQgPT4ge1xyXG5cdGlucHV0LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbn1cclxuY29uc3QgcmVtb3ZlQWN0aXZlID0gaW5wdXQgPT4ge1xyXG5cdGlucHV0LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcbn1cclxuXHJcbi8vIDEgU1RFUFxyXG5cclxuY29uc3QgaWZDb3JyZWN0MSA9ICgpID0+IHtcclxuXHRsZXQgd3JvbmdJbnB1dHMgPSAwXHJcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBzdGVwMUlucHV0cy5sZW5ndGg7IGkrKykge1xyXG5cdFx0aWYgKHN0ZXAxSW5wdXRzW2ldLnZhbHVlLnRyaW0oKS5sZW5ndGggPT0gMCkge1xyXG5cdFx0XHRzdGVwMVdhcm5pbmdzW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2lubmFjdGl2ZScpXHJcblx0XHRcdHN0ZXAxSW5wdXRzW2ldLmNsYXNzTGlzdC5hZGQoJ3dhcm5pbmcnKVxyXG5cdFx0XHR3cm9uZ0lucHV0cysrXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRzdGVwMVdhcm5pbmdzW2ldLmNsYXNzTGlzdC5hZGQoJ2lubmFjdGl2ZScpXHJcblx0XHRcdHN0ZXAxSW5wdXRzW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ3dhcm5pbmcnKVxyXG5cdFx0fVxyXG5cdH1cclxuXHRpZiAoc3RlcDFJbnB1dHNbMV0udmFsdWUuaW5kZXhPZignQCcpID09IC0xICYmIHN0ZXAxV2FybmluZ3NbMV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdpbm5hY3RpdmUnKSkge1xyXG5cdFx0c3RlcDFFbWFpbFdhcm5pbmcuY2xhc3NMaXN0LnJlbW92ZSgnaW5uYWN0aXZlJylcclxuXHRcdHN0ZXAxSW5wdXRzWzFdLmNsYXNzTGlzdC5hZGQoJ3dhcm5pbmcnKVxyXG5cdFx0d3JvbmdJbnB1dHMrK1xyXG5cdH0gZWxzZSB7XHJcblx0XHRzdGVwMUVtYWlsV2FybmluZy5jbGFzc0xpc3QuYWRkKCdpbm5hY3RpdmUnKVxyXG5cdH1cclxuXHRpZiAod3JvbmdJbnB1dHMgPT0gMCkge1xyXG5cdFx0cmV0dXJuIHRydWVcclxuXHR9IGVsc2UgcmV0dXJuIGZhbHNlXHJcbn1cclxuXHJcbi8vIDIgU1RFUFxyXG5cclxuY29uc3QgcGxhblNlbGVjdCA9IGUgPT4ge1xyXG5cdHN0ZXAySW5wdXRzLmZvckVhY2goaW5wdXQgPT4gcmVtb3ZlQWN0aXZlKGlucHV0KSlcclxuXHRsZXQgaW5wdXRQbGFuID0gZS50YXJnZXQuY2xvc2VzdCgnLmlucHV0LXBsYW4nKVxyXG5cdGFkZEFjdGl2ZShpbnB1dFBsYW4pXHJcblx0bGV0IHBsYW5OYW1lID0gaW5wdXRQbGFuLnF1ZXJ5U2VsZWN0b3IoJ2gyJykudGV4dENvbnRlbnRcclxuXHRzZWxlY3Rpb25zLnBsYW4gPSBwbGFuTmFtZVxyXG5cdGNvbnNvbGUubG9nKHNlbGVjdGlvbnMpXHJcbn1cclxuXHJcbmNvbnN0IHBlcmlvZFNlbGVjdCA9ICgpID0+IHtcclxuXHRpZiAoc3RlcDJTd2l0Y2gucXVlcnlTZWxlY3RvcignaW5wdXQnKS5jaGVja2VkKSB7XHJcblx0XHRzZWxlY3Rpb25zLnBlcmlvZCA9ICdZZWFybHknXHJcblx0XHRzdGVwMlN3aXRjaC5xdWVyeVNlbGVjdG9yQWxsKCdkaXYnKVsyXS5jbGFzc0xpc3QudG9nZ2xlKCdzZWxlY3RlZCcpXHJcblx0XHRzdGVwMlN3aXRjaC5xdWVyeVNlbGVjdG9yQWxsKCdkaXYnKVswXS5jbGFzc0xpc3QudG9nZ2xlKCdzZWxlY3RlZCcpXHJcblxyXG5cdFx0Ly8gc3RlcDJJbnB1dHNbMF0ucXVlcnlTZWxlY3RvckFsbCgnZGl2IHAnKVswXS50ZXh0Q29udGVudCA9ICckOTAveXInXHJcblx0XHRzdGVwMklucHV0c1swXS5xdWVyeVNlbGVjdG9yQWxsKCdkaXYgcCcpWzBdLnRleHRDb250ZW50ID0gcGxhblByaWNlc1lyWzBdXHJcblx0XHRzdGVwMklucHV0c1sxXS5xdWVyeVNlbGVjdG9yQWxsKCdkaXYgcCcpWzBdLnRleHRDb250ZW50ID0gcGxhblByaWNlc1lyWzFdXHJcblx0XHRzdGVwMklucHV0c1syXS5xdWVyeVNlbGVjdG9yQWxsKCdkaXYgcCcpWzBdLnRleHRDb250ZW50ID0gcGxhblByaWNlc1lyWzJdXHJcblxyXG5cdFx0c3RlcDJJbnB1dHMuZm9yRWFjaChpbnB1dCA9PiAoaW5wdXQucXVlcnlTZWxlY3RvcignLmJvbnVzJykuc3R5bGUuZGlzcGxheSA9ICdmbGV4JykpXHJcblxyXG5cdFx0c3RlcDNDaGVja2JveGVzWzBdLmNsb3Nlc3QoJy5pbnB1dC1hZGRvbicpLnF1ZXJ5U2VsZWN0b3IoJy5wcmljZScpLnRleHRDb250ZW50ID0gJysgJyArIGFkZG9uUHJpY2VzWXJbMF1cclxuXHRcdHN0ZXAzQ2hlY2tib3hlc1sxXS5jbG9zZXN0KCcuaW5wdXQtYWRkb24nKS5xdWVyeVNlbGVjdG9yKCcucHJpY2UnKS50ZXh0Q29udGVudCA9ICcrICcgKyBhZGRvblByaWNlc1lyWzFdXHJcblx0XHRzdGVwM0NoZWNrYm94ZXNbMl0uY2xvc2VzdCgnLmlucHV0LWFkZG9uJykucXVlcnlTZWxlY3RvcignLnByaWNlJykudGV4dENvbnRlbnQgPSAnKyAnICsgYWRkb25QcmljZXNZclsyXVxyXG5cdH0gZWxzZSB7XHJcblx0XHRzZWxlY3Rpb25zLnBlcmlvZCA9ICdNb250aGx5J1xyXG5cdFx0c3RlcDJTd2l0Y2gucXVlcnlTZWxlY3RvckFsbCgnZGl2JylbMl0uY2xhc3NMaXN0LnRvZ2dsZSgnc2VsZWN0ZWQnKVxyXG5cdFx0c3RlcDJTd2l0Y2gucXVlcnlTZWxlY3RvckFsbCgnZGl2JylbMF0uY2xhc3NMaXN0LnRvZ2dsZSgnc2VsZWN0ZWQnKVxyXG5cclxuXHRcdHN0ZXAySW5wdXRzWzBdLnF1ZXJ5U2VsZWN0b3JBbGwoJ2RpdiBwJylbMF0udGV4dENvbnRlbnQgPSBwbGFuUHJpY2VzTW9bMF1cclxuXHRcdHN0ZXAySW5wdXRzWzFdLnF1ZXJ5U2VsZWN0b3JBbGwoJ2RpdiBwJylbMF0udGV4dENvbnRlbnQgPSBwbGFuUHJpY2VzTW9bMV1cclxuXHRcdHN0ZXAySW5wdXRzWzJdLnF1ZXJ5U2VsZWN0b3JBbGwoJ2RpdiBwJylbMF0udGV4dENvbnRlbnQgPSBwbGFuUHJpY2VzTW9bMl1cclxuXHJcblx0XHRzdGVwMklucHV0cy5mb3JFYWNoKGlucHV0ID0+IChpbnB1dC5xdWVyeVNlbGVjdG9yKCcuYm9udXMnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnKSlcclxuXHJcblx0XHRzdGVwM0NoZWNrYm94ZXNbMF0uY2xvc2VzdCgnLmlucHV0LWFkZG9uJykucXVlcnlTZWxlY3RvcignLnByaWNlJykudGV4dENvbnRlbnQgPSAnKyAnICsgYWRkb25QcmljZXNNb1swXVxyXG5cdFx0c3RlcDNDaGVja2JveGVzWzFdLmNsb3Nlc3QoJy5pbnB1dC1hZGRvbicpLnF1ZXJ5U2VsZWN0b3IoJy5wcmljZScpLnRleHRDb250ZW50ID0gJysgJyArIGFkZG9uUHJpY2VzTW9bMV1cclxuXHRcdHN0ZXAzQ2hlY2tib3hlc1syXS5jbG9zZXN0KCcuaW5wdXQtYWRkb24nKS5xdWVyeVNlbGVjdG9yKCcucHJpY2UnKS50ZXh0Q29udGVudCA9ICcrICcgKyBhZGRvblByaWNlc01vWzJdXHJcblx0fVxyXG5cdGNvbnNvbGUubG9nKHNlbGVjdGlvbnMpXHJcbn1cclxuXHJcbmNvbnN0IGlmQ29ycmVjdDIgPSAoKSA9PiB7XHJcblx0aWYgKHNlbGVjdGlvbnMucGxhbiA9PT0gdW5kZWZpbmVkIHx8IHNlbGVjdGlvbnMucGVyaW9kID09PSB1bmRlZmluZWQpIHtcclxuXHRcdHJldHVybiBmYWxzZVxyXG5cdH0gZWxzZSB7XHJcblx0XHRzdW1VcCgpXHJcblx0XHRyZXR1cm4gdHJ1ZVxyXG5cdH1cclxufVxyXG5cclxuLy8gMyBTVEVQXHJcblxyXG5jb25zdCBhZGRPblNlbGVjdCA9IGUgPT4ge1xyXG5cdC8vIGNvbnNvbGUubG9nKGUudGFyZ2V0KTtcclxuXHJcblx0aWYgKHN0ZXAzQ2hlY2tib3hlc1swXS5jaGVja2VkID09IHRydWUpIHtcclxuXHRcdHNlbGVjdGlvbnMuYWRkb24xID0gJ09ubGluZSBzZXJ2aWNlcydcclxuXHRcdHN0ZXAzQ2hlY2tib3hlc1swXS5jbG9zZXN0KCcuaW5wdXQtYWRkb24nKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxyXG5cdH0gZWxzZSB7XHJcblx0XHRkZWxldGUgc2VsZWN0aW9ucy5hZGRvbjFcclxuXHRcdHN0ZXAzQ2hlY2tib3hlc1swXS5jbG9zZXN0KCcuaW5wdXQtYWRkb24nKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG5cdH1cclxuXHRpZiAoc3RlcDNDaGVja2JveGVzWzFdLmNoZWNrZWQgPT0gdHJ1ZSkge1xyXG5cdFx0c2VsZWN0aW9ucy5hZGRvbjIgPSAnTGFyZ2VyIHN0b3JhZ2UnXHJcblx0XHRzdGVwM0NoZWNrYm94ZXNbMV0uY2xvc2VzdCgnLmlucHV0LWFkZG9uJykuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuXHR9IGVsc2Uge1xyXG5cdFx0ZGVsZXRlIHNlbGVjdGlvbnMuYWRkb24yXHJcblx0XHRzdGVwM0NoZWNrYm94ZXNbMV0uY2xvc2VzdCgnLmlucHV0LWFkZG9uJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuXHR9XHJcblx0aWYgKHN0ZXAzQ2hlY2tib3hlc1syXS5jaGVja2VkID09IHRydWUpIHtcclxuXHRcdHNlbGVjdGlvbnMuYWRkb24zID0gJ0N1c3RvbWl6YWJsZSBwcm9maWxlJ1xyXG5cdFx0c3RlcDNDaGVja2JveGVzWzJdLmNsb3Nlc3QoJy5pbnB1dC1hZGRvbicpLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcblx0fSBlbHNlIHtcclxuXHRcdGRlbGV0ZSBzZWxlY3Rpb25zLmFkZG9uM1xyXG5cdFx0c3RlcDNDaGVja2JveGVzWzJdLmNsb3Nlc3QoJy5pbnB1dC1hZGRvbicpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcblx0fVxyXG5cdGNvbnNvbGUubG9nKHNlbGVjdGlvbnMpXHJcbn1cclxuXHJcbmNvbnN0IGlmQ29ycmVjdDMgPSAoKSA9PiB7XHJcblx0cmV0dXJuIHRydWVcclxufVxyXG4vLyA0IFNURVBcclxuXHJcbmNvbnN0IHN1bVVwID0gKCkgPT4ge1xyXG5cdGxldCBwbGFuUHJpY2VzXHJcblx0bGV0IHBsYW5QcmljZVxyXG5cdGxldCBhZGRvblByaWNlc1xyXG5cdGxldCBwZXJpb2RTaG9ydGN1dFxyXG5cdGlmIChzZWxlY3Rpb25zLnBlcmlvZCA9PSAnWWVhcmx5Jykge1xyXG5cdFx0cGxhblByaWNlcyA9IHBsYW5QcmljZXNZclxyXG5cdFx0YWRkb25QcmljZXMgPSBhZGRvblByaWNlc1lyXHJcblx0XHRwZXJpb2RTaG9ydGN1dCA9ICd5cidcclxuXHR9IGVsc2Uge1xyXG5cdFx0cGxhblByaWNlcyA9IHBsYW5QcmljZXNNb1xyXG5cdFx0YWRkb25QcmljZXMgPSBhZGRvblByaWNlc01vXHJcblx0XHRwZXJpb2RTaG9ydGN1dCA9ICdtbydcclxuXHR9XHJcblx0aWYgKHNlbGVjdGlvbnMucGxhbiA9PT0gJ0FyY2FkZScpIHtcclxuXHRcdHBsYW5QcmljZSA9IHBsYW5QcmljZXNbMF1cclxuXHR9XHJcblx0aWYgKHNlbGVjdGlvbnMucGxhbiA9PT0gJ0FkdmFuY2VkJykge1xyXG5cdFx0cGxhblByaWNlID0gcGxhblByaWNlc1sxXVxyXG5cdH1cclxuXHRpZiAoc2VsZWN0aW9ucy5wbGFuID09PSAnUHJvJykge1xyXG5cdFx0cGxhblByaWNlID0gcGxhblByaWNlc1syXVxyXG5cdH1cclxuXHRsZXQgc2VsZWN0ZWRQbGFuID0gc3RlcDRTdW1tYXJ5LnF1ZXJ5U2VsZWN0b3IoJ2gyJylcclxuXHRzZWxlY3RlZFBsYW4udGV4dENvbnRlbnQgPSBzZWxlY3Rpb25zLnBsYW4gKyAnICgnICsgc2VsZWN0aW9ucy5wZXJpb2QgKyAnKSdcclxuXHRzdGVwNFN1bW1hcnkucXVlcnlTZWxlY3RvcignLnBsYW4tcHJpY2UnKS50ZXh0Q29udGVudCA9IHBsYW5QcmljZVxyXG5cdGxldCB0b3RhbENvc3QgPSBOdW1iZXIocGxhblByaWNlLnNsaWNlKDEsIC0zKSlcclxuXHJcblx0bGV0IGFkZG9uMSA9IHN0ZXA0U3VtbWFyeS5xdWVyeVNlbGVjdG9yKCcuYWRkb24xJylcclxuXHRsZXQgYWRkb24yID0gc3RlcDRTdW1tYXJ5LnF1ZXJ5U2VsZWN0b3IoJy5hZGRvbjInKVxyXG5cdGxldCBhZGRvbjMgPSBzdGVwNFN1bW1hcnkucXVlcnlTZWxlY3RvcignLmFkZG9uMycpXHJcblx0bGV0IGFkZG9ucyA9IFthZGRvbjEsIGFkZG9uMiwgYWRkb24zXVxyXG5cdGFkZG9ucy5mb3JFYWNoKGFkZG9uID0+IGFkZG9uLmNsYXNzTGlzdC5hZGQoJ2lubmFjdGl2ZScpKVxyXG5cclxuXHRpZiAoc2VsZWN0aW9ucy5hZGRvbjEgIT0gdW5kZWZpbmVkKSB7XHJcblx0XHRhZGRvbjEuY2xhc3NMaXN0LnJlbW92ZSgnaW5uYWN0aXZlJylcclxuXHRcdGFkZG9uMS5xdWVyeVNlbGVjdG9yKCcuYWRkb24tcHJpY2UnKS50ZXh0Q29udGVudCA9ICcrJyArIGFkZG9uUHJpY2VzWzBdXHJcblx0XHR0b3RhbENvc3QgPSB0b3RhbENvc3QgKyBOdW1iZXIoYWRkb25QcmljZXNbMF0uc2xpY2UoMSwgLTMpKVxyXG5cdH1cclxuXHRpZiAoc2VsZWN0aW9ucy5hZGRvbjIgIT0gdW5kZWZpbmVkKSB7XHJcblx0XHRhZGRvbjIuY2xhc3NMaXN0LnJlbW92ZSgnaW5uYWN0aXZlJylcclxuXHRcdGFkZG9uMi5xdWVyeVNlbGVjdG9yKCcuYWRkb24tcHJpY2UnKS50ZXh0Q29udGVudCA9ICcrJyArIGFkZG9uUHJpY2VzWzFdXHJcblx0XHR0b3RhbENvc3QgPSB0b3RhbENvc3QgKyBOdW1iZXIoYWRkb25QcmljZXNbMV0uc2xpY2UoMSwgLTMpKVxyXG5cdH1cclxuXHRpZiAoc2VsZWN0aW9ucy5hZGRvbjMgIT0gdW5kZWZpbmVkKSB7XHJcblx0XHRhZGRvbjMuY2xhc3NMaXN0LnJlbW92ZSgnaW5uYWN0aXZlJylcclxuXHRcdGFkZG9uMy5xdWVyeVNlbGVjdG9yKCcuYWRkb24tcHJpY2UnKS50ZXh0Q29udGVudCA9ICcrJyArIGFkZG9uUHJpY2VzWzJdXHJcblx0XHR0b3RhbENvc3QgPSB0b3RhbENvc3QgKyBOdW1iZXIoYWRkb25QcmljZXNbMl0uc2xpY2UoMSwgLTMpKVxyXG5cdH1cclxuXHJcblx0c3RlcDRUb3RhbC5xdWVyeVNlbGVjdG9yKCdkaXYnKS50ZXh0Q29udGVudCA9ICdUb3RhbCAocGVyICcgKyBzZWxlY3Rpb25zLnBlcmlvZC5zbGljZSgwLCAtMikgKyAnKSdcclxuXHRzdGVwNFRvdGFsLnF1ZXJ5U2VsZWN0b3IoJy50b3RhbC1wcmljZScpLnRleHRDb250ZW50ID0gJyQnICsgdG90YWxDb3N0ICsgJy8nICsgcGVyaW9kU2hvcnRjdXRcclxufVxyXG5cclxuY29uc3QgY2hhbmdlUGxhbiA9ICgpID0+IHtcclxuXHRhY3RpdmF0ZVN0ZXAoMSlcclxufVxyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcclxuXHRtYWluKClcclxuXHR0ZXN0KClcclxuXHRjdXJyZW50U3RlcCgpXHJcblx0d2lwZW91dCgpXHJcbn0pXHJcbiJdfQ==

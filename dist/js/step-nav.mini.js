"use strict";var navSteps,mainSteps,prevBtn,nextBtn,step1Inputs,step1Warnings,step2Inputs,step2Switch,step3Checkboxes,step4Summary,step4Total,planPricesMo=["$9/mo","$12/mo","$15/mo"],planPricesYr=["$90/yr","$120/yr","$150/yr"],addonPricesMo=["$1/mo","$2/mo","$2/mo"],addonPricesYr=["$10/yr","$20/yr","$20/yr"],selections={},main=function(){prepareDOMElements(),prepareDOMEvents()},prepareDOMElements=function(){navSteps=document.querySelectorAll("nav .step button"),mainSteps=[document.querySelector("main .step-1"),document.querySelector("main .step-2"),document.querySelector("main .step-3"),document.querySelector("main .step-4"),document.querySelector("main .step-5")],prevBtn=document.querySelector(".prev-step"),nextBtn=document.querySelector(".next-step"),step1Inputs=document.querySelectorAll(".step-1 input"),step1Warnings=document.querySelectorAll(".step-1 div.warning"),step2Inputs=document.querySelectorAll(".step-2 .input-plan"),step2Switch=document.querySelector(".step-2 .period-switch"),step3Checkboxes=document.querySelectorAll(".step-3 input"),step4Summary=document.querySelector(".step-4 .summary"),step4Total=document.querySelector(".step-4 .total")},prepareDOMEvents=function(){nextBtn.addEventListener("click",stepNext),prevBtn.addEventListener("click",stepPrev),step2Inputs.forEach(function(e){return e.addEventListener("click",planSelect)}),step2Switch.querySelector("input").addEventListener("click",periodSelect),step3Checkboxes.forEach(function(e){return e.addEventListener("click",addOnSelect)}),step4Summary.querySelector(".change").addEventListener("click",changePlan)},test=function(){},currentStep=function(){for(var e=0;e<mainSteps.length;e++)if(!mainSteps[e].classList.contains("innactive"))return e},activateStep=function(e){mainSteps.forEach(function(e){return e.classList.add("innactive")}),mainSteps[e].classList.remove("innactive"),navSteps.forEach(function(e){return e.classList.remove("active")}),(4==e?navSteps[3]:navSteps[e]).classList.add("active"),0!=e?prevBtn.classList.remove("blank"):prevBtn.classList.add("blank"),3==e?(nextBtn.textContent="Confirm",nextBtn.style.backgroundColor="hsl(243, 100%, 62%)"):(nextBtn.textContent="Next step",nextBtn.style.backgroundColor="hsl(213, 96%, 18%)"),4==e?(prevBtn.classList.add("blank"),nextBtn.classList.add("blank")):(prevBtn.classList.remove("blank"),nextBtn.classList.remove("blank"))},stepNext=function(){0==ifCorrect1()&&0==currentStep()?console.log("warunek 1 niespelniony"):0==ifCorrect2()&&1==currentStep()?console.log("warunek 2 niespelniony"):0==ifCorrect3()&&2==currentStep()?console.log("warunek 3 niespelniony"):activateStep(currentStep()+1)},stepPrev=function(){0<currentStep()&&activateStep(currentStep()-1)},wipeout=function(){step2Switch.querySelector("input").checked=!1,selections.period="Monthly",step3Checkboxes.forEach(function(e){return e.checked=!1}),delete selections.addon1,delete selections.addon2,delete selections.addon3},addActive=function(e){e.classList.add("active")},removeActive=function(e){e.classList.remove("active")},ifCorrect1=function(){for(var e=0,t=0;t<step1Inputs.length;t++)0==step1Inputs[t].value.trim().length?(step1Warnings[t].classList.remove("innactive"),step1Inputs[t].classList.add("warning"),e++):(step1Warnings[t].classList.add("innactive"),step1Inputs[t].classList.remove("warning"));return 0==e},planSelect=function(e){step2Inputs.forEach(function(e){return removeActive(e)});e=e.target.closest(".input-plan"),addActive(e),e=e.querySelector("h2").textContent;selections.plan=e,console.log(selections)},periodSelect=function(){step2Switch.querySelector("input").checked?(selections.period="Yearly",step2Switch.querySelectorAll("div")[2].classList.toggle("selected"),step2Switch.querySelectorAll("div")[0].classList.toggle("selected"),step2Inputs[0].querySelectorAll("div p")[0].textContent=planPricesYr[0],step2Inputs[1].querySelectorAll("div p")[0].textContent=planPricesYr[1],step2Inputs[2].querySelectorAll("div p")[0].textContent=planPricesYr[2],step2Inputs.forEach(function(e){return e.querySelector(".bonus").style.display="flex"}),step3Checkboxes[0].closest(".input-addon").querySelector(".price").textContent="+ "+addonPricesYr[0],step3Checkboxes[1].closest(".input-addon").querySelector(".price").textContent="+ "+addonPricesYr[1],step3Checkboxes[2].closest(".input-addon").querySelector(".price").textContent="+ "+addonPricesYr[2]):(selections.period="Monthly",step2Switch.querySelectorAll("div")[2].classList.toggle("selected"),step2Switch.querySelectorAll("div")[0].classList.toggle("selected"),step2Inputs[0].querySelectorAll("div p")[0].textContent=planPricesMo[0],step2Inputs[1].querySelectorAll("div p")[0].textContent=planPricesMo[1],step2Inputs[2].querySelectorAll("div p")[0].textContent=planPricesMo[2],step2Inputs.forEach(function(e){return e.querySelector(".bonus").style.display="none"}),step3Checkboxes[0].closest(".input-addon").querySelector(".price").textContent="+ "+addonPricesMo[0],step3Checkboxes[1].closest(".input-addon").querySelector(".price").textContent="+ "+addonPricesMo[1],step3Checkboxes[2].closest(".input-addon").querySelector(".price").textContent="+ "+addonPricesMo[2]),console.log(selections)},ifCorrect2=function(){return void 0!==selections.plan&&void 0!==selections.period&&(sumUp(),!0)},addOnSelect=function(e){1==step3Checkboxes[0].checked?(selections.addon1="Online services",step3Checkboxes[0].closest(".input-addon").classList.add("active")):(delete selections.addon1,step3Checkboxes[0].closest(".input-addon").classList.remove("active")),1==step3Checkboxes[1].checked?(selections.addon2="Larger storage",step3Checkboxes[1].closest(".input-addon").classList.add("active")):(delete selections.addon2,step3Checkboxes[1].closest(".input-addon").classList.remove("active")),1==step3Checkboxes[2].checked?(selections.addon3="Customizable profile",step3Checkboxes[2].closest(".input-addon").classList.add("active")):(delete selections.addon3,step3Checkboxes[2].closest(".input-addon").classList.remove("active")),console.log(selections)},ifCorrect3=function(){return!0},sumUp=function(){var e,t="Yearly"==selections.period?(n=planPricesYr,e=addonPricesYr,"yr"):(n=planPricesMo,e=addonPricesMo,"mo");"Arcade"===selections.plan&&(s=n[0]),"Advanced"===selections.plan&&(s=n[1]),"Pro"===selections.plan&&(s=n[2]);step4Summary.querySelector("h2").textContent=selections.plan+" ("+selections.period+")",step4Summary.querySelector(".plan-price").textContent=s;var n=Number(s.slice(1,-3)),s=step4Summary.querySelector(".addon1"),o=step4Summary.querySelector(".addon2"),c=step4Summary.querySelector(".addon3");[s,o,c].forEach(function(e){return e.classList.add("innactive")}),null!=selections.addon1&&(s.classList.remove("innactive"),s.querySelector(".addon-price").textContent="+"+e[0],n+=Number(e[0].slice(1,-3))),null!=selections.addon2&&(o.classList.remove("innactive"),o.querySelector(".addon-price").textContent="+"+e[1],n+=Number(e[1].slice(1,-3))),null!=selections.addon3&&(c.classList.remove("innactive"),c.querySelector(".addon-price").textContent="+"+e[2],n+=Number(e[2].slice(1,-3))),step4Total.querySelector("div").textContent="Total (per "+selections.period.slice(0,-2)+")",step4Total.querySelector(".total-price").textContent="$"+n+"/"+t},changePlan=function(){activateStep(1)};document.addEventListener("DOMContentLoaded",function(){main(),test(),currentStep(),wipeout()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN0ZXAtbmF2LmpzIl0sIm5hbWVzIjpbImFkZG9uUHJpY2VzWXIiLCJuYXZTdGVwcyIsIm1haW5TdGVwcyIsInByZXZCdG4iLCJzdGVwMVdhcm5pbmdzIiwic3RlcDJJbnB1dHMiLCJzdGVwMlN3aXRjaCIsInN0ZXAzQ2hlY2tib3hlcyIsInN0ZXA0U3VtbWFyeSIsInN0ZXA0VG90YWwiLCJtYWluIiwicGxhblByaWNlc01vIiwicGxhblByaWNlc1lyIiwic2VsZWN0aW9ucyIsInByZXBhcmVET01FdmVudHMiLCJwcmVwYXJlRE9NRWxlbWVudHMiLCJxdWVyeVNlbGVjdG9yIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwibmV4dEJ0biIsInN0ZXAxSW5wdXRzIiwiYWRkRXZlbnRMaXN0ZW5lciIsInN0ZXBOZXh0Iiwic3RlcFByZXYiLCJmb3JFYWNoIiwiY3VycmVudFN0ZXAiLCJwbGFuIiwibGVuZ3RoIiwicGxhblNlbGVjdCIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwicGVyaW9kU2VsZWN0IiwiYWRkb24iLCJhZGRPblNlbGVjdCIsImNoYW5nZVBsYW4iLCJ0ZXN0IiwibWFpblN0ZXAiLCJpIiwiZm9yd2FyZCIsInJlbW92ZSIsImFkZCIsIm5hdlN0ZXAiLCJ0ZXh0Q29udGVudCIsInN0eWxlIiwiYmFja2dyb3VuZENvbG9yIiwiaWZDb3JyZWN0MSIsImNvbnNvbGUiLCJsb2ciLCJpZkNvcnJlY3QzIiwiYWN0aXZhdGVTdGVwIiwiaWZDb3JyZWN0MiIsIndpcGVvdXQiLCJwZXJpb2QiLCJhZGRvbjMiLCJpbnB1dCIsImNoZWNrZWQiLCJjaGVja2JveCIsImFkZG9uMSIsImFkZG9uMiIsIndyb25nSW5wdXRzIiwiYWRkQWN0aXZlIiwidmFsdWUiLCJ0cmltIiwicmVtb3ZlQWN0aXZlIiwiaW5wdXRQbGFuIiwicGxhbk5hbWUiLCJjbG9zZXN0IiwiYWRkb25QcmljZXNNbyIsInRvZ2dsZSIsInVuZGVmaW5lZCIsImRpc3BsYXkiLCJzdW1VcCIsImUiLCJhZGRvblByaWNlcyIsInBlcmlvZFNob3J0Y3V0IiwicGxhblByaWNlcyIsInNlbGVjdGVkUGxhbiIsIk51bWJlciIsInBsYW5QcmljZSIsImFkZG9ucyIsInRvdGFsQ29zdCIsInNsaWNlIl0sIm1hcHBpbmdzIjoiYUFBQSxJQUdJQSxTQUVBQyxVQUNBQyxRQUNBQyxRQU1BQyxZQUNBQyxjQUNBQyxZQUNBQyxZQUNBQyxnQkFDQUMsYUFFRUMsV0FwQkZDLGFBQWUsQ0FBQyxRQUFTLFNBQVUsVUFDbkNDLGFBQWUsQ0FBQyxTQUFVLFVBQVcsV0FEckNELGNBQWdCLENBQUEsUUFBUyxRQUFVLFNBQ25DQyxjQUFnQixDQUFBLFNBQVUsU0FBVyxVQVNyQ0MsV0FBYSxHQVloQkMsS0FBQUEsV0FDQUMsbUJBQUEsRUFFREQsaUJBQU1DLENBRk4sRUFXQ1osbUJBQW1CYSxXQVJuQmYsU0FTVWdCLFNBQVNELGlCQUFjLGtCQUFhLEVBUjlDZCxVQVVXLENBQ1hFLFNBQUFBLGNBQWdCYSxjQUFTQyxFQUV6QmIsU0FBQUEsY0FBdUJhLGNBQUFBLEVBQ3ZCWixTQUFBQSxjQUF1QlUsY0FBYyxFQUVyQ1QsU0FBQUEsY0FBa0JVLGNBQVNDLEVBRTNCVixTQUFBQSxjQUF1QixjQUFjLEdBRXJDTCxRQUFBYyxTQUFBRCxjQUFBLFlBQUEsRUFFREcsUUFBTUwsU0FBZ0JFLGNBQWhCRixZQUFBQSxFQVpMTSxZQWNRQyxTQUFBQSxpQkFBMEJDLGVBQVMsRUFiM0NsQixjQWNRaUIsU0FBZ0JILGlCQUFVSyxxQkFBUyxFQVozQ2xCLFlBYWdDWSxTQUFDSSxpQkFBd0IscUJBQWEsRUFadEVmLFlBWXVFVyxTQUFBRCxjQUFBLHdCQUFBLEVBVnZFVCxnQkFZZ0JpQixTQUFRTixpQkFBSyxlQUFBLEVBVjdCVixhQVU4RVMsU0FBQUQsY0FBQSxrQkFBQSxFQVQ5RVAsV0FVWVEsU0FBQ0QsY0FBYyxnQkFBV0ssQ0FDdkMsRUFSTVAsaUJBQW1CLFdBRXhCSyxRQUFRRSxpQkFBaUIsUUFBU0MsUUFBUSxFQVkzQ25CLFFBQU1zQixp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WjBCLFFBQVEsQ0FDVCxDQUFDIiwiZmlsZSI6InN0ZXAtbmF2Lm1pbmkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgcGxhblByaWNlc01vID0gWyckOS9tbycsICckMTIvbW8nLCAnJDE1L21vJ11cclxubGV0IHBsYW5QcmljZXNZciA9IFsnJDkwL3lyJywgJyQxMjAveXInLCAnJDE1MC95ciddXHJcbmxldCBhZGRvblByaWNlc01vID0gWyckMS9tbycsICckMi9tbycsICckMi9tbyddXHJcbmxldCBhZGRvblByaWNlc1lyID0gWyckMTAveXInLCAnJDIwL3lyJywgJyQyMC95ciddXHJcblxyXG5sZXQgbmF2U3RlcHNcclxubGV0IG1haW5TdGVwc1xyXG5sZXQgcHJldkJ0blxyXG5sZXQgbmV4dEJ0blxyXG5cclxubGV0IHNlbGVjdGlvbnMgPSB7fVxyXG5cclxubGV0IHN0ZXAxSW5wdXRzXHJcbmxldCBzdGVwMVdhcm5pbmdzXHJcbmxldCBzdGVwMklucHV0c1xyXG5sZXQgc3RlcDJTd2l0Y2hcclxubGV0IHN0ZXAzQ2hlY2tib3hlc1xyXG5sZXQgc3RlcDRTdW1tYXJ5XHJcbmxldCBzdGVwNFRvdGFsXHJcblxyXG5jb25zdCBtYWluID0gKCkgPT4ge1xyXG5cdHByZXBhcmVET01FbGVtZW50cygpXHJcblx0cHJlcGFyZURPTUV2ZW50cygpXHJcbn1cclxuXHJcbmNvbnN0IHByZXBhcmVET01FbGVtZW50cyA9ICgpID0+IHtcclxuXHRuYXZTdGVwcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ25hdiAuc3RlcCBidXR0b24nKVxyXG5cdG1haW5TdGVwcyA9IFtcclxuXHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21haW4gLnN0ZXAtMScpLFxyXG5cdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWFpbiAuc3RlcC0yJyksXHJcblx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtYWluIC5zdGVwLTMnKSxcclxuXHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21haW4gLnN0ZXAtNCcpLFxyXG5cdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWFpbiAuc3RlcC01JyksXHJcblx0XVxyXG5cdHByZXZCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJldi1zdGVwJylcclxuXHRuZXh0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5leHQtc3RlcCcpXHJcblxyXG5cdHN0ZXAxSW5wdXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnN0ZXAtMSBpbnB1dCcpXHJcblx0c3RlcDFXYXJuaW5ncyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdGVwLTEgZGl2Lndhcm5pbmcnKVxyXG5cclxuXHRzdGVwMklucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdGVwLTIgLmlucHV0LXBsYW4nKVxyXG5cdHN0ZXAyU3dpdGNoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN0ZXAtMiAucGVyaW9kLXN3aXRjaCcpXHJcblxyXG5cdHN0ZXAzQ2hlY2tib3hlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdGVwLTMgaW5wdXQnKVxyXG5cclxuXHRzdGVwNFN1bW1hcnkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3RlcC00IC5zdW1tYXJ5JylcclxuXHRzdGVwNFRvdGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN0ZXAtNCAudG90YWwnKVxyXG59XHJcblxyXG5jb25zdCBwcmVwYXJlRE9NRXZlbnRzID0gKCkgPT4ge1xyXG5cdC8vIG5hdlN0ZXBzLmZvckVhY2goc3RlcCA9PiBzdGVwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgbmF2U3RlcFNlbGVjdCkpXHJcblx0bmV4dEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHN0ZXBOZXh0KVxyXG5cdHByZXZCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzdGVwUHJldilcclxuXHRzdGVwMklucHV0cy5mb3JFYWNoKHBsYW4gPT4gcGxhbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHBsYW5TZWxlY3QpKVxyXG5cdHN0ZXAyU3dpdGNoLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBwZXJpb2RTZWxlY3QpXHJcblx0c3RlcDNDaGVja2JveGVzLmZvckVhY2goYWRkb24gPT4gYWRkb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhZGRPblNlbGVjdCkpXHJcblx0c3RlcDRTdW1tYXJ5LnF1ZXJ5U2VsZWN0b3IoJy5jaGFuZ2UnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNoYW5nZVBsYW4pXHJcbn1cclxuXHJcbmNvbnN0IHRlc3QgPSAoKSA9PiB7fVxyXG5cclxuLy9TVEVQIE5BVklHQVRJT04gYW5kIFNUQVJUIEZVTkNTXHJcblxyXG5jb25zdCBjdXJyZW50U3RlcCA9ICgpID0+IHtcclxuXHRmb3IgKGxldCBpID0gMDsgaSA8IG1haW5TdGVwcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0aWYgKG1haW5TdGVwc1tpXS5jbGFzc0xpc3QuY29udGFpbnMoJ2lubmFjdGl2ZScpKSB7XHJcblx0XHR9IGVsc2UgcmV0dXJuIGlcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IGFjdGl2YXRlU3RlcCA9IGZvcndhcmQgPT4ge1xyXG5cdG1haW5TdGVwcy5mb3JFYWNoKG1haW5TdGVwID0+IG1haW5TdGVwLmNsYXNzTGlzdC5hZGQoJ2lubmFjdGl2ZScpKVxyXG5cdG1haW5TdGVwc1tmb3J3YXJkXS5jbGFzc0xpc3QucmVtb3ZlKCdpbm5hY3RpdmUnKVxyXG5cclxuXHRuYXZTdGVwcy5mb3JFYWNoKG5hdlN0ZXAgPT4gbmF2U3RlcC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKSlcclxuXHRpZiAoZm9yd2FyZCA9PSA0KSB7XHJcblx0XHRuYXZTdGVwc1szXS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxyXG5cdH0gZWxzZSB7XHJcblx0XHRuYXZTdGVwc1tmb3J3YXJkXS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxyXG5cdH1cclxuXHJcblx0aWYgKGZvcndhcmQgIT0gMCkge1xyXG5cdFx0cHJldkJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdibGFuaycpXHJcblx0fSBlbHNlIHtcclxuXHRcdHByZXZCdG4uY2xhc3NMaXN0LmFkZCgnYmxhbmsnKVxyXG5cdH1cclxuXHJcblx0aWYgKGZvcndhcmQgPT0gMykge1xyXG5cdFx0bmV4dEJ0bi50ZXh0Q29udGVudCA9ICdDb25maXJtJ1xyXG5cdFx0bmV4dEJ0bi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnaHNsKDI0MywgMTAwJSwgNjIlKSdcclxuXHR9IGVsc2Uge1xyXG5cdFx0bmV4dEJ0bi50ZXh0Q29udGVudCA9ICdOZXh0IHN0ZXAnXHJcblx0XHRuZXh0QnRuLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdoc2woMjEzLCA5NiUsIDE4JSknXHJcblx0fVxyXG5cclxuXHRpZiAoZm9yd2FyZCA9PSA0KSB7XHJcblx0XHRwcmV2QnRuLmNsYXNzTGlzdC5hZGQoJ2JsYW5rJylcclxuXHRcdG5leHRCdG4uY2xhc3NMaXN0LmFkZCgnYmxhbmsnKVxyXG5cdH0gZWxzZSB7XHJcblx0XHRwcmV2QnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2JsYW5rJylcclxuXHRcdG5leHRCdG4uY2xhc3NMaXN0LnJlbW92ZSgnYmxhbmsnKVxyXG5cdH1cclxufVxyXG5cclxuY29uc3Qgc3RlcE5leHQgPSAoKSA9PiB7XHJcblx0aWYgKGlmQ29ycmVjdDEoKSA9PSBmYWxzZSAmJiBjdXJyZW50U3RlcCgpID09IDApIHtcclxuXHRcdGNvbnNvbGUubG9nKCd3YXJ1bmVrIDEgbmllc3BlbG5pb255JylcclxuXHR9IGVsc2Uge1xyXG5cdFx0aWYgKGlmQ29ycmVjdDIoKSA9PSBmYWxzZSAmJiBjdXJyZW50U3RlcCgpID09IDEpIHtcclxuXHRcdFx0Y29uc29sZS5sb2coJ3dhcnVuZWsgMiBuaWVzcGVsbmlvbnknKVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0aWYgKGlmQ29ycmVjdDMoKSA9PSBmYWxzZSAmJiBjdXJyZW50U3RlcCgpID09IDIpIHtcclxuXHRcdFx0XHRjb25zb2xlLmxvZygnd2FydW5layAzIG5pZXNwZWxuaW9ueScpXHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0YWN0aXZhdGVTdGVwKGN1cnJlbnRTdGVwKCkgKyAxKVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59XHJcbmNvbnN0IHN0ZXBQcmV2ID0gKCkgPT4ge1xyXG5cdGlmIChjdXJyZW50U3RlcCgpID4gMCkge1xyXG5cdFx0YWN0aXZhdGVTdGVwKGN1cnJlbnRTdGVwKCkgLSAxKVxyXG5cdH1cclxufVxyXG5cclxuLy8gQ09NTU9OXHJcbmNvbnN0IHdpcGVvdXQgPSAoKSA9PiB7XHJcblx0c3RlcDJTd2l0Y2gucXVlcnlTZWxlY3RvcignaW5wdXQnKS5jaGVja2VkID0gZmFsc2VcclxuXHRzZWxlY3Rpb25zLnBlcmlvZCA9ICdNb250aGx5J1xyXG5cdHN0ZXAzQ2hlY2tib3hlcy5mb3JFYWNoKGNoZWNrYm94ID0+IChjaGVja2JveC5jaGVja2VkID0gZmFsc2UpKVxyXG5cdGRlbGV0ZSBzZWxlY3Rpb25zLmFkZG9uMVxyXG5cdGRlbGV0ZSBzZWxlY3Rpb25zLmFkZG9uMlxyXG5cdGRlbGV0ZSBzZWxlY3Rpb25zLmFkZG9uM1xyXG59XHJcbmNvbnN0IGFkZEFjdGl2ZSA9IGlucHV0ID0+IHtcclxuXHRpbnB1dC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxyXG59XHJcbmNvbnN0IHJlbW92ZUFjdGl2ZSA9IGlucHV0ID0+IHtcclxuXHRpbnB1dC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG59XHJcblxyXG4vLyAxIFNURVBcclxuXHJcbmNvbnN0IGlmQ29ycmVjdDEgPSAoKSA9PiB7XHJcblx0bGV0IHdyb25nSW5wdXRzID0gMFxyXG5cdGZvciAobGV0IGkgPSAwOyBpIDwgc3RlcDFJbnB1dHMubGVuZ3RoOyBpKyspIHtcclxuXHRcdGlmIChzdGVwMUlucHV0c1tpXS52YWx1ZS50cmltKCkubGVuZ3RoID09IDApIHtcclxuXHRcdFx0c3RlcDFXYXJuaW5nc1tpXS5jbGFzc0xpc3QucmVtb3ZlKCdpbm5hY3RpdmUnKVxyXG5cdFx0XHRzdGVwMUlucHV0c1tpXS5jbGFzc0xpc3QuYWRkKCd3YXJuaW5nJylcclxuXHRcdFx0d3JvbmdJbnB1dHMrK1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0c3RlcDFXYXJuaW5nc1tpXS5jbGFzc0xpc3QuYWRkKCdpbm5hY3RpdmUnKVxyXG5cdFx0XHRzdGVwMUlucHV0c1tpXS5jbGFzc0xpc3QucmVtb3ZlKCd3YXJuaW5nJylcclxuXHRcdH1cclxuXHR9XHJcblx0aWYgKHdyb25nSW5wdXRzID09IDApIHtcclxuXHRcdHJldHVybiB0cnVlXHJcblx0fSBlbHNlIHJldHVybiBmYWxzZVxyXG59XHJcblxyXG4vLyAyIFNURVBcclxuXHJcbmNvbnN0IHBsYW5TZWxlY3QgPSBlID0+IHtcclxuXHRzdGVwMklucHV0cy5mb3JFYWNoKGlucHV0ID0+IHJlbW92ZUFjdGl2ZShpbnB1dCkpXHJcblx0bGV0IGlucHV0UGxhbiA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5pbnB1dC1wbGFuJylcclxuXHRhZGRBY3RpdmUoaW5wdXRQbGFuKVxyXG5cdGxldCBwbGFuTmFtZSA9IGlucHV0UGxhbi5xdWVyeVNlbGVjdG9yKCdoMicpLnRleHRDb250ZW50XHJcblx0c2VsZWN0aW9ucy5wbGFuID0gcGxhbk5hbWVcclxuXHRjb25zb2xlLmxvZyhzZWxlY3Rpb25zKVxyXG59XHJcblxyXG5jb25zdCBwZXJpb2RTZWxlY3QgPSAoKSA9PiB7XHJcblx0aWYgKHN0ZXAyU3dpdGNoLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JykuY2hlY2tlZCkge1xyXG5cdFx0c2VsZWN0aW9ucy5wZXJpb2QgPSAnWWVhcmx5J1xyXG5cdFx0c3RlcDJTd2l0Y2gucXVlcnlTZWxlY3RvckFsbCgnZGl2JylbMl0uY2xhc3NMaXN0LnRvZ2dsZSgnc2VsZWN0ZWQnKVxyXG5cdFx0c3RlcDJTd2l0Y2gucXVlcnlTZWxlY3RvckFsbCgnZGl2JylbMF0uY2xhc3NMaXN0LnRvZ2dsZSgnc2VsZWN0ZWQnKVxyXG5cclxuXHRcdC8vIHN0ZXAySW5wdXRzWzBdLnF1ZXJ5U2VsZWN0b3JBbGwoJ2RpdiBwJylbMF0udGV4dENvbnRlbnQgPSAnJDkwL3lyJ1xyXG5cdFx0c3RlcDJJbnB1dHNbMF0ucXVlcnlTZWxlY3RvckFsbCgnZGl2IHAnKVswXS50ZXh0Q29udGVudCA9IHBsYW5QcmljZXNZclswXVxyXG5cdFx0c3RlcDJJbnB1dHNbMV0ucXVlcnlTZWxlY3RvckFsbCgnZGl2IHAnKVswXS50ZXh0Q29udGVudCA9IHBsYW5QcmljZXNZclsxXVxyXG5cdFx0c3RlcDJJbnB1dHNbMl0ucXVlcnlTZWxlY3RvckFsbCgnZGl2IHAnKVswXS50ZXh0Q29udGVudCA9IHBsYW5QcmljZXNZclsyXVxyXG5cclxuXHRcdHN0ZXAySW5wdXRzLmZvckVhY2goaW5wdXQgPT4gKGlucHV0LnF1ZXJ5U2VsZWN0b3IoJy5ib251cycpLnN0eWxlLmRpc3BsYXkgPSAnZmxleCcpKVxyXG5cclxuXHRcdHN0ZXAzQ2hlY2tib3hlc1swXS5jbG9zZXN0KCcuaW5wdXQtYWRkb24nKS5xdWVyeVNlbGVjdG9yKCcucHJpY2UnKS50ZXh0Q29udGVudCA9ICcrICcgKyBhZGRvblByaWNlc1lyWzBdXHJcblx0XHRzdGVwM0NoZWNrYm94ZXNbMV0uY2xvc2VzdCgnLmlucHV0LWFkZG9uJykucXVlcnlTZWxlY3RvcignLnByaWNlJykudGV4dENvbnRlbnQgPSAnKyAnICsgYWRkb25QcmljZXNZclsxXVxyXG5cdFx0c3RlcDNDaGVja2JveGVzWzJdLmNsb3Nlc3QoJy5pbnB1dC1hZGRvbicpLnF1ZXJ5U2VsZWN0b3IoJy5wcmljZScpLnRleHRDb250ZW50ID0gJysgJyArIGFkZG9uUHJpY2VzWXJbMl1cclxuXHR9IGVsc2Uge1xyXG5cdFx0c2VsZWN0aW9ucy5wZXJpb2QgPSAnTW9udGhseSdcclxuXHRcdHN0ZXAyU3dpdGNoLnF1ZXJ5U2VsZWN0b3JBbGwoJ2RpdicpWzJdLmNsYXNzTGlzdC50b2dnbGUoJ3NlbGVjdGVkJylcclxuXHRcdHN0ZXAyU3dpdGNoLnF1ZXJ5U2VsZWN0b3JBbGwoJ2RpdicpWzBdLmNsYXNzTGlzdC50b2dnbGUoJ3NlbGVjdGVkJylcclxuXHJcblx0XHRzdGVwMklucHV0c1swXS5xdWVyeVNlbGVjdG9yQWxsKCdkaXYgcCcpWzBdLnRleHRDb250ZW50ID0gcGxhblByaWNlc01vWzBdXHJcblx0XHRzdGVwMklucHV0c1sxXS5xdWVyeVNlbGVjdG9yQWxsKCdkaXYgcCcpWzBdLnRleHRDb250ZW50ID0gcGxhblByaWNlc01vWzFdXHJcblx0XHRzdGVwMklucHV0c1syXS5xdWVyeVNlbGVjdG9yQWxsKCdkaXYgcCcpWzBdLnRleHRDb250ZW50ID0gcGxhblByaWNlc01vWzJdXHJcblxyXG5cdFx0c3RlcDJJbnB1dHMuZm9yRWFjaChpbnB1dCA9PiAoaW5wdXQucXVlcnlTZWxlY3RvcignLmJvbnVzJykuc3R5bGUuZGlzcGxheSA9ICdub25lJykpXHJcblxyXG5cdFx0c3RlcDNDaGVja2JveGVzWzBdLmNsb3Nlc3QoJy5pbnB1dC1hZGRvbicpLnF1ZXJ5U2VsZWN0b3IoJy5wcmljZScpLnRleHRDb250ZW50ID0gJysgJyArIGFkZG9uUHJpY2VzTW9bMF1cclxuXHRcdHN0ZXAzQ2hlY2tib3hlc1sxXS5jbG9zZXN0KCcuaW5wdXQtYWRkb24nKS5xdWVyeVNlbGVjdG9yKCcucHJpY2UnKS50ZXh0Q29udGVudCA9ICcrICcgKyBhZGRvblByaWNlc01vWzFdXHJcblx0XHRzdGVwM0NoZWNrYm94ZXNbMl0uY2xvc2VzdCgnLmlucHV0LWFkZG9uJykucXVlcnlTZWxlY3RvcignLnByaWNlJykudGV4dENvbnRlbnQgPSAnKyAnICsgYWRkb25QcmljZXNNb1syXVxyXG5cdH1cclxuXHRjb25zb2xlLmxvZyhzZWxlY3Rpb25zKVxyXG59XHJcblxyXG5jb25zdCBpZkNvcnJlY3QyID0gKCkgPT4ge1xyXG5cdGlmIChzZWxlY3Rpb25zLnBsYW4gPT09IHVuZGVmaW5lZCB8fCBzZWxlY3Rpb25zLnBlcmlvZCA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRyZXR1cm4gZmFsc2VcclxuXHR9IGVsc2Uge1xyXG5cdFx0c3VtVXAoKVxyXG5cdFx0cmV0dXJuIHRydWVcclxuXHR9XHJcbn1cclxuXHJcbi8vIDMgU1RFUFxyXG5cclxuY29uc3QgYWRkT25TZWxlY3QgPSBlID0+IHtcclxuXHQvLyBjb25zb2xlLmxvZyhlLnRhcmdldCk7XHJcblxyXG5cdGlmIChzdGVwM0NoZWNrYm94ZXNbMF0uY2hlY2tlZCA9PSB0cnVlKSB7XHJcblx0XHRzZWxlY3Rpb25zLmFkZG9uMSA9ICdPbmxpbmUgc2VydmljZXMnXHJcblx0XHRzdGVwM0NoZWNrYm94ZXNbMF0uY2xvc2VzdCgnLmlucHV0LWFkZG9uJykuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuXHR9IGVsc2Uge1xyXG5cdFx0ZGVsZXRlIHNlbGVjdGlvbnMuYWRkb24xXHJcblx0XHRzdGVwM0NoZWNrYm94ZXNbMF0uY2xvc2VzdCgnLmlucHV0LWFkZG9uJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuXHR9XHJcblx0aWYgKHN0ZXAzQ2hlY2tib3hlc1sxXS5jaGVja2VkID09IHRydWUpIHtcclxuXHRcdHNlbGVjdGlvbnMuYWRkb24yID0gJ0xhcmdlciBzdG9yYWdlJ1xyXG5cdFx0c3RlcDNDaGVja2JveGVzWzFdLmNsb3Nlc3QoJy5pbnB1dC1hZGRvbicpLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcblx0fSBlbHNlIHtcclxuXHRcdGRlbGV0ZSBzZWxlY3Rpb25zLmFkZG9uMlxyXG5cdFx0c3RlcDNDaGVja2JveGVzWzFdLmNsb3Nlc3QoJy5pbnB1dC1hZGRvbicpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcblx0fVxyXG5cdGlmIChzdGVwM0NoZWNrYm94ZXNbMl0uY2hlY2tlZCA9PSB0cnVlKSB7XHJcblx0XHRzZWxlY3Rpb25zLmFkZG9uMyA9ICdDdXN0b21pemFibGUgcHJvZmlsZSdcclxuXHRcdHN0ZXAzQ2hlY2tib3hlc1syXS5jbG9zZXN0KCcuaW5wdXQtYWRkb24nKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxyXG5cdH0gZWxzZSB7XHJcblx0XHRkZWxldGUgc2VsZWN0aW9ucy5hZGRvbjNcclxuXHRcdHN0ZXAzQ2hlY2tib3hlc1syXS5jbG9zZXN0KCcuaW5wdXQtYWRkb24nKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG5cdH1cclxuXHRjb25zb2xlLmxvZyhzZWxlY3Rpb25zKVxyXG59XHJcblxyXG5jb25zdCBpZkNvcnJlY3QzID0gKCkgPT4ge1xyXG5cdHJldHVybiB0cnVlXHJcbn1cclxuLy8gNCBTVEVQXHJcblxyXG5jb25zdCBzdW1VcCA9ICgpID0+IHtcclxuXHRsZXQgcGxhblByaWNlc1xyXG5cdGxldCBwbGFuUHJpY2VcclxuXHRsZXQgYWRkb25QcmljZXNcclxuXHRsZXQgcGVyaW9kU2hvcnRjdXRcclxuXHRpZiAoc2VsZWN0aW9ucy5wZXJpb2QgPT0gJ1llYXJseScpIHtcclxuXHRcdHBsYW5QcmljZXMgPSBwbGFuUHJpY2VzWXJcclxuXHRcdGFkZG9uUHJpY2VzID0gYWRkb25QcmljZXNZclxyXG5cdFx0cGVyaW9kU2hvcnRjdXQgPSAneXInXHJcblx0fSBlbHNlIHtcclxuXHRcdHBsYW5QcmljZXMgPSBwbGFuUHJpY2VzTW9cclxuXHRcdGFkZG9uUHJpY2VzID0gYWRkb25QcmljZXNNb1xyXG5cdFx0cGVyaW9kU2hvcnRjdXQgPSAnbW8nXHJcblx0fVxyXG5cdGlmIChzZWxlY3Rpb25zLnBsYW4gPT09ICdBcmNhZGUnKSB7XHJcblx0XHRwbGFuUHJpY2UgPSBwbGFuUHJpY2VzWzBdXHJcblx0fVxyXG5cdGlmIChzZWxlY3Rpb25zLnBsYW4gPT09ICdBZHZhbmNlZCcpIHtcclxuXHRcdHBsYW5QcmljZSA9IHBsYW5QcmljZXNbMV1cclxuXHR9XHJcblx0aWYgKHNlbGVjdGlvbnMucGxhbiA9PT0gJ1BybycpIHtcclxuXHRcdHBsYW5QcmljZSA9IHBsYW5QcmljZXNbMl1cclxuXHR9XHJcblx0bGV0IHNlbGVjdGVkUGxhbiA9IHN0ZXA0U3VtbWFyeS5xdWVyeVNlbGVjdG9yKCdoMicpXHJcblx0c2VsZWN0ZWRQbGFuLnRleHRDb250ZW50ID0gc2VsZWN0aW9ucy5wbGFuICsgJyAoJyArIHNlbGVjdGlvbnMucGVyaW9kICsgJyknXHJcblx0c3RlcDRTdW1tYXJ5LnF1ZXJ5U2VsZWN0b3IoJy5wbGFuLXByaWNlJykudGV4dENvbnRlbnQgPSBwbGFuUHJpY2VcclxuXHRsZXQgdG90YWxDb3N0ID0gTnVtYmVyKHBsYW5QcmljZS5zbGljZSgxLCAtMykpXHJcblxyXG5cdGxldCBhZGRvbjEgPSBzdGVwNFN1bW1hcnkucXVlcnlTZWxlY3RvcignLmFkZG9uMScpXHJcblx0bGV0IGFkZG9uMiA9IHN0ZXA0U3VtbWFyeS5xdWVyeVNlbGVjdG9yKCcuYWRkb24yJylcclxuXHRsZXQgYWRkb24zID0gc3RlcDRTdW1tYXJ5LnF1ZXJ5U2VsZWN0b3IoJy5hZGRvbjMnKVxyXG5cdGxldCBhZGRvbnMgPSBbYWRkb24xLCBhZGRvbjIsIGFkZG9uM11cclxuXHRhZGRvbnMuZm9yRWFjaChhZGRvbiA9PiBhZGRvbi5jbGFzc0xpc3QuYWRkKCdpbm5hY3RpdmUnKSlcclxuXHJcblx0aWYgKHNlbGVjdGlvbnMuYWRkb24xICE9IHVuZGVmaW5lZCkge1xyXG5cdFx0YWRkb24xLmNsYXNzTGlzdC5yZW1vdmUoJ2lubmFjdGl2ZScpXHJcblx0XHRhZGRvbjEucXVlcnlTZWxlY3RvcignLmFkZG9uLXByaWNlJykudGV4dENvbnRlbnQgPSAnKycgKyBhZGRvblByaWNlc1swXVxyXG5cdFx0dG90YWxDb3N0ID0gdG90YWxDb3N0ICsgTnVtYmVyKGFkZG9uUHJpY2VzWzBdLnNsaWNlKDEsIC0zKSlcclxuXHR9XHJcblx0aWYgKHNlbGVjdGlvbnMuYWRkb24yICE9IHVuZGVmaW5lZCkge1xyXG5cdFx0YWRkb24yLmNsYXNzTGlzdC5yZW1vdmUoJ2lubmFjdGl2ZScpXHJcblx0XHRhZGRvbjIucXVlcnlTZWxlY3RvcignLmFkZG9uLXByaWNlJykudGV4dENvbnRlbnQgPSAnKycgKyBhZGRvblByaWNlc1sxXVxyXG5cdFx0dG90YWxDb3N0ID0gdG90YWxDb3N0ICsgTnVtYmVyKGFkZG9uUHJpY2VzWzFdLnNsaWNlKDEsIC0zKSlcclxuXHR9XHJcblx0aWYgKHNlbGVjdGlvbnMuYWRkb24zICE9IHVuZGVmaW5lZCkge1xyXG5cdFx0YWRkb24zLmNsYXNzTGlzdC5yZW1vdmUoJ2lubmFjdGl2ZScpXHJcblx0XHRhZGRvbjMucXVlcnlTZWxlY3RvcignLmFkZG9uLXByaWNlJykudGV4dENvbnRlbnQgPSAnKycgKyBhZGRvblByaWNlc1syXVxyXG5cdFx0dG90YWxDb3N0ID0gdG90YWxDb3N0ICsgTnVtYmVyKGFkZG9uUHJpY2VzWzJdLnNsaWNlKDEsIC0zKSlcclxuXHR9XHJcblxyXG5cdHN0ZXA0VG90YWwucXVlcnlTZWxlY3RvcignZGl2JykudGV4dENvbnRlbnQgPSAnVG90YWwgKHBlciAnICsgc2VsZWN0aW9ucy5wZXJpb2Quc2xpY2UoMCwgLTIpICsgJyknXHJcblx0c3RlcDRUb3RhbC5xdWVyeVNlbGVjdG9yKCcudG90YWwtcHJpY2UnKS50ZXh0Q29udGVudCA9ICckJyArIHRvdGFsQ29zdCArICcvJyArIHBlcmlvZFNob3J0Y3V0XHJcbn1cclxuXHJcbmNvbnN0IGNoYW5nZVBsYW4gPSAoKSA9PiB7XHJcblx0YWN0aXZhdGVTdGVwKDEpXHJcbn1cclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7XHJcblx0bWFpbigpXHJcblx0dGVzdCgpXHJcblx0Y3VycmVudFN0ZXAoKVxyXG5cdHdpcGVvdXQoKVxyXG59KVxyXG4iXX0=
